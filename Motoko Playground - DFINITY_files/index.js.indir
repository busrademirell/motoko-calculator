/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={5506:(e,t,r)=>{"use strict";var n;r.d(t,{R:()=>n}),function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"}(n||(n={}))},6072:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(7857);class i extends n.Yv{constructor(e,t){super(e),this.response=t,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}},2649:(e,t,r)=>{"use strict";r.d(t,{MM:()=>h.MM,qB:()=>be,WB:()=>pe,sR:()=>me,GZ:()=>ge,BY:()=>ue,Z3:()=>h.Z3,mY:()=>h.mY,o2:()=>p.o,s8:()=>h.s8});var n,i,o,s,a=r(2336),c=r(7857),u=r(508),f=r(8358),l=r(4141),d=r(2338),h=r(8218),p=r(3174),g=r(6072),y=r(9438),m=r(3151),b=r(610),w=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},A=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class v{constructor(e={}){n.set(this,void 0),i.set(this,void 0),this[o]=this.entries.bind(this),this[s]="ExpirableMap";const{source:t=[],expirationTime:r=6e5}=e,a=Date.now();w(this,n,new Map([...t].map((([e,t])=>[e,{value:t,timestamp:a}]))),"f"),w(this,i,r,"f")}prune(){const e=Date.now();for(const[t,r]of A(this,n,"f").entries())e-r.timestamp>A(this,i,"f")&&A(this,n,"f").delete(t);return this}set(e,t){this.prune();const r={value:t,timestamp:Date.now()};return A(this,n,"f").set(e,r),this}get(e){const t=A(this,n,"f").get(e);if(void 0!==t){if(!(Date.now()-t.timestamp>A(this,i,"f")))return t.value;A(this,n,"f").delete(e)}}clear(){A(this,n,"f").clear()}entries(){const e=A(this,n,"f").entries();return function*(){for(const[t,r]of e)yield[t,r.value]}()}values(){const e=A(this,n,"f").values();return function*(){for(const t of e)yield t.value}()}keys(){return A(this,n,"f").keys()}forEach(e,t){for(const[r,i]of A(this,n,"f").entries())e.call(t,i.value,r,this)}has(e){return A(this,n,"f").has(e)}delete(e){return A(this,n,"f").delete(e)}get size(){return A(this,n,"f").size}}n=new WeakMap,i=new WeakMap,o=Symbol.iterator,s=Symbol.toStringTag;var E=r(5499),_=r(9345);class B{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}notify(e,...t){this.observers.forEach((r=>r(e,...t)))}}class I extends B{constructor(){super()}print(e,...t){this.notify({message:e,level:"info"},...t)}warn(e,...t){this.notify({message:e,level:"warn"},...t)}error(e,t,...r){this.notify({message:e,level:"error",error:t},...r)}}var x,T,C,S,O,N,R,k,U,P=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},L=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};const j=.5,D=1.5,F=500,M=6e4,q=9e5,$=10;class V{constructor(e=V.default){x.set(this,void 0),T.set(this,void 0),C.set(this,void 0),S.set(this,void 0),O.set(this,void 0),N.set(this,void 0),R.set(this,void 0),k.set(this,void 0),U.set(this,0);const{initialInterval:t=F,randomizationFactor:r=j,multiplier:n=D,maxInterval:i=M,maxElapsedTime:o=q,maxIterations:s=$,date:a=Date}=e;P(this,x,t,"f"),P(this,T,r,"f"),P(this,C,n,"f"),P(this,S,i,"f"),P(this,k,a,"f"),P(this,O,a.now(),"f"),P(this,N,o,"f"),P(this,R,s,"f")}get ellapsedTimeInMsec(){return L(this,k,"f").now()-L(this,O,"f")}get currentInterval(){return L(this,x,"f")}get count(){return L(this,U,"f")}get randomValueFromInterval(){const e=L(this,T,"f")*L(this,x,"f"),t=L(this,x,"f")-e,r=L(this,x,"f")+e;return Math.random()*(r-t)+t}incrementCurrentInterval(){var e;return P(this,x,Math.min(L(this,x,"f")*L(this,C,"f"),L(this,S,"f")),"f"),P(this,U,(e=L(this,U,"f"),++e),"f"),L(this,x,"f")}next(){return this.ellapsedTimeInMsec>=L(this,N,"f")||L(this,U,"f")>=L(this,R,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}x=new WeakMap,T=new WeakMap,C=new WeakMap,S=new WeakMap,O=new WeakMap,N=new WeakMap,R=new WeakMap,k=new WeakMap,U=new WeakMap,V.default={initialInterval:F,randomizationFactor:j,multiplier:D,maxInterval:M,maxElapsedTime:q,maxIterations:$,date:Date};var z,G,H,W,K,Y,Z,J,X,Q,ee,te,re,ne,ie,oe,se,ae,ce,ue,fe=r(2373),le=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},de=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};!function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"}(ue||(ue={}));const he=6e4,pe="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",ge="aaaaa-aa";class ye extends c.Yv{constructor(e){super(e),this.message=e}}class me extends c.Yv{constructor(e){super(e),this.message=e}}class be{constructor(e={}){var t;z.add(this),G.set(this,void 0),H.set(this,void 0),W.set(this,void 0),K.set(this,void 0),Y.set(this,0),Z.set(this,void 0),J.set(this,!1),X.set(this,void 0),Q.set(this,void 0),ee.set(this,void 0),this._isAgent=!0,this.config={},te.set(this,0),this.log=new I,re.set(this,[]),ne.set(this,[]),ie.set(this,new v({expirationTime:3e5})),oe.set(this,!0),ce.set(this,((e,t)=>{if(!1===de(this,oe,"f"))return e;if(!t)throw new m.bK("Invalid signature from replica signed query: no matching node key found.");const{status:r,signatures:n=[],requestId:i}=e,o=(new TextEncoder).encode("\vic-response");for(const s of n){const{timestamp:n,identity:c}=s,u=a.Principal.fromUint8Array(c).toText();let f;if("replied"===r){const{reply:t}=e;f=(0,l.uF)({status:r,reply:t,timestamp:BigInt(n),request_id:i})}else{if("rejected"!==r)throw new Error(`Unknown status: ${r}`);{const{reject_code:t,reject_message:o,error_code:s}=e;f=(0,l.uF)({status:r,reject_code:t,reject_message:o,error_code:s,timestamp:BigInt(n),request_id:i})}}const h=(0,d.xW)(o,new Uint8Array(f)),p=null==t?void 0:t.nodeKeys.get(u);if(!p)throw new m.bK("Invalid signature from replica signed query: no matching node key found.");const g=E.G.fromDer(p).rawKey;if(b.ev.verify(s.signature,new Uint8Array(h),new Uint8Array(g)))return e;throw new m.bK(`Invalid signature from replica ${u} signed query.`)}return e})),this.config=e,le(this,H,e.fetch||function(){let e;if("undefined"!=typeof window){if(!window.fetch)throw new ye("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");e=window.fetch.bind(window)}else if(void 0!==r.g){if(!r.g.fetch)throw new ye("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");e=r.g.fetch.bind(r.g)}else"undefined"!=typeof self&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new ye("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}()||fetch.bind(r.g),"f"),le(this,W,e.fetchOptions,"f"),le(this,K,e.callOptions,"f"),this.rootKey=e.rootKey?e.rootKey:(0,d.aD)(pe);const n=function(e){let t;if(void 0!==e)t=e.match(/^[a-z]+:/)||"undefined"==typeof window?new URL(e):new URL(window.location.protocol+"//"+e);else{const e=["ic0.app","icp0.io","127.0.0.1","localhost"],r=[".github.dev",".gitpod.io"],n="undefined"!=typeof window?window.location:void 0,i=null==n?void 0:n.hostname;let o;i&&"string"==typeof i&&(o=r.some((e=>i.endsWith(e)))?i:e.find((e=>i.endsWith(e)))),t=n&&o?new URL(`${n.protocol}//${o}${n.port?":"+n.port:""}`):new URL("https://icp-api.io")}return t.toString()}(e.host);this.host=new URL(n),void 0!==e.verifyQuerySignatures&&le(this,oe,e.verifyQuerySignatures,"f"),le(this,X,null!==(t=e.retryTimes)&&void 0!==t?t:3,"f");if(le(this,Q,e.backoffStrategy||(()=>new V({maxIterations:de(this,X,"f")})),"f"),this.host.hostname.endsWith(".ic0.app")?this.host.hostname="ic0.app":this.host.hostname.endsWith(".icp0.io")?this.host.hostname="icp0.io":this.host.hostname.endsWith(".icp-api.io")&&(this.host.hostname="icp-api.io"),e.credentials){const{name:t,password:r}=e.credentials;le(this,Z,`${t}${r?":"+r:""}`,"f")}if(le(this,G,Promise.resolve(e.identity||new u.mC),"f"),e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes>5)throw new c.Yv(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);if(e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes<=0)throw new c.Yv(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);le(this,ee,e.ingressExpiryInMinutes||5,"f"),this.addTransform("update",(0,h.s8)(p.o)),e.useQueryNonces&&this.addTransform("query",(0,h.s8)(p.o)),e.logToConsole&&this.log.subscribe((e=>{"error"===e.level?console.error(e.message):"warn"===e.level?console.warn(e.message):console.log(e.message)}))}get waterMark(){return de(this,te,"f")}static createSync(e={}){return new this(Object.assign({},e))}static async create(e={shouldFetchRootKey:!1}){const t=be.createSync(e),r=[t.syncTime()];return"https://icp-api.io"!==t.host.toString()&&e.shouldFetchRootKey&&r.push(t.fetchRootKey()),await Promise.all(r),t}static async from(e){var t;try{return"config"in e?await be.create(e.config):await be.create({fetch:e._fetch,fetchOptions:e._fetchOptions,callOptions:e._callOptions,host:e._host.toString(),identity:null!==(t=e._identity)&&void 0!==t?t:void 0})}catch(e){throw new c.Yv("Failed to create agent from provided agent")}}isLocal(){const e=this.host.hostname;return"127.0.0.1"===e||e.endsWith("127.0.0.1")}addTransform(e,t,r=t.priority||0){if("update"===e){const e=de(this,ne,"f").findIndex((e=>(e.priority||0)<r));de(this,ne,"f").splice(e>=0?e:de(this,ne,"f").length,0,Object.assign(t,{priority:r}))}else if("query"===e){const e=de(this,re,"f").findIndex((e=>(e.priority||0)<r));de(this,re,"f").splice(e>=0?e:de(this,re,"f").length,0,Object.assign(t,{priority:r}))}}async getPrincipal(){if(!de(this,G,"f"))throw new me("This identity has expired due this application's security policy. Please refresh your authentication.");return(await de(this,G,"f")).getPrincipal()}async call(e,t,r){var n;const i=null===(n=t.callSync)||void 0===n||n,o=await(void 0!==r?await r:await de(this,G,"f"));if(!o)throw new me("This identity has expired due this application's security policy. Please refresh your authentication.");const s=a.Principal.from(e),c=t.effectiveCanisterId?a.Principal.from(t.effectiveCanisterId):s,u=o.getPrincipal()||a.Principal.anonymous();let d=new h.MM(de(this,ee,"f")*he);Math.abs(de(this,Y,"f"))>3e4&&(d=new h.MM(de(this,ee,"f")*he+de(this,Y,"f")));const g={request_type:p.q.Call,canister_id:s,method_name:t.methodName,arg:t.arg,sender:u,ingress_expiry:d};let y=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},de(this,Z,"f")?{Authorization:"Basic "+btoa(de(this,Z,"f"))}:{})},endpoint:"call",body:g});const m=y.body.nonce?(b=y.body.nonce,new Uint8Array(b)):void 0;var b;g.nonce=m,y=await o.transformRequest(y);const w=f.encode(y.body),A=de(this,Q,"f").call(this);try{const e=()=>(this.log.print(`fetching "/api/v3/canister/${c.toText()}/call" with request:`,y),de(this,H,"f").call(this,""+new URL(`/api/v3/canister/${c.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},de(this,K,"f")),y.request),{body:w}))),t=()=>(this.log.print(`fetching "/api/v2/canister/${c.toText()}/call" with request:`,y),de(this,H,"f").call(this,""+new URL(`/api/v2/canister/${c.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},de(this,K,"f")),y.request),{body:w}))),r=de(this,z,"m",ae).call(this,{request:i?e:t,backoff:A,tries:0}),[n,o]=await Promise.all([r,(0,l.Gb)(g)]),s=await n.arrayBuffer(),a=200===n.status&&s.byteLength>0?f.decode(s):null;if(a&&"certificate"in a){const e=await this.parseTimeFromResponse({certificate:a.certificate});le(this,te,e,"f")}return{requestId:o,response:{ok:n.ok,status:n.status,statusText:n.statusText,body:a,headers:(0,h.Z3)(n.headers)},requestDetails:g}}catch(n){if(n.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(e,Object.assign(Object.assign({},t),{callSync:!1}),r);throw this.log.error("Error while making call:",n),n}}async query(e,t,r){const n=de(this,Q,"f").call(this),i=t.effectiveCanisterId?a.Principal.from(t.effectiveCanisterId):a.Principal.from(e);this.log.print(`ecid ${i.toString()}`),this.log.print(`canisterId ${e.toString()}`);const[o,s]=await Promise.all([(async()=>{const o=await(void 0!==r?r:de(this,G,"f"));if(!o)throw new me("This identity has expired due this application's security policy. Please refresh your authentication.");const s=a.Principal.from(e),c=(null==o?void 0:o.getPrincipal())||a.Principal.anonymous(),u={request_type:"query",canister_id:s,method_name:t.methodName,arg:t.arg,sender:c,ingress_expiry:new h.MM(de(this,ee,"f")*he)},d=await(0,l.Gb)(u);let p=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},de(this,Z,"f")?{Authorization:"Basic "+btoa(de(this,Z,"f"))}:{})},endpoint:"read",body:u});p=await(null==o?void 0:o.transformRequest(p));const g=f.encode(p.body),y={canister:s.toText(),ecid:i,transformedRequest:p,body:g,requestId:d,backoff:n,tries:0};return{requestDetails:u,query:await de(this,z,"m",se).call(this,y)}})(),(async()=>{if(!de(this,oe,"f"))return;const e=de(this,ie,"f").get(i.toString());return e||(await this.fetchSubnetKeys(i.toString()),de(this,ie,"f").get(i.toString()))})()]),{requestDetails:c,query:u}=o,d=Object.assign(Object.assign({},u),{requestDetails:c});if(this.log.print("Query response:",d),!de(this,oe,"f"))return d;try{return de(this,ce,"f").call(this,d,s)}catch(t){this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),de(this,ie,"f").delete(e.toString()),await this.fetchSubnetKeys(i.toString());const r=de(this,ie,"f").get(e.toString());if(!r)throw new m.bK("Invalid signature from replica signed query: no matching node key found.");return de(this,ce,"f").call(this,d,r)}}async createReadStateRequest(e,t){const r=await(void 0!==t?await t:await de(this,G,"f"));if(!r)throw new me("This identity has expired due this application's security policy. Please refresh your authentication.");const n=(null==r?void 0:r.getPrincipal())||a.Principal.anonymous(),i=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},de(this,Z,"f")?{Authorization:"Basic "+btoa(de(this,Z,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:e.paths,sender:n,ingress_expiry:new h.MM(de(this,ee,"f")*he)}});return null==r?void 0:r.transformRequest(i)}async readState(e,t,r,n){const i="string"==typeof e?a.Principal.fromText(e):e,o=null!=n?n:await this.createReadStateRequest(t,r),s=Object.assign(Object.assign({},o.body),{ingress_expiry:new h.MM(fe.j)}),c=f.encode(s);this.log.print(`fetching "/api/v2/canister/${i}/read_state" with request:`,o);const u=de(this,Q,"f").call(this);try{const e=await de(this,z,"m",ae).call(this,{request:()=>de(this,H,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},de(this,W,"f")),o.request),{body:c})),backoff:u,tries:0});if(!e.ok)throw new Error(`Server returned an error:\n  Code: ${e.status} (${e.statusText})\n  Body: ${await e.text()}\n`);const t=f.decode(await e.arrayBuffer());this.log.print("Read state response:",t);const r=await this.parseTimeFromResponse(t);return r>0&&(this.log.print("Read state response time:",r),le(this,te,r,"f")),t}catch(e){throw this.log.error("Caught exception while attempting to read state",e),e}}async parseTimeFromResponse(e){let t;if(e.certificate){const r=f.decode(e.certificate);if(!r||!("tree"in r))throw new Error("Could not decode time from response");t=r.tree;const n=(0,m.hV)(["time"],t);if(n.status!==m.hi.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(n.value instanceof ArrayBuffer||ArrayBuffer.isView(n)))throw new Error("Time was not found in the response or was not in its expected format.");const i=(0,_.A)((0,d.em)(n.value));return this.log.print("Time from response:",i),this.log.print("Time from response in milliseconds:",Number(i)),Number(i)}return this.log.warn("No certificate found in response"),0}async syncTime(e){const t=await Promise.resolve().then(r.bind(r,9438)),n=Date.now();try{e||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const r=(await t.request({canisterId:null!=e?e:a.Principal.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:this,paths:["time"]})).get("time");r&&le(this,Y,Number(r)-Number(n),"f")}catch(e){this.log.error("Caught exception while attempting to sync time",e)}}async status(){const e=de(this,Z,"f")?{Authorization:"Basic "+btoa(de(this,Z,"f"))}:{};this.log.print('fetching "/api/v2/status"');const t=de(this,Q,"f").call(this),r=await de(this,z,"m",ae).call(this,{backoff:t,request:()=>de(this,H,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:e},de(this,W,"f"))),tries:0});return f.decode(await r.arrayBuffer())}async fetchRootKey(){if(!de(this,J,"f")){const e=await this.status();this.rootKey=e.root_key,le(this,J,!0,"f")}return this.rootKey}invalidateIdentity(){le(this,G,null,"f")}replaceIdentity(e){le(this,G,Promise.resolve(e),"f")}async fetchSubnetKeys(e){const t=a.Principal.from(e),r=(await(0,y.request)({canisterId:t,paths:["subnet"],agent:this})).get("subnet");if(r&&"object"==typeof r&&"nodeKeys"in r)return de(this,ie,"f").set(t.toText(),r),r}_transform(e){let t=Promise.resolve(e);if("call"===e.endpoint)for(const e of de(this,ne,"f"))t=t.then((t=>e(t).then((e=>e||t))));else for(const e of de(this,re,"f"))t=t.then((t=>e(t).then((e=>e||t))));return t}}G=new WeakMap,H=new WeakMap,W=new WeakMap,K=new WeakMap,Y=new WeakMap,Z=new WeakMap,J=new WeakMap,X=new WeakMap,Q=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ne=new WeakMap,ie=new WeakMap,oe=new WeakMap,ce=new WeakMap,z=new WeakSet,se=async function e(t){var r,n;const{ecid:i,transformedRequest:o,body:s,requestId:a,backoff:u,tries:l}=t,d=0===l?0:u.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:l,backoff:u,delay:d}),null===d)throw new c.Yv(`Timestamp failed to pass the watermark after retrying the configured ${de(this,X,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);let p;d>0&&await new Promise((e=>setTimeout(e,d)));try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,o);const e=await de(this,H,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},de(this,W,"f")),o.request),{body:s}));if(200!==e.status)throw new g.t(`Gateway returned an error:\n  Code: ${e.status} (${e.statusText})\n  Body: ${await e.text()}\n`,{ok:e.ok,status:e.status,statusText:e.statusText,headers:(0,h.Z3)(e.headers)});{const t=f.decode(await e.arrayBuffer());p=Object.assign(Object.assign({},t),{httpDetails:{ok:e.ok,status:e.status,statusText:e.statusText,headers:(0,h.Z3)(e.headers)},requestId:a})}}catch(r){if(l<de(this,X,"f"))return this.log.warn(`Caught exception while attempting to make query:\n  ${r}\n  Retrying query.`),await de(this,z,"m",e).call(this,Object.assign(Object.assign({},t),{tries:l+1}));throw r}const y=null===(n=null===(r=p.signatures)||void 0===r?void 0:r[0])||void 0===n?void 0:n.timestamp;if(!de(this,oe,"f"))return p;if(!y)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const m=Number(BigInt(y)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:m}),Number(this.waterMark)>m){const r=new c.Yv("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",r,{timestamp:y,waterMark:this.waterMark}),l<de(this,X,"f"))return await de(this,z,"m",e).call(this,Object.assign(Object.assign({},t),{tries:l+1}));throw new c.Yv(`Timestamp failed to pass the watermark after retrying the configured ${de(this,X,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return p},ae=async function e(t){const{request:r,backoff:n,tries:i}=t,o=0===i?0:n.next();if(null===o)throw new c.Yv(`Timestamp failed to pass the watermark after retrying the configured ${de(this,X,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);let s;o>0&&await new Promise((e=>setTimeout(e,o)));try{s=await r()}catch(t){if(de(this,X,"f")>i)return this.log.warn(`Caught exception while attempting to make request:\n  ${t}\n  Retrying request.`),await de(this,z,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw t}if(s.ok)return s;const a=await s.clone().text(),u=`Server returned an error:\n  Code: ${s.status} (${s.statusText})\n  Body: ${a}\n`;if(404===s.status&&s.url.includes("api/v3"))throw new g.t("v3 api not supported. Fall back to v2",{ok:s.ok,status:s.status,statusText:s.statusText,headers:(0,h.Z3)(s.headers)});if(i<de(this,X,"f"))return await de(this,z,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw new g.t(u,{ok:s.ok,status:s.status,statusText:s.statusText,headers:(0,h.Z3)(s.headers)})}},8218:(e,t,r)=>{"use strict";r.d(t,{MM:()=>a,Z3:()=>f,mY:()=>u,s8:()=>c});var n=r(4664),i=r(9283),o=r(3174);const s=BigInt(1e6);class a{constructor(e){if(e<9e4){const t=BigInt(Date.now()+e)*s/BigInt(1e9);return void(this._value=t*BigInt(1e9))}const t=BigInt(Math.floor(Date.now()+e-6e4))*s/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=t}toCBOR(){return i.value.u64(this._value.toString(16),16)}toHash(){return(0,n.lebEncode)(this._value)}}function c(e=o.o){return async t=>{const r=t.request.headers;t.request.headers=r,"call"===t.endpoint&&(t.body.nonce=e())}}function u(e){return async t=>{t.body.ingress_expiry=new a(e)}}function f(e){const t=[];return e.forEach(((e,r)=>{t.push([r,e])})),t}},3174:(e,t,r)=>{"use strict";r.d(t,{o:()=>o,q:()=>n});var n,i=r(2635);function o(){const e=new ArrayBuffer(16),t=new DataView(e),r=(0,i.R)(),n=(0,i.R)(),o=(0,i.R)(),s=(0,i.R)();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,o),t.setUint32(12,s),e}!function(e){e.Call="call"}(n||(n={}))},4485:(e,t,r)=>{"use strict";r.d(t,{tc:()=>s.t,MM:()=>o.MM,qB:()=>o.qB,WB:()=>o.WB,sR:()=>o.sR,GZ:()=>o.GZ,kT:()=>u,s3:()=>n,O8:()=>c,RK:()=>i.R,BY:()=>o.BY,i8:()=>f,Z3:()=>o.Z3,mY:()=>o.mY,o2:()=>o.o2,s8:()=>o.s8});var n,i=r(5506),o=r(2649),s=r(6072),a=r(2336);!function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"}(n||(n={}));class c{constructor(e,t){this._frontend=e,this._agent=t}onmessage(e){switch(e.type){case n.GetPrincipal:this._agent.getPrincipal().then((t=>{this._frontend({id:e.id,type:n.GetPrincipalResponse,response:t.toText()})}));break;case n.Query:this._agent.query(...e.args).then((t=>{this._frontend({id:e.id,type:n.QueryResponse,response:t})}));break;case n.Call:this._agent.call(...e.args).then((t=>{this._frontend({id:e.id,type:n.CallResponse,response:t})}));break;case n.ReadState:this._agent.readState(...e.args).then((t=>{this._frontend({id:e.id,type:n.ReadStateResponse,response:t})}));break;case n.Status:this._agent.status().then((t=>{this._frontend({id:e.id,type:n.StatusResponse,response:t})}));break;default:throw new Error(`Invalid message received: ${JSON.stringify(e)}`)}}}class u{constructor(e){this._backend=e,this._nextId=0,this._pendingCalls=new Map,this.rootKey=null}onmessage(e){const t=e.id,r=this._pendingCalls.get(t);if(!r)throw new Error("A proxy get the same message twice...");this._pendingCalls.delete(t);const[i,o]=r;switch(e.type){case n.Error:return o(e.error);case n.GetPrincipalResponse:case n.CallResponse:case n.QueryResponse:case n.ReadStateResponse:case n.StatusResponse:return i(e.response);default:throw new Error(`Invalid message being sent to ProxyAgent: ${JSON.stringify(e)}`)}}async getPrincipal(){return this._sendAndWait({id:this._nextId++,type:n.GetPrincipal}).then((e=>{if("string"!=typeof e)throw new Error("Invalid principal received.");return a.Principal.fromText(e)}))}readState(e,t){return this._sendAndWait({id:this._nextId++,type:n.ReadState,args:[e.toString(),t]})}call(e,t){return this._sendAndWait({id:this._nextId++,type:n.Call,args:[e.toString(),t]})}status(){return this._sendAndWait({id:this._nextId++,type:n.Status})}query(e,t){return this._sendAndWait({id:this._nextId++,type:n.Query,args:[e.toString(),t]})}async _sendAndWait(e){return new Promise(((t,r)=>{this._pendingCalls.set(e.id,[t,r]),this._backend(e)}))}async fetchRootKey(){const e=(await this.status()).root_key;return this.rootKey=e,e}}function f(){const e="undefined"==typeof window?void 0===r.g?"undefined"==typeof self?void 0:self.ic.agent:r.g.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}},508:(e,t,r)=>{"use strict";r.d(t,{A4:()=>c,E8:()=>f,mC:()=>u});var n=r(2336),i=r(4141),o=r(2338),s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const a=(new TextEncoder).encode("\nic-request");class c{getPrincipal(){return this._principal||(this._principal=n.Principal.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){const{body:t}=e,r=s(e,["body"]),n=await(0,i.Gb)(t);return Object.assign(Object.assign({},r),{body:{content:t,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign((0,o.xW)(a,n))}})}}class u{getPrincipal(){return n.Principal.anonymous()}async transformRequest(e){return Object.assign(Object.assign({},e),{body:{content:e.body}})}}function f(e){return"getPublicKey"in e?{type:"PublicKeyIdentity",publicKey:(0,o.nj)(e.getPublicKey().toDer())}:{type:"AnonymousIdentity"}}},9438:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CustomPath:()=>u,encodePath:()=>d,fetchNodeKeys:()=>l,request:()=>f});var n=r(2336),i=r(7857),o=r(3151),s=r(2338),a=r(8358),c=r(9345);class u{constructor(e,t,r){this.key=e,this.path=t,this.decodeStrategy=r}}const f=async e=>{const{agent:t,paths:r}=e,s=n.Principal.from(e.canisterId),a=[...new Set(r)],u=a.map((e=>d(e,s))),f=new Map,m=a.map(((e,r)=>(async()=>{var n;try{const e=await t.readState(s,{paths:[u[r]]}),n=await o.us.create({certificate:e.certificate,rootKey:t.rootKey,canisterId:s}),i=(r,n)=>{if("subnet"===n){return{path:n,data:l(e.certificate,s,t.rootKey)}}return{path:n,data:(0,o.Xr)(r.lookup(d(n,s)))}},{path:m,data:b}=i(n,a[r]);if(b)switch(m){case"time":f.set(m,(0,c.A)(b));break;case"controllers":f.set(m,y(b));break;case"module_hash":f.set(m,h(b));break;case"subnet":f.set(m,b);break;case"candid":f.set(m,(new TextDecoder).decode(b));break;default:if("string"!=typeof m&&"key"in m&&"path"in m)switch(m.decodeStrategy){case"raw":f.set(m.key,b);break;case"leb128":f.set(m.key,(0,c.b)(b));break;case"cbor":f.set(m.key,p(b));break;case"hex":f.set(m.key,h(b));break;case"utf-8":f.set(m.key,g(b))}}else console.warn(`Expected to find result for path ${m}, but instead found nothing.`),"string"==typeof m?f.set(m,null):f.set(m.key,null)}catch(t){if(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.includes("Invalid certificate"))throw new i.Yv(t.message);"string"!=typeof e&&"key"in e&&"path"in e?f.set(e.key,null):f.set(e,null),console.group(),console.warn(`Expected to find result for path ${e}, but instead found nothing.`),console.warn(t),console.groupEnd()}})()));return await Promise.all(m),f},l=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const i=a.decode(new Uint8Array(e)),s=i.tree;let c,u=i.delegation;u&&u.subnet_id?c=n.Principal.fromUint8Array(new Uint8Array(u.subnet_id)):u||void 0===r?(c=n.Principal.selfAuthenticating(n.Principal.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),u={subnet_id:c.toUint8Array(),certificate:new ArrayBuffer(0)}):(c=n.Principal.selfAuthenticating(new Uint8Array(r)),u={subnet_id:c.toUint8Array(),certificate:new ArrayBuffer(0)});if(!(0,o.Gk)({canisterId:t,subnetId:c,tree:s}))throw new Error("Canister not in range");const f=(0,o.hV)(["subnet",u.subnet_id,"node"],s);if(f.status!==o.hi.Found)throw new Error("Node not found");if(f.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const l=(0,o.Bx)(f.value),d=new Map;return l.forEach((e=>{const t=n.Principal.from(new Uint8Array(e[1])).toText(),r=(0,o.hV)(["public_key"],e[2]);if(r.status!==o.hi.Found)throw new Error("Public key not found");const i=r.value;if(44!==i.byteLength)throw new Error("Invalid public key length");d.set(t,i)})),{subnetId:n.Principal.fromUint8Array(new Uint8Array(u.subnet_id)).toText(),nodeKeys:d}},d=(e,t)=>{const r=new TextEncoder,n=e=>new DataView(r.encode(e).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),i,n("controllers")];case"module_hash":return[n("canister"),i,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),i,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e){if("string"==typeof e.path||e.path instanceof ArrayBuffer){const t=e.path,r="string"==typeof t?n(t):t;return[n("canister"),i,n("metadata"),r]}return e.path}}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},h=e=>(0,s.nj)(e),p=e=>a.decode(e),g=e=>(new TextDecoder).decode(e),y=e=>p(e).map((e=>n.Principal.fromUint8Array(new Uint8Array(e))))},8358:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CborTag:()=>a,decode:()=>l,encode:()=>c});var n=r(7516),i=r(9283),o=r(2338);const s=i.SelfDescribeCborSerializer.withDefaultEncoders(!0);var a;function c(e){return s.serialize(e)}function u(e){const t=e.byteLength;let r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}s.addEncoder(new class{get name(){return"Principal"}get priority(){return 0}match(e){return e&&!0===e._isPrincipal}encode(e){return i.value.bytes(e.toUint8Array())}}),s.addEncoder(new class{get name(){return"Buffer"}get priority(){return 1}match(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}encode(e){return i.value.bytes(new Uint8Array(e))}}),s.addEncoder(new class{get name(){return"BigInt"}get priority(){return 1}match(e){return"bigint"==typeof e}encode(e){return e>BigInt(0)?i.value.tagged(2,i.value.bytes((0,o.aD)(e.toString(16)))):i.value.tagged(3,i.value.bytes((0,o.aD)((BigInt("-1")*e).toString(16))))}}),function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"}(a||(a={}));class f extends n.Decoder{createByteString(e){return(0,o.xW)(...e)}createByteStringFromHeap(e,t){return e===t?new ArrayBuffer(0):new Uint8Array(this._heap.slice(e,t))}}function l(e){const t=new Uint8Array(e),r=new f({size:t.byteLength,tags:{2:e=>u(e),3:e=>-u(e),[a.Semantic]:e=>e}});try{return r.decodeFirst(t)}catch(e){throw new Error(`Failed to decode CBOR: ${e}, input: ${(0,o.nj)(t)}`)}}},3151:(e,t,r)=>{"use strict";r.d(t,{Bx:()=>_,Gk:()=>I,Xl:()=>h,Xr:()=>m,Z6:()=>n,bK:()=>d,fp:()=>b,hV:()=>E,hi:()=>A,us:()=>p,zA:()=>B});var n,i=r(8358),o=r(7857),s=r(4141),a=r(2338),c=r(2336),u=r(6904),f=r(9345),l=r(4485);class d extends o.Yv{constructor(e){super(`Invalid certificate: ${e}`)}}function h(e){const t=e=>e.split("\n").map((e=>"  "+e)).join("\n");switch(e[0]){case n.Empty:return"()";case n.Fork:if(e[1]instanceof Array&&e[2]instanceof ArrayBuffer){const r=h(e[1]),n=h(e[2]);return`sub(\n left:\n${t(r)}\n---\n right:\n${t(n)}\n)`}throw new Error("Invalid tree structure for fork");case n.Labeled:if(e[1]instanceof ArrayBuffer&&e[2]instanceof ArrayBuffer){const r=function(e){const t=new TextDecoder(void 0,{fatal:!0});try{return JSON.stringify(t.decode(e))}catch(t){return`data(...${e.byteLength} bytes)`}}(e[1]),n=h(e[2]);return`label(\n label:\n${t(r)}\n sub:\n${t(n)}\n)`}throw new Error("Invalid tree structure for labeled");case n.Leaf:if(!e[1])throw new Error("Invalid tree structure for leaf");return Array.isArray(e[1])?JSON.stringify(e[1]):`leaf(...${e[1].byteLength} bytes)`;case n.Pruned:if(!e[1])throw new Error("Invalid tree structure for pruned");return Array.isArray(e[1])?JSON.stringify(e[1]):`pruned(${(0,a.nj)(new Uint8Array(e[1]))}`;default:return`unknown(${JSON.stringify(e[0])})`}}!function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"}(n||(n={}));class p{constructor(e,t,r,n,o=5){this._rootKey=t,this._canisterId=r,this._blsVerify=n,this._maxAgeInMinutes=o,this.cert=i.decode(new Uint8Array(e))}static async create(e){const t=p.createUnverified(e);return await t.verify(),t}static createUnverified(e){let t=e.blsVerify;return t||(t=u.r),new p(e.certificate,e.rootKey,e.canisterId,t,e.maxAgeInMinutes)}lookup(e){return E(e,this.cert.tree)}lookup_label(e){return this.lookup([e])}async verify(){const e=await b(this.cert.tree),t=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,n=function(e){const t=g.byteLength+y;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,g.byteLength);if(!(0,a.HA)(r,g))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${g}, but get ${r}`);return e.slice(g.byteLength)}(t),i=(0,a.xW)(w("ic-state-root"),e);let o=!1;const s=m(this.lookup(["time"]));if(!s)throw new d("Certificate does not contain a time");const c=60*this._maxAgeInMinutes*1e3,u=Date.now(),l=u-c,h=u+3e5,p=(0,f.A)(s);if(p.getTime()<l)throw new d(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+p.toISOString()+" Current time: "+new Date(u).toISOString());if(p.getTime()>h)throw new d("Certificate is signed more than 5 minutes in the future. Certificate time: "+p.toISOString()+" Current time: "+new Date(u).toISOString());try{o=await this._blsVerify(new Uint8Array(n),new Uint8Array(r),new Uint8Array(i))}catch(e){o=!1}if(!o)throw new d("Signature verification failed")}async _checkDelegationAndGetKey(e){if(!e)return this._rootKey;const t=await p.createUnverified({certificate:e.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(t.cert.delegation)throw new d("Delegation certificates cannot be nested");if(await t.verify(),this._canisterId.toString()!==l.GZ){if(!I({canisterId:this._canisterId,subnetId:c.Principal.fromUint8Array(new Uint8Array(e.subnet_id)),tree:t.cert.tree}))throw new d(`Canister ${this._canisterId} not in range of delegations for subnet 0x${(0,a.nj)(e.subnet_id)}`)}const r=m(t.lookup(["subnet",e.subnet_id,"public_key"]));if(!r)throw new Error(`Could not find subnet key for subnet 0x${(0,a.nj)(e.subnet_id)}`);return r}}const g=(0,a.aD)("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),y=96;function m(e){if(e.status===A.Found)return e.value instanceof ArrayBuffer?e.value:e.value instanceof Uint8Array?e.value.buffer:void 0}async function b(e){switch(e[0]){case n.Empty:return(0,s.tW)(w("ic-hashtree-empty"));case n.Pruned:return e[1];case n.Leaf:return(0,s.tW)((0,a.xW)(w("ic-hashtree-leaf"),e[1]));case n.Labeled:return(0,s.tW)((0,a.xW)(w("ic-hashtree-labeled"),e[1],await b(e[2])));case n.Fork:return(0,s.tW)((0,a.xW)(w("ic-hashtree-fork"),await b(e[1]),await b(e[2])));default:throw new Error("unreachable")}}function w(e){const t=new Uint8Array([e.length]),r=(new TextEncoder).encode(e);return(0,a.xW)(t,r)}var A,v;function E(e,t){if(0===e.length){if(t[0]===n.Leaf){if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:A.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:A.Found,value:t[1].buffer}:{status:A.Found,value:t[1]}}return{status:A.Found,value:t}}const r=B("string"==typeof e[0]?(new TextEncoder).encode(e[0]):e[0],t);switch(r.status){case A.Found:return E(e.slice(1),r.value);case v.Greater:case v.Less:return{status:A.Absent};default:return r}}function _(e){switch(e[0]){case n.Empty:return[];case n.Fork:return _(e[1]).concat(_(e[2]));default:return[e]}}function B(e,t){switch(t[0]){case n.Labeled:return function(e,t){const r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]>n[e])return!0;return!1}(e,t[1])?{status:v.Greater}:(0,a.HA)(e,t[1])?{status:A.Found,value:t[2]}:{status:v.Less};case n.Fork:const r=B(e,t[1]);switch(r.status){case v.Greater:{const r=B(e,t[2]);return r.status===v.Less?{status:A.Absent}:r}case A.Unknown:{let r=B(e,t[2]);return r.status===v.Less?{status:A.Unknown}:r}default:return r}case n.Pruned:return{status:A.Unknown};default:return{status:A.Absent}}}function I(e){const{canisterId:t,subnetId:r,tree:n}=e,o=E(["subnet",r.toUint8Array(),"canister_ranges"],n);if(o.status!==A.Found||!(o.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return i.decode(o.value).map((e=>[c.Principal.fromUint8Array(e[0]),c.Principal.fromUint8Array(e[1])])).some((e=>e[0].ltEq(t)&&e[1].gtEq(t)))}!function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"}(A||(A={})),function(e){e.Less="less",e.Greater="greater"}(v||(v={}))},2373:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});const n=3e5},919:(e,t,r)=>{"use strict";r.d(t,{C2:()=>l,Dt:()=>s,WQ:()=>c,Wp:()=>a,do:()=>i,k1:()=>f,le:()=>u,mP:()=>o,n9:()=>d});var n=r(2338);const i=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},o=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},s=(e,t)=>{if(e[t]<128)return 1;if(128===e[t])throw new Error("Invalid length 0");if(129===e[t])return 2;if(130===e[t])return 3;if(131===e[t])return 4;throw new Error("Length too long (> 4 bytes)")},a=(e,t)=>{const r=s(e,t);if(1===r)return e[t];if(2===r)return e[t+1];if(3===r)return(e[t+1]<<8)+e[t+2];if(4===r)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")},c=Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]),u=Uint8Array.from([48,5,6,3,43,101,112]),f=Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function l(e,t){const r=2+i(e.byteLength+1),n=t.byteLength+r+e.byteLength;let s=0;const a=new Uint8Array(1+i(n)+n);return a[s++]=48,s+=o(a,s,n),a.set(t,s),s+=t.byteLength,a[s++]=3,s+=o(a,s,e.byteLength+1),a[s++]=0,a.set(new Uint8Array(e),s),a}const d=(e,t)=>{let r=0;const i=(e,t)=>{if(o[r++]!==e)throw new Error("Expected: "+t)},o=new Uint8Array(e);if(i(48,"sequence"),r+=s(o,r),!(0,n.HA)(o.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,i(3,"bit string");const c=a(o,r)-1;r+=s(o,r),i(0,"0 padding");const u=o.slice(r);if(c!==u.length)throw new Error(`DER payload mismatch: Expected length ${c} actual length ${u.length}`);return u}},7857:(e,t,r)=>{"use strict";r.d(t,{Yv:()=>n});r(2336),r(5506),r(2338);class n extends Error{constructor(e){super(e),this.message=e,this.name="AgentError",this.__proto__=n.prototype,Object.setPrototypeOf(this,n.prototype)}}},5736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ACTOR_METHOD_WITH_CERTIFICATE:()=>R,ACTOR_METHOD_WITH_HTTP_DETAILS:()=>N,Actor:()=>C,ActorCallError:()=>B,AdvancedActor:()=>P,AgentHTTPResponseError:()=>s.tc,AnonymousIdentity:()=>j.mC,CanisterStatus:()=>q,Cbor:()=>K,Certificate:()=>u.us,CertificateVerificationError:()=>u.bK,DER_COSE_OID:()=>M.WQ,ED25519_OID:()=>M.le,Ed25519PublicKey:()=>z.G,Expiry:()=>s.MM,HttpAgent:()=>s.qB,IC_ROOT_KEY:()=>s.WB,IdentityInvalidError:()=>s.sR,LookupStatus:()=>u.hi,MANAGEMENT_CANISTER_ID:()=>s.GZ,NodeType:()=>u.Z6,ProxyAgent:()=>s.kT,ProxyMessageKind:()=>s.s3,ProxyStubAgent:()=>s.O8,QueryCallRejectedError:()=>I,ReplicaRejectCode:()=>s.RK,RequestStatusResponseStatus:()=>s.BY,SECP256K1_OID:()=>M.k1,SignIdentity:()=>j.A4,SubmitRequestType:()=>L.q,UpdateCallRejectedError:()=>x,blsVerify:()=>H.r,bufEquals:()=>f.HA,bufFromBufLike:()=>f.em,check_canister_ranges:()=>u.Gk,compare:()=>f.UD,concat:()=>f.xW,createAssetCanisterActor:()=>F,createIdentityDescriptor:()=>j.E8,decodeLen:()=>M.Wp,decodeLenBytes:()=>M.Dt,defaultStrategy:()=>d,encodeLen:()=>M.mP,encodeLenBytes:()=>M.do,fetchCandid:()=>V,find_label:()=>u.zA,flatten_forks:()=>u.Bx,fromHex:()=>f.aD,getDefaultAgent:()=>s.i8,getManagementCanister:()=>U,hash:()=>G.tW,hashOfMap:()=>G.uF,hashTreeToString:()=>u.Xl,hashValue:()=>G.gg,httpHeadersTransform:()=>s.Z3,lookupResultToBuffer:()=>u.Xr,lookup_path:()=>u.hV,makeExpiryTransform:()=>s.mY,makeNonce:()=>s.o2,makeNonceTransform:()=>s.s8,pollForResponse:()=>v,polling:()=>i,randomNumber:()=>W.R,reconstruct:()=>u.fp,requestIdOf:()=>G.Gb,strategy:()=>n,toHex:()=>f.nj,uint8ToBuf:()=>f.Nn,unwrapDER:()=>M.n9,verify:()=>H.M,wrapDER:()=>M.C2});var n={};r.r(n),r.d(n,{backoff:()=>b,chain:()=>w,conditionalDelay:()=>p,defaultStrategy:()=>d,maxAttempts:()=>g,once:()=>h,throttle:()=>y,timeout:()=>m});var i={};r.r(i),r.d(i,{defaultStrategy:()=>d,pollForResponse:()=>v,strategy:()=>n});var o=r(8287),s=r(4485),a=r(7857),c=r(4664),u=r(3151),f=r(2338);const l=3e5;function d(){return w(p(h(),1e3),b(1e3,1.2),m(l))}function h(){let e=!0;return async()=>!!e&&(e=!1,!0)}function p(e,t){return async(r,n,i)=>{if(await e(r,n,i))return new Promise((e=>setTimeout(e,t)))}}function g(e){let t=e;return async(r,n,i)=>{if(--t<=0)throw new Error(`Failed to retrieve a reply for request after ${e} attempts:\n  Request ID: ${(0,f.nj)(n)}\n  Request status: ${i}\n`)}}function y(e){return()=>new Promise((t=>setTimeout(t,e)))}function m(e){const t=Date.now()+e;return async(r,n,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:\n  Request ID: ${(0,f.nj)(n)}\n  Request status: ${i}\n`)}}function b(e,t){let r=e;return()=>new Promise((e=>setTimeout((()=>{r*=t,e()}),r)))}function w(...e){return async(t,r,n)=>{for(const i of e)await i(t,r,n)}}var A=r(2373);async function v(e,t,r,n=d(),i,o){var a;const c=[(new TextEncoder).encode("request_status"),r],l=null!=i?i:await(null===(a=e.createReadStateRequest)||void 0===a?void 0:a.call(e,{paths:[c]}));l.body.content.ingress_expiry=new s.MM(A.j);const h=await e.readState(t,{paths:[c]},void 0,l);if(null==e.rootKey)throw new Error("Agent root key not initialized before polling");const p=await u.us.create({certificate:h.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:o}),g=(0,u.Xr)(p.lookup([...c,(new TextEncoder).encode("status")]));let y;switch(y=void 0===g?s.BY.Unknown:(new TextDecoder).decode(g),y){case s.BY.Replied:return{reply:(0,u.Xr)(p.lookup([...c,"reply"])),certificate:p};case s.BY.Received:case s.BY.Unknown:case s.BY.Processing:return await n(t,r,y),v(e,t,r,n,l,o);case s.BY.Rejected:{const e=new Uint8Array((0,u.Xr)(p.lookup([...c,"reject_code"])))[0],t=(new TextDecoder).decode((0,u.Xr)(p.lookup([...c,"reject_message"])));throw new Error(`Call was rejected:\n  Request ID: ${(0,f.nj)(r)}\n  Reject code: ${e}\n  Reject text: ${t}\n`)}case s.BY.Done:throw new Error(`Call was marked as done but we never saw the reply:\n  Request ID: ${(0,f.nj)(r)}\n`)}throw new Error("unreachable")}var E=r(2336);const _=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,o=i,s=e.Record({network:t}),a=e.Nat64,c=e.Vec(a),u=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),f=e.Vec(e.Nat8),l=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),d=e.Record({height:e.Nat32,value:i,outpoint:l}),h=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:e.Nat32,tip_block_hash:f,utxos:e.Vec(d)}),p=e.Record({transaction:e.Vec(e.Nat8),network:t}),g=e.Principal,y=e.Record({canister_id:g,num_requested_changes:e.Opt(e.Nat64)}),m=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),b=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),w=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:m,details:b}),A=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(w),total_num_changes:e.Nat64}),v=e.Record({canister_id:g}),E=e.Variant({controllers:e.Null,public:e.Null}),_=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:E,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),B=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:_,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),I=e.Record({canister_id:g}),x=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(E),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),T=e.Record({settings:e.Opt(x),sender_canister_version:e.Opt(e.Nat64)}),C=e.Record({canister_id:g}),S=e.Record({canister_id:g}),O=e.Record({canister_id:g}),N=e.Variant({secp256k1:e.Null}),R=e.Record({key_id:e.Record({name:e.Text,curve:N}),canister_id:e.Opt(g),derivation_path:e.Vec(e.Vec(e.Nat8))}),k=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),U=e.Record({canister_id:g}),P=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),L=e.Record({canister_log_records:e.Vec(P)}),j=e.Record({value:e.Text,name:e.Text}),D=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(j)}),F=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:D})],[D],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(j)}),M=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),q=e.Record({hash:e.Vec(e.Nat8)}),$=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:M,chunk_hashes_list:e.Vec(q),target_canister:g,store_canister:e.Opt(g),sender_canister_version:e.Opt(e.Nat64)}),V=e.Vec(e.Nat8),z=e.Record({arg:e.Vec(e.Nat8),wasm_module:V,mode:M,canister_id:g,sender_canister_version:e.Opt(e.Nat64)}),G=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),H=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),W=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(H)})),K=e.Record({settings:e.Opt(x),specified_id:e.Opt(g),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),Y=e.Record({canister_id:g}),Z=e.Record({canister_id:g,amount:e.Nat}),J=e.Vec(e.Nat8),X=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),Q=e.Record({key_id:e.Record({algorithm:X,name:e.Text}),canister_id:e.Opt(g),derivation_path:e.Vec(e.Vec(e.Nat8))}),ee=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),te=e.Record({key_id:e.Record({name:e.Text,curve:N}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),re=e.Record({signature:e.Vec(e.Nat8)}),ne=e.Record({key_id:e.Record({algorithm:X,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),ie=e.Record({signature:e.Vec(e.Nat8)}),oe=e.Record({canister_id:g}),se=e.Record({canister_id:g}),ae=e.Record({canister_id:g}),ce=e.Vec(q),ue=e.Record({canister_id:g,sender_canister_version:e.Opt(e.Nat64)}),fe=e.Record({canister_id:e.Principal,settings:x,sender_canister_version:e.Opt(e.Nat64)}),le=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),de=q;return e.Service({bitcoin_get_balance:e.Func([n],[o],[]),bitcoin_get_current_fee_percentiles:e.Func([s],[c],[]),bitcoin_get_utxos:e.Func([u],[h],[]),bitcoin_send_transaction:e.Func([p],[],[]),canister_info:e.Func([y],[A],[]),canister_status:e.Func([v],[B],[]),clear_chunk_store:e.Func([I],[],[]),create_canister:e.Func([T],[C],[]),delete_canister:e.Func([S],[],[]),deposit_cycles:e.Func([O],[],[]),ecdsa_public_key:e.Func([R],[k],[]),fetch_canister_logs:e.Func([U],[L],["query"]),http_request:e.Func([F],[D],[]),install_chunked_code:e.Func([$],[],[]),install_code:e.Func([z],[],[]),node_metrics_history:e.Func([G],[W],[]),provisional_create_canister_with_cycles:e.Func([K],[Y],[]),provisional_top_up_canister:e.Func([Z],[],[]),raw_rand:e.Func([],[J],[]),schnorr_public_key:e.Func([Q],[ee],[]),sign_with_ecdsa:e.Func([te],[re],[]),sign_with_schnorr:e.Func([ne],[ie],[]),start_canister:e.Func([oe],[],[]),stop_canister:e.Func([se],[],[]),stored_chunks:e.Func([ae],[ce],[]),uninstall_code:e.Func([ue],[],[]),update_settings:e.Func([fe],[],[]),upload_chunk:e.Func([le],[de],[])})};class B extends a.Yv{constructor(e,t,r,n){super(["Call failed:",`  Canister: ${e.toText()}`,`  Method: ${t} (${r})`,...Object.getOwnPropertyNames(n).map((e=>`  "${e}": ${JSON.stringify(n[e])}`))].join("\n")),this.canisterId=e,this.methodName=t,this.type=r,this.props=n}}class I extends B{constructor(e,t,r){var n;super(e,t,"query",{Status:r.status,Code:null!==(n=s.RK[r.reject_code])&&void 0!==n?n:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}}class x extends B{constructor(e,t,r,n,i,o,s){super(e,t,"update",Object.assign({"Request ID":(0,f.nj)(r)},n.body?Object.assign(Object.assign({},s?{"Error code":s}:{}),{"Reject code":String(i),"Reject message":o}):{"HTTP status code":n.status.toString(),"HTTP status text":n.statusText})),this.requestId=r,this.response=n,this.reject_code=i,this.reject_message=o,this.error_code=s}}const T=Symbol.for("ic-agent-metadata");class C{constructor(e){this[T]=Object.freeze(e)}static agentOf(e){return e[T].config.agent}static interfaceOf(e){return e[T].service}static canisterIdOf(e){return E.Principal.from(e[T].config.canisterId)}static async install(e,t){const r=void 0===e.mode?{install:null}:e.mode,n=e.arg?[...new Uint8Array(e.arg)]:[],i=[...new Uint8Array(e.module)],o="string"==typeof t.canisterId?E.Principal.fromText(t.canisterId):t.canisterId;await U(t).install_code({mode:r,arg:n,wasm_module:i,canister_id:o,sender_canister_version:[]})}static async createCanister(e,t){const{canister_id:r}=await U(e||{}).provisional_create_canister_with_cycles({amount:[],settings:function(e){return[{controllers:e.controllers?[e.controllers]:[],compute_allocation:e.compute_allocation?[e.compute_allocation]:[],freezing_threshold:e.freezing_threshold?[e.freezing_threshold]:[],memory_allocation:e.memory_allocation?[e.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}(t||{}),specified_id:[],sender_canister_version:[]});return r}static async createAndInstallCanister(e,t,r){const n=await this.createCanister(r);return await this.install(Object.assign({},t),Object.assign(Object.assign({},r),{canisterId:n})),this.createActor(e,Object.assign(Object.assign({},r),{canisterId:n}))}static createActorClass(e,t){const r=e({IDL:c.IDL});return class extends C{constructor(e){if(!e.canisterId)throw new a.Yv(`Canister ID is required, but received ${typeof e.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const n="string"==typeof e.canisterId?E.Principal.fromText(e.canisterId):e.canisterId;super({config:Object.assign(Object.assign(Object.assign({},O),e),{canisterId:n}),service:r});for(const[n,i]of r._fields)(null==t?void 0:t.httpDetails)&&i.annotations.push(N),(null==t?void 0:t.certificate)&&i.annotations.push(R),this[n]=k(this,n,i,e.blsVerify)}}}static createActor(e,t){if(!t.canisterId)throw new a.Yv(`Canister ID is required, but received ${typeof t.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(e))(t)}static createActorWithHttpDetails(e,t){return new(this.createActorClass(e,{httpDetails:!0}))(t)}static createActorWithExtendedDetails(e,t,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(e,r))(t)}}function S(e,t){const r=c.IDL.decode(e,o.hp.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const O={pollingStrategyFactory:d},N="http-details",R="certificate";function k(e,t,r,n){let i;i=r.annotations.includes("query")||r.annotations.includes("composite_query")?async(n,...i)=>{var o,a;const u=(n=Object.assign(Object.assign({},n),null===(a=(o=e[T].config).queryTransform)||void 0===a?void 0:a.call(o,t,i,Object.assign(Object.assign({},e[T].config),n)))).agent||e[T].config.agent||(0,s.i8)(),f=E.Principal.from(n.canisterId||e[T].config.canisterId),l=c.IDL.encode(r.argTypes,i),d=await u.query(f,{methodName:t,arg:l,effectiveCanisterId:n.effectiveCanisterId}),h=Object.assign(Object.assign({},d.httpDetails),{requestDetails:d.requestDetails});switch(d.status){case"rejected":throw new I(f,t,d);case"replied":return r.annotations.includes(N)?{httpDetails:h,result:S(r.retTypes,d.reply.arg)}:S(r.retTypes,d.reply.arg)}}:async(i,...o)=>{var f,l;const d=(i=Object.assign(Object.assign({},i),null===(l=(f=e[T].config).callTransform)||void 0===l?void 0:l.call(f,t,o,Object.assign(Object.assign({},e[T].config),i)))).agent||e[T].config.agent||(0,s.i8)(),{canisterId:h,effectiveCanisterId:p,pollingStrategyFactory:g}=Object.assign(Object.assign(Object.assign({},O),e[T].config),i),y=E.Principal.from(h),m=void 0!==p?E.Principal.from(p):y,b=c.IDL.encode(r.argTypes,o);if(null==d.rootKey)throw new a.Yv("Agent root key not initialized before making call");const{requestId:w,response:A,requestDetails:_}=await d.call(y,{methodName:t,arg:b,effectiveCanisterId:m});let B,I;if(A.body&&A.body.certificate){const e=A.body.certificate;I=await u.us.create({certificate:(0,c.bufFromBufLike)(e),rootKey:d.rootKey,canisterId:E.Principal.from(h),blsVerify:n});const r=[(new TextEncoder).encode("request_status"),w];switch((new TextDecoder).decode((0,u.Xr)(I.lookup([...r,"status"])))){case"replied":B=(0,u.Xr)(I.lookup([...r,"reply"]));break;case"rejected":{const e=new Uint8Array((0,u.Xr)(I.lookup([...r,"reject_code"])))[0],n=(new TextDecoder).decode((0,u.Xr)(I.lookup([...r,"reject_message"]))),i=(0,u.Xr)(I.lookup([...r,"error_code"])),o=i?(new TextDecoder).decode(i):void 0;throw new x(y,t,w,A,e,n,o)}}}else if(A.body&&"reject_message"in A.body){const{reject_code:e,reject_message:r,error_code:n}=A.body;throw new x(y,t,w,A,e,r,n)}if(202===A.status){const e=g(),t=await v(d,m,w,e,n);I=t.certificate,B=t.reply}const C=r.annotations.includes(N),k=r.annotations.includes(R),U=Object.assign(Object.assign({},A),{requestDetails:_});if(void 0!==B)return C&&k?{httpDetails:U,certificate:I,result:S(r.retTypes,B)}:k?{certificate:I,result:S(r.retTypes,B)}:C?{httpDetails:U,result:S(r.retTypes,B)}:S(r.retTypes,B);if(0===r.retTypes.length)return C?{httpDetails:A,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const o=(...e)=>i({},...e);return o.withOptions=e=>(...t)=>i(e,...t),o}function U(e){function t(t,r){if(e.effectiveCanisterId)return{effectiveCanisterId:E.Principal.from(e.effectiveCanisterId)};const n=r[0];let i=E.Principal.fromHex("");return n&&"object"==typeof n&&n.canister_id&&(i=E.Principal.from(n.canister_id)),{effectiveCanisterId:i}}return C.createActor(_,Object.assign(Object.assign(Object.assign({},e),{canisterId:E.Principal.fromHex("")}),{callTransform:t,queryTransform:t}))}class P extends C{constructor(e){super(e)}}r(8218);var L=r(3174),j=r(508);const D=({IDL:e})=>e.Service({retrieve:e.Func([e.Text],[e.Vec(e.Nat8)],["query"]),store:e.Func([e.Text,e.Vec(e.Nat8)],[],[])});function F(e){return C.createActor(D,e)}var M=r(919),q=r(9438),$=r(2649);async function V(e,t){t||(t=await $.qB.create());const r=(await q.request({agent:t,canisterId:E.Principal.fromText(e),paths:["candid"]})).get("candid");if(r)return r;const n=C.createActor((({IDL:e})=>e.Service({__get_candid_interface_tmp_hack:e.Func([],[e.Text],["query"])})),{agent:t,canisterId:e});return await n.__get_candid_interface_tmp_hack()}var z=r(5499),G=r(4141),H=r(6904),W=r(2635),K=r(8358)},5499:(e,t,r)=>{"use strict";r.d(t,{G:()=>c});var n,i,o=r(919),s=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},a=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class c{constructor(e){if(n.set(this,void 0),i.set(this,void 0),e.byteLength!==c.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");s(this,n,e,"f"),s(this,i,c.derEncode(e),"f")}static from(e){return this.fromDer(e.toDer())}static fromRaw(e){return new c(e)}static fromDer(e){return new c(this.derDecode(e))}static derEncode(e){return(0,o.C2)(e,o.le).buffer}static derDecode(e){const t=(0,o.n9)(e,o.le);if(t.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return t}get rawKey(){return a(this,n,"f")}get derKey(){return a(this,i,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}n=new WeakMap,i=new WeakMap,c.RAW_KEY_LENGTH=32},4141:(e,t,r)=>{"use strict";r.d(t,{Gb:()=>f,gg:()=>c,tW:()=>a,uF:()=>l});var n=r(4664),i=r(7516),o=r(8226),s=r(2338);function a(e){return(0,s.Nn)(o.sc.create().update(new Uint8Array(e)).digest())}function c(e){if(e instanceof i.Tagged)return c(e.value);if("string"==typeof e)return u(e);if("number"==typeof e)return a((0,n.lebEncode)(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return a(e);if(Array.isArray(e)){const t=e.map(c);return a((0,s.xW)(...t))}if(e&&"object"==typeof e&&e._isPrincipal)return a(e.toUint8Array());if("object"==typeof e&&null!==e&&"function"==typeof e.toHash)return c(e.toHash());if("object"==typeof e)return l(e);if("bigint"==typeof e)return a((0,n.lebEncode)(e));throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const u=e=>a((new TextEncoder).encode(e));function f(e){return l(e)}function l(e){const t=Object.entries(e).filter((([,e])=>void 0!==e)).map((([e,t])=>[u(e),c(t)])).sort((([e],[t])=>(0,s.UD)(e,t)));return a((0,s.xW)(...t.map((e=>(0,s.xW)(...e)))))}},6904:(e,t,r)=>{"use strict";r.d(t,{r:()=>ae,M:()=>{}});var n=r(8226),i=r(2531),o=r(8030),s=r(8293);const a=s.Ph;function c(e,t){if(f(e),f(t),e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function u(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function f(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function l(e,t,r){(0,s.Q5)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:l,hash:d,expand:h,DST:p}=r;(0,s.DO)(e),f(t);const g="string"==typeof p?(0,s.AI)(p):p,y=n.toString(2).length,m=Math.ceil((y+i)/8),b=t*l*m;let w;if("xmd"===h)w=function(e,t,r,n){(0,s.DO)(e),(0,s.DO)(t),f(r),t.length>255&&(t=n((0,s.Id)((0,s.AI)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const l=(0,s.Id)(t,c(t.length,1)),d=c(0,o),h=c(r,2),p=new Array(a),g=n((0,s.Id)(d,e,h,c(0,1),l));p[0]=n((0,s.Id)(g,c(1,1),l));for(let e=1;e<=a;e++){const t=[u(g,p[e-1]),c(e+1,1),l];p[e]=n((0,s.Id)(...t))}return(0,s.Id)(...p).slice(0,r)}(e,g,b,d);else if("xof"===h)w=function(e,t,r,n,i){if((0,s.DO)(e),(0,s.DO)(t),f(r),t.length>255){const e=Math.ceil(2*n/8);t=i.create({dkLen:e}).update((0,s.AI)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(c(r,2)).update(t).update(c(t.length,1)).digest()}(e,g,b,i,d);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');w=e}const A=new Array(t);for(let e=0;e<t;e++){const t=new Array(l);for(let r=0;r<l;r++){const i=m*(r+e*l),s=w.subarray(i,i+m);t[r]=(0,o.zi)(a(s),n)}A[e]=t}return A}function d(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[i,o,s,a]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(i,o),n=e.mul(n,e.div(s,a)),{x:t,y:n}}}function h(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=l(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const o=l(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const e of r)if("bigint"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const n=e.fromAffine(t(r)).clearCofactor();return n.assertValidity(),n}}}var p=r(615);const{Ph:g,aT:y}=s,m={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{const{Err:r}=m;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=s.zW(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const o=n>127?s.zW(i.length/2|128):"";return`${s.zW(e)}${o}${i}${t}`},decode(e,t){const{Err:r}=m;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++];let o=0;if(!!(128&i)){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;const s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=m;if(e<b)throw new t("integer: negative integers are not allowed");let r=s.zW(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected assertion");return r},decode(e){const{Err:t}=m;if(128&e[0])throw new t("Invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("Invalid signature integer: unnecessary leading zero");return g(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=m,i="string"==typeof e?y(e):e;s.DO(i);const{v:o,l:a}=n.decode(48,i);if(a.length)throw new t("Invalid signature: left bytes after parsing");const{v:c,l:u}=n.decode(2,o),{v:f,l}=n.decode(2,u);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(f)}},hexFromSig(e){const{_tlv:t,_int:r}=m,n=`${t.encode(2,r.encode(e.r))}${t.encode(2,r.encode(e.s))}`;return t.encode(48,n)}},b=BigInt(0),w=BigInt(1),A=BigInt(2),v=BigInt(3),E=BigInt(4);function _(e){const t=function(e){const t=(0,p.hp)(e);s.Q5(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=o.D0(t.n,t.nBitLength),i=t.toBytes||((e,t,n)=>{const i=t.toAffine();return s.Id(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function c(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function u(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:a}=t;if(r&&"bigint"!=typeof e){if(s.aY(e)&&(e=s.My(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let c;try{c="bigint"==typeof e?e:s.Ph((0,s.qj)("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(c=o.zi(c,a)),s.aK("private key",c,w,a),c}function f(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}const l=(0,s.x)(((e,t)=>{const{px:n,py:i,pz:o}=e;if(r.eql(o,r.ONE))return{x:n,y:i};const s=e.is0();null==t&&(t=s?r.ONE:r.inv(o));const a=r.mul(n,t),c=r.mul(i,t),u=r.mul(o,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),d=(0,s.x)((e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");const o=r.sqr(i),s=c(n);if(!r.eql(o,s))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class h{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?h.ZERO:new h(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(a((0,s.qj)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(u(e))}static msm(e,t){return(0,p.Xf)(h,n,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){d(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){f(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return c&&u}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,v),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,f=r.ZERO,l=r.mul(o,o),d=r.mul(s,s),p=r.mul(a,a),g=r.mul(o,s);return g=r.add(g,g),f=r.mul(o,a),f=r.add(f,f),c=r.mul(e,f),u=r.mul(i,p),u=r.add(c,u),c=r.sub(d,u),u=r.add(d,u),u=r.mul(c,u),c=r.mul(g,c),f=r.mul(i,f),p=r.mul(e,p),g=r.sub(l,p),g=r.mul(e,g),g=r.add(g,f),f=r.add(l,l),l=r.add(f,l),l=r.add(l,p),l=r.mul(l,g),u=r.add(u,l),p=r.mul(s,a),p=r.add(p,p),l=r.mul(p,g),c=r.sub(c,l),f=r.mul(p,d),f=r.add(f,f),f=r.add(f,f),new h(c,u,f)}add(e){f(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let u=r.ZERO,l=r.ZERO,d=r.ZERO;const p=t.a,g=r.mul(t.b,v);let y=r.mul(n,s),m=r.mul(i,a),b=r.mul(o,c),w=r.add(n,i),A=r.add(s,a);w=r.mul(w,A),A=r.add(y,m),w=r.sub(w,A),A=r.add(n,o);let E=r.add(s,c);return A=r.mul(A,E),E=r.add(y,b),A=r.sub(A,E),E=r.add(i,o),u=r.add(a,c),E=r.mul(E,u),u=r.add(m,b),E=r.sub(E,u),d=r.mul(p,A),u=r.mul(g,b),d=r.add(u,d),u=r.sub(m,d),d=r.add(m,d),l=r.mul(u,d),m=r.add(y,y),m=r.add(m,y),b=r.mul(p,b),A=r.mul(g,A),m=r.add(m,b),b=r.sub(y,b),b=r.mul(p,b),A=r.add(A,b),y=r.mul(m,A),l=r.add(l,y),y=r.mul(E,A),u=r.mul(w,u),u=r.sub(u,y),y=r.mul(w,m),d=r.mul(E,d),d=r.add(d,y),new h(u,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return y.wNAFCached(this,e,h.normalizeZ)}multiplyUnsafe(e){s.aK("scalar",e,b,t.n);const n=h.ZERO;if(e===b)return n;if(e===w)return this;const{endo:i}=t;if(!i)return y.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:c,k2:u}=i.splitScalar(e),f=n,l=n,d=this;for(;a>b||u>b;)a&w&&(f=f.add(d)),u&w&&(l=l.add(d)),d=d.double(),a>>=w,u>>=w;return o&&(f=f.negate()),c&&(l=l.negate()),l=new h(r.mul(l.px,i.beta),l.py,l.pz),f.add(l)}multiply(e){const{endo:n,n:i}=t;let o,a;if(s.aK("scalar",e,w,i),n){const{k1neg:t,k1:i,k2neg:s,k2:c}=n.splitScalar(e);let{p:u,f}=this.wNAF(i),{p:l,f:d}=this.wNAF(c);u=y.constTimeNegate(t,u),l=y.constTimeNegate(s,l),l=new h(r.mul(l.px,n.beta),l.py,l.pz),o=u.add(l),a=f.add(d)}else{const{p:t,f:r}=this.wNAF(e);o=t,a=r}return h.normalizeZ([o,a])[0]}multiplyAndAddUnsafe(e,t,r){const n=h.BASE,i=(e,t)=>t!==b&&t!==w&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return l(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===w)return!0;if(r)return r(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===w?this:r?r(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return(0,s.e8)("isCompressed",e),this.assertValidity(),i(h,this,e)}toHex(e=!0){return(0,s.e8)("isCompressed",e),s.My(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const g=t.nBitLength,y=(0,p.hT)(h,t.endo?Math.ceil(g/2):g);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:function(e){return s.r4(e,w,t.n)}}}function B(e,t){if(o.jr(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=function(e,t){const r=e.ORDER;let n=b;for(let e=r-w;e%A===b;e/=A)n+=w;const i=n,o=A<<i-w-w,s=o*A,a=(r-w)/s,c=(a-w)/A,u=s-w,f=o,l=e.pow(t,a),d=e.pow(t,(a+w)/A);let h=(t,r)=>{let n=l,o=e.pow(r,u),s=e.sqr(o);s=e.mul(s,r);let a=e.mul(t,s);a=e.pow(a,c),a=e.mul(a,o),o=e.mul(a,r),s=e.mul(a,t);let h=e.mul(s,o);a=e.pow(h,f);let p=e.eql(a,e.ONE);o=e.mul(s,d),a=e.mul(h,n),s=e.cmov(o,s,p),h=e.cmov(a,h,p);for(let t=i;t>w;t--){let r=t-A;r=A<<r-w;let i=e.pow(h,r);const a=e.eql(i,e.ONE);o=e.mul(s,n),n=e.mul(n,n),i=e.mul(h,n),s=e.cmov(o,s,a),h=e.cmov(i,h,a)}return{isValid:p,value:s}};if(e.ORDER%E===v){const r=(e.ORDER-v)/E,n=e.sqrt(e.neg(t));h=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,r);a=e.mul(a,s);const c=e.mul(a,n),u=e.mul(e.sqr(a),i),f=e.eql(u,t);return{isValid:f,value:e.cmov(c,a,f)}}}return h}(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,o,s,a,c,u,f,l;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),u=e.sqr(a),c=e.mul(u,t.A),o=e.add(o,c),o=e.mul(o,s),u=e.mul(u,a),c=e.mul(u,t.B),o=e.add(o,c),f=e.mul(i,s);const{isValid:d,value:h}=r(o,u);l=e.mul(i,n),l=e.mul(l,h),f=e.cmov(f,s,d),l=e.cmov(l,h,d);const p=e.isOdd(n)===e.isOdd(l);return l=e.cmov(e.neg(l),l,p),f=e.div(f,a),{x:f,y:l}}}const I=BigInt(0),x=BigInt(1),T=BigInt(2),C=BigInt(3);const S=BigInt(0),O=BigInt(1),N=BigInt(2),R=BigInt(3);function k(e,t,r,n,i=1,o){const s=BigInt(void 0===o?n:o),a=r**BigInt(n),c=[];for(let o=0;o<i;o++){const i=BigInt(o+1),u=[];for(let o=0,c=O;o<n;o++){const n=(i*c-i)/s%a;u.push(e.pow(t,n)),c*=r}c.push(u)}return c}const U=BigInt(0),P=BigInt(1),L=BigInt(2),j=BigInt(3),D=BigInt(4),F=BigInt("0xd201000000010000"),M=(0,s.dJ)(F),{Fp:q,Fp2:$,Fp6:V,Fp4Square:z,Fp12:G}=function(e){const{ORDER:t}=e,r=o.D0(t),n=r.create(e.NONRESIDUE||BigInt(-1)),i=o.tB(t),a=r.div(r.ONE,N),c=k(r,n,r.ORDER,2)[0],u=({c0:e,c1:t},{c0:n,c1:i})=>({c0:r.add(e,n),c1:r.add(t,i)}),f=({c0:e,c1:t},{c0:n,c1:i})=>({c0:r.sub(e,n),c1:r.sub(t,i)}),l=({c0:e,c1:t},n)=>{if("bigint"==typeof n)return{c0:r.mul(e,n),c1:r.mul(t,n)};const{c0:i,c1:o}=n;let s=r.mul(e,i),a=r.mul(t,o);return{c0:r.sub(s,a),c1:r.sub(r.mul(r.add(e,t),r.add(i,o)),r.add(s,a))}},d=({c0:e,c1:t})=>{const n=r.add(e,t),i=r.sub(e,t),o=r.add(e,e);return{c0:r.mul(n,i),c1:r.mul(o,t)}},h=e=>{if(2!==e.length)throw new Error("Invalid tuple");const t=e.map((e=>r.create(e)));return{c0:t[0],c1:t[1]}},p=t*t,g=h(e.FP2_NONRESIDUE),y={ORDER:p,NONRESIDUE:g,BITS:(0,s.dJ)(p),BYTES:Math.ceil((0,s.dJ)(p)/8),MASK:(0,s.OG)((0,s.dJ)(p)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>"bigint"==typeof e&&"bigint"==typeof t,is0:({c0:e,c1:t})=>r.is0(e)&&r.is0(t),eql:({c0:e,c1:t},{c0:n,c1:i})=>r.eql(e,n)&&r.eql(t,i),neg:({c0:e,c1:t})=>({c0:r.neg(e),c1:r.neg(t)}),pow:(e,t)=>o.f4(y,e,t),invertBatch:e=>o.pS(y,e),add:u,sub:f,mul:l,sqr:d,addN:u,subN:f,mulN:l,sqrN:d,div:(e,t)=>y.mul(e,"bigint"==typeof t?r.inv(r.create(t)):y.inv(t)),inv:({c0:e,c1:t})=>{const n=r.inv(r.create(e*e+t*t));return{c0:r.mul(n,r.create(e)),c1:r.mul(n,r.create(-t))}},sqrt:t=>{if(e.Fp2sqrt)return e.Fp2sqrt(t);const{c0:o,c1:s}=t;if(r.is0(s))return r.eql(i(r,o),r.ONE)?y.create({c0:r.sqrt(o),c1:r.ZERO}):y.create({c0:r.ZERO,c1:r.sqrt(r.div(o,n))});const c=r.sqrt(r.sub(r.sqr(o),r.mul(r.sqr(s),n)));let u=r.mul(r.add(c,o),a);const f=i(r,u);r.is0(f)||r.eql(f,r.ONE)||(u=r.sub(u,c));const l=r.sqrt(u),d=y.create({c0:l,c1:r.div(r.mul(s,a),l)});if(!y.eql(y.sqr(d),t))throw new Error("Cannot find square root");const h=d,p=y.neg(h),{re:g,im:m}=y.reim(h),{re:b,im:w}=y.reim(p);return m>w||m===w&&g>b?h:p},isOdd:e=>{const{re:t,im:r}=y.reim(e);return BigInt(t%N||t===S&&r%N)==O},fromBytes(e){if(e.length!==y.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:r.fromBytes(e.subarray(0,r.BYTES)),c1:r.fromBytes(e.subarray(r.BYTES))}},toBytes:({c0:e,c1:t})=>(0,s.Id)(r.toBytes(e),r.toBytes(t)),cmov:({c0:e,c1:t},{c0:n,c1:i},o)=>({c0:r.cmov(e,n,o),c1:r.cmov(t,i,o)}),reim:({c0:e,c1:t})=>({re:e,im:t}),mulByNonresidue:({c0:e,c1:t})=>y.mul({c0:e,c1:t},g),mulByB:e.Fp2mulByB,fromBigTuple:h,frobeniusMap:({c0:e,c1:t},n)=>({c0:e,c1:r.mul(t,c[n%2])})},m=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:o})=>({c0:y.add(e,n),c1:y.add(t,i),c2:y.add(r,o)}),b=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:o})=>({c0:y.sub(e,n),c1:y.sub(t,i),c2:y.sub(r,o)}),w=({c0:e,c1:t,c2:r},n)=>{if("bigint"==typeof n)return{c0:y.mul(e,n),c1:y.mul(t,n),c2:y.mul(r,n)};const{c0:i,c1:o,c2:s}=n,a=y.mul(e,i),c=y.mul(t,o),u=y.mul(r,s);return{c0:y.add(a,y.mulByNonresidue(y.sub(y.mul(y.add(t,r),y.add(o,s)),y.add(c,u)))),c1:y.add(y.sub(y.mul(y.add(e,t),y.add(i,o)),y.add(a,c)),y.mulByNonresidue(u)),c2:y.sub(y.add(c,y.mul(y.add(e,r),y.add(i,s))),y.add(a,u))}},A=({c0:e,c1:t,c2:r})=>{let n=y.sqr(e),i=y.mul(y.mul(e,t),N),o=y.mul(y.mul(t,r),N),s=y.sqr(r);return{c0:y.add(y.mulByNonresidue(o),n),c1:y.add(y.mulByNonresidue(s),i),c2:y.sub(y.sub(y.add(y.add(i,y.sqr(y.add(y.sub(e,t),r))),o),n),s)}},[v,E]=k(y,g,r.ORDER,6,2,3),_={ORDER:y.ORDER,BITS:3*y.BITS,BYTES:3*y.BYTES,MASK:(0,s.OG)(3*y.BITS),ZERO:{c0:y.ZERO,c1:y.ZERO,c2:y.ZERO},ONE:{c0:y.ONE,c1:y.ZERO,c2:y.ZERO},create:e=>e,isValid:({c0:e,c1:t,c2:r})=>y.isValid(e)&&y.isValid(t)&&y.isValid(r),is0:({c0:e,c1:t,c2:r})=>y.is0(e)&&y.is0(t)&&y.is0(r),neg:({c0:e,c1:t,c2:r})=>({c0:y.neg(e),c1:y.neg(t),c2:y.neg(r)}),eql:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:o})=>y.eql(e,n)&&y.eql(t,i)&&y.eql(r,o),sqrt:s.SJ,div:(e,t)=>_.mul(e,"bigint"==typeof t?r.inv(r.create(t)):_.inv(t)),pow:(e,t)=>o.f4(_,e,t),invertBatch:e=>o.pS(_,e),add:m,sub:b,mul:w,sqr:A,addN:m,subN:b,mulN:w,sqrN:A,inv:({c0:e,c1:t,c2:r})=>{let n=y.sub(y.sqr(e),y.mulByNonresidue(y.mul(r,t))),i=y.sub(y.mulByNonresidue(y.sqr(r)),y.mul(e,t)),o=y.sub(y.sqr(t),y.mul(e,r)),s=y.inv(y.add(y.mulByNonresidue(y.add(y.mul(r,i),y.mul(t,o))),y.mul(e,n)));return{c0:y.mul(s,n),c1:y.mul(s,i),c2:y.mul(s,o)}},fromBytes:e=>{if(e.length!==_.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:y.fromBytes(e.subarray(0,y.BYTES)),c1:y.fromBytes(e.subarray(y.BYTES,2*y.BYTES)),c2:y.fromBytes(e.subarray(2*y.BYTES))}},toBytes:({c0:e,c1:t,c2:r})=>(0,s.Id)(y.toBytes(e),y.toBytes(t),y.toBytes(r)),cmov:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:o},s)=>({c0:y.cmov(e,n,s),c1:y.cmov(t,i,s),c2:y.cmov(r,o,s)}),fromBigSix:e=>{if(!Array.isArray(e)||6!==e.length)throw new Error("Invalid Fp6 usage");return{c0:y.fromBigTuple(e.slice(0,2)),c1:y.fromBigTuple(e.slice(2,4)),c2:y.fromBigTuple(e.slice(4,6))}},frobeniusMap:({c0:e,c1:t,c2:r},n)=>({c0:y.frobeniusMap(e,n),c1:y.mul(y.frobeniusMap(t,n),v[n%6]),c2:y.mul(y.frobeniusMap(r,n),E[n%6])}),mulByFp2:({c0:e,c1:t,c2:r},n)=>({c0:y.mul(e,n),c1:y.mul(t,n),c2:y.mul(r,n)}),mulByNonresidue:({c0:e,c1:t,c2:r})=>({c0:y.mulByNonresidue(r),c1:e,c2:t}),mul1:({c0:e,c1:t,c2:r},n)=>({c0:y.mulByNonresidue(y.mul(r,n)),c1:y.mul(e,n),c2:y.mul(t,n)}),mul01({c0:e,c1:t,c2:r},n,i){let o=y.mul(e,n),s=y.mul(t,i);return{c0:y.add(y.mulByNonresidue(y.sub(y.mul(y.add(t,r),i),s)),o),c1:y.sub(y.sub(y.mul(y.add(n,i),y.add(e,t)),o),s),c2:y.add(y.sub(y.mul(y.add(e,r),n),o),s)}}},B=k(y,g,r.ORDER,12,1,6)[0],I=({c0:e,c1:t},{c0:r,c1:n})=>({c0:_.add(e,r),c1:_.add(t,n)}),x=({c0:e,c1:t},{c0:r,c1:n})=>({c0:_.sub(e,r),c1:_.sub(t,n)}),T=({c0:e,c1:t},r)=>{if("bigint"==typeof r)return{c0:_.mul(e,r),c1:_.mul(t,r)};let{c0:n,c1:i}=r,o=_.mul(e,n),s=_.mul(t,i);return{c0:_.add(o,_.mulByNonresidue(s)),c1:_.sub(_.mul(_.add(e,t),_.add(n,i)),_.add(o,s))}},C=({c0:e,c1:t})=>{let r=_.mul(e,t);return{c0:_.sub(_.sub(_.mul(_.add(_.mulByNonresidue(t),e),_.add(e,t)),r),_.mulByNonresidue(r)),c1:_.add(r,r)}},R={ORDER:y.ORDER,BITS:2*y.BITS,BYTES:2*y.BYTES,MASK:(0,s.OG)(2*y.BITS),ZERO:{c0:_.ZERO,c1:_.ZERO},ONE:{c0:_.ONE,c1:_.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>_.isValid(e)&&_.isValid(t),is0:({c0:e,c1:t})=>_.is0(e)&&_.is0(t),neg:({c0:e,c1:t})=>({c0:_.neg(e),c1:_.neg(t)}),eql:({c0:e,c1:t},{c0:r,c1:n})=>_.eql(e,r)&&_.eql(t,n),sqrt:s.SJ,inv:({c0:e,c1:t})=>{let r=_.inv(_.sub(_.sqr(e),_.mulByNonresidue(_.sqr(t))));return{c0:_.mul(e,r),c1:_.neg(_.mul(t,r))}},div:(e,t)=>R.mul(e,"bigint"==typeof t?r.inv(r.create(t)):R.inv(t)),pow:(e,t)=>o.f4(R,e,t),invertBatch:e=>o.pS(R,e),add:I,sub:x,mul:T,sqr:C,addN:I,subN:x,mulN:T,sqrN:C,fromBytes:e=>{if(e.length!==R.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:_.fromBytes(e.subarray(0,_.BYTES)),c1:_.fromBytes(e.subarray(_.BYTES))}},toBytes:({c0:e,c1:t})=>(0,s.Id)(_.toBytes(e),_.toBytes(t)),cmov:({c0:e,c1:t},{c0:r,c1:n},i)=>({c0:_.cmov(e,r,i),c1:_.cmov(t,n,i)}),fromBigTwelve:e=>({c0:_.fromBigSix(e.slice(0,6)),c1:_.fromBigSix(e.slice(6,12))}),frobeniusMap(e,t){const{c0:r,c1:n,c2:i}=_.frobeniusMap(e.c1,t),o=B[t%12];return{c0:_.frobeniusMap(e.c0,t),c1:_.create({c0:y.mul(r,o),c1:y.mul(n,o),c2:y.mul(i,o)})}},mulByFp2:({c0:e,c1:t},r)=>({c0:_.mulByFp2(e,r),c1:_.mulByFp2(t,r)}),conjugate:({c0:e,c1:t})=>({c0:e,c1:_.neg(t)}),mul014:({c0:e,c1:t},r,n,i)=>{let o=_.mul01(e,r,n),s=_.mul1(t,i);return{c0:_.add(_.mulByNonresidue(s),o),c1:_.sub(_.sub(_.mul01(_.add(t,e),r,y.add(n,i)),o),s)}},mul034:({c0:e,c1:t},r,n,i)=>{const o=_.create({c0:y.mul(e.c0,r),c1:y.mul(e.c1,r),c2:y.mul(e.c2,r)}),s=_.mul01(t,n,i),a=_.mul01(_.add(e,t),y.add(r,n),i);return{c0:_.add(_.mulByNonresidue(s),o),c1:_.sub(a,_.add(o,s))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:y,Fp6:_,Fp4Square:function(e,t){const r=y.sqr(e),n=y.sqr(t);return{first:y.add(y.mulByNonresidue(n),r),second:y.sub(y.sub(y.sqr(y.add(e,t)),r),n)}},Fp12:R}}({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[P,P],Fp2mulByB:({c0:e,c1:t})=>{const r=q.mul(e,D),n=q.mul(t,D);return{c0:q.sub(r,n),c1:q.add(r,n)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:n,c2:i}=e,{c0:o,c1:s,c2:a}=t,{first:c,second:u}=z(r,s),{first:f,second:l}=z(o,i),{first:d,second:h}=z(n,a),p=$.mulByNonresidue(h);return{c0:V.create({c0:$.add($.mul($.sub(c,r),L),c),c1:$.add($.mul($.sub(f,n),L),f),c2:$.add($.mul($.sub(d,i),L),d)}),c1:V.create({c0:$.add($.mul($.add(p,o),L),p),c1:$.add($.mul($.add(u,s),L),u),c2:$.add($.mul($.add(l,a),L),l)})}},Fp12cyclotomicExp(e,t){let r=G.ONE;for(let n=M-1;n>=0;n--)r=G._cyclotomicSquare(r),(0,s.GU)(t,n)&&(r=G.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=F,r=G.div(G.frobeniusMap(e,6),e),n=G.mul(G.frobeniusMap(r,2),r),i=G.conjugate(G._cyclotomicExp(n,t)),o=G.mul(G.conjugate(G._cyclotomicSquare(n)),i),s=G.conjugate(G._cyclotomicExp(o,t)),a=G.conjugate(G._cyclotomicExp(s,t)),c=G.mul(G.conjugate(G._cyclotomicExp(a,t)),G._cyclotomicSquare(i)),u=G.conjugate(G._cyclotomicExp(c,t)),f=G.frobeniusMap(G.mul(i,a),2),l=G.frobeniusMap(G.mul(s,n),3),d=G.frobeniusMap(G.mul(c,G.conjugate(n)),1),h=G.mul(G.mul(u,G.conjugate(o)),n);return G.mul(G.mul(G.mul(f,l),d),h)}}),H=o.D0(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),W=d($,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map((e=>e.map((e=>$.fromBigTuple(e.map(BigInt))))))),K=d(q,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))),Y=B($,{A:$.create({c0:q.create(U),c1:q.create(BigInt(240))}),B:$.create({c0:q.create(BigInt(1012)),c1:q.create(BigInt(1012))}),Z:$.create({c0:q.create(BigInt(-2)),c1:q.create(BigInt(-1))})}),Z=B(q,{A:q.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:q.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:q.create(BigInt(11))}),{G2psi:J,G2psi2:X}=function(e,t,r){const n=t.pow(r,(e.ORDER-O)/R),i=t.pow(r,(e.ORDER-O)/N);function o(e,r){return[t.mul(t.frobeniusMap(e,1),n),t.mul(t.frobeniusMap(r,1),i)]}const s=t.pow(r,(e.ORDER**N-O)/R),a=t.pow(r,(e.ORDER**N-O)/N);if(!t.eql(a,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(e,r){return[t.mul(e,s),t.neg(r)]}const u=e=>(t,r)=>{const n=r.toAffine(),i=e(n.x,n.y);return t.fromAffine({x:i[0],y:i[1]})};return{psi:o,psi2:c,G2psi:u(o),G2psi2:u(c),PSI_X:n,PSI_Y:i,PSI2_X:s,PSI2_Y:a}}(q,$,$.div($.ONE,$.NONRESIDUE)),Q=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:q.ORDER,m:2,k:128,expand:"xmd",hash:n.sc}),ee=re(q.toBytes(U),{infinity:!0,compressed:!0});function te(e){const t=224&(e=e.slice())[0],r=!!(t>>7&1),n=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:i,value:e}}function re(e,t){if(224&e[0])throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function ne(e){e.assertValidity();const t=e.equals(oe.G1.ProjectivePoint.ZERO),{x:r,y:n}=e.toAffine();if(t)return ee.slice();const i=q.ORDER,o=Boolean(n*L/i);return re((0,s.lq)(r,q.BYTES),{compressed:!0,sort:o})}function ie(e){e.assertValidity();const t=q.BYTES;if(e.equals(oe.G2.ProjectivePoint.ZERO))return(0,s.Id)(ee,(0,s.lq)(U,t));const{x:r,y:n}=e.toAffine(),{re:i,im:o}=$.reim(r),{re:a,im:c}=$.reim(n),u=Boolean((c>U?c*L:a*L)/q.ORDER&P),f=i;return(0,s.Id)(re((0,s.lq)(o,t),{sort:u,compressed:!0}),(0,s.lq)(f,t))}const oe=function(e){const{Fp:t,Fr:r,Fp2:n,Fp6:i,Fp12:a}=e.fields,c=e.params.xNegative,u=e.params.twistType,f=_({n:r.ORDER,...e.G1}),l=Object.assign(f,h(f.ProjectivePoint,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),d=_({n:r.ORDER,...e.G2}),p=Object.assign(d,h(d.ProjectivePoint,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let g;if("multiplicative"===u)g=(e,t,r,i,o,s)=>a.mul014(i,e,n.mul(t,o),n.mul(r,s));else{if("divisive"!==u)throw new Error("bls: unknown twist type");g=(e,t,r,i,o,s)=>a.mul034(i,n.mul(r,s),n.mul(t,o),e)}const y=n.div(n.ONE,n.mul(n.ONE,T));function m(e,t,r,i){const o=n.sqr(r),s=n.sqr(i),a=n.mulByB(n.mul(s,C)),c=n.mul(a,C),u=n.sub(n.sub(n.sqr(n.add(r,i)),s),o),f=n.sub(a,o),l=n.mul(n.sqr(t),C),d=n.neg(u);return e.push([f,l,d]),{Rx:t=n.mul(n.mul(n.mul(n.sub(o,c),t),r),y),Ry:r=n.sub(n.sqr(n.mul(n.add(o,c),y)),n.mul(n.sqr(a),C)),Rz:i=n.mul(o,u)}}function b(e,t,r,i,o,s){const a=n.sub(r,n.mul(s,i)),c=n.sub(t,n.mul(o,i)),u=n.sub(n.mul(a,o),n.mul(c,s)),f=n.neg(a),l=c;e.push([u,f,l]);const d=n.sqr(c),h=n.mul(d,c),p=n.mul(d,t),g=n.add(n.sub(h,n.mul(p,T)),n.mul(n.sqr(a),i));return{Rx:t=n.mul(c,g),Ry:r=n.sub(n.mul(n.sub(p,g),a),n.mul(h,r)),Rz:i=n.mul(i,h)}}const w=function(e){const t=[];for(;e>x;e>>=x)(e&x)===I?t.unshift(0):(e&C)===C?(t.unshift(-1),e+=x):t.unshift(1);return t}(e.params.ateLoopSize),A=(0,s.x)((t=>{const r=t,{x:i,y:o}=r.toAffine(),s=i,a=o,c=n.neg(o);let u=s,f=a,l=n.ONE;const d=[];for(const e of w){const t=[];({Rx:u,Ry:f,Rz:l}=m(t,u,f,l)),e&&({Rx:u,Ry:f,Rz:l}=b(t,u,f,l,s,-1===e?c:a)),d.push(t)}if(e.postPrecompute){const t=d[d.length-1];e.postPrecompute(u,f,l,s,a,b.bind(null,t))}return d}));function v(e,t=!1){let r=a.ONE;if(e.length){const t=e[0][0].length;for(let n=0;n<t;n++){r=a.sqr(r);for(const[t,i,o]of e)for(const[e,s,a]of t[n])r=g(e,s,a,r,i,o)}}return c&&(r=a.conjugate(r)),t?a.finalExponentiate(r):r}function E(e,t=!0){const r=[];l.ProjectivePoint.normalizeZ(e.map((({g1:e})=>e))),p.ProjectivePoint.normalizeZ(e.map((({g2:e})=>e)));for(const{g1:t,g2:n}of e){if(t.equals(l.ProjectivePoint.ZERO)||n.equals(p.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");t.assertValidity(),n.assertValidity();const e=t.toAffine();r.push([A(n),e.x,e.y])}return v(r,t)}const B={randomPrivateKey:()=>{const t=(0,o.Tp)(r.ORDER);return(0,o.qy)(e.randomBytes(t),r.ORDER)},calcPairingPrecomputes:A},{ShortSignature:S}=e.G1,{Signature:O}=e.G2;function N(e){return e instanceof l.ProjectivePoint?e:l.ProjectivePoint.fromHex(e)}function R(e,t){return e instanceof l.ProjectivePoint?e:l.hashToCurve((0,s.qj)("point",e),t)}function k(e){return e instanceof p.ProjectivePoint?e:O.fromHex(e)}function U(e,t){return e instanceof p.ProjectivePoint?e:p.hashToCurve((0,s.qj)("point",e),t)}return l.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:function(e){return l.ProjectivePoint.fromPrivateKey(e).toRawBytes(!0)},getPublicKeyForShortSignatures:function(e){return p.ProjectivePoint.fromPrivateKey(e).toRawBytes(!0)},sign:function(e,t,r){const n=U(e,r);n.assertValidity();const i=n.multiply(l.normPrivateKeyToScalar(t));return e instanceof p.ProjectivePoint?i:O.toRawBytes(i)},signShortSignature:function(e,t,r){const n=R(e,r);n.assertValidity();const i=n.multiply(l.normPrivateKeyToScalar(t));return e instanceof l.ProjectivePoint?i:S.toRawBytes(i)},verify:function(e,t,r,n){const i=N(r),o=U(t,n),s=l.ProjectivePoint.BASE,c=k(e),u=E([{g1:i.negate(),g2:o},{g1:s,g2:c}]);return a.eql(u,a.ONE)},verifyBatch:function(e,t,r,n){if(!t.length)throw new Error("Expected non-empty messages array");if(r.length!==t.length)throw new Error("Pubkey count should equal msg count");const i=k(e),o=t.map((e=>U(e,n))),s=r.map(N),c=new Map;for(let e=0;e<s.length;e++){const t=s[e],r=o[e];let n=c.get(r);void 0===n&&(n=[],c.set(r,n)),n.push(t)}const u=[];try{for(const[e,t]of c){const r=t.reduce(((e,t)=>e.add(t)));u.push({g1:r,g2:e})}return u.push({g1:l.ProjectivePoint.BASE.negate(),g2:i}),a.eql(E(u),a.ONE)}catch{return!1}},verifyShortSignature:function(e,t,r,n){const i=k(r),o=R(t,n),s=p.ProjectivePoint.BASE,c=E([{g1:o,g2:i},{g1:N(e),g2:s.negate()}]);return a.eql(c,a.ONE)},aggregatePublicKeys:function(e){if(!e.length)throw new Error("Expected non-empty array");const t=e.map(N).reduce(((e,t)=>e.add(t)),l.ProjectivePoint.ZERO);return e[0]instanceof l.ProjectivePoint?(t.assertValidity(),t):t.toRawBytes(!0)},aggregateSignatures:function(e){if(!e.length)throw new Error("Expected non-empty array");const t=e.map(k).reduce(((e,t)=>e.add(t)),p.ProjectivePoint.ZERO);return e[0]instanceof p.ProjectivePoint?(t.assertValidity(),t):O.toRawBytes(t)},aggregateShortSignatures:function(e){if(!e.length)throw new Error("Expected non-empty array");const t=e.map(N).reduce(((e,t)=>e.add(t)),l.ProjectivePoint.ZERO);return e[0]instanceof l.ProjectivePoint?(t.assertValidity(),t):S.toRawBytes(t)},millerLoopBatch:v,pairing:function(e,t,r=!0){return E([{g1:e,g2:t}],r)},pairingBatch:E,G1:l,G2:p,Signature:O,ShortSignature:S,fields:{Fr:r,Fp:t,Fp2:n,Fp6:i,Fp12:a},params:{ateLoopSize:e.params.ateLoopSize,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:B}}({fields:{Fp:q,Fp2:$,Fp6:V,Fp12:G,Fr:H},G1:{Fp:q,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:q.ZERO,b:D,htfDefaults:{...Q,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(q.mul(t.px,r),t.py,t.pz);return t.multiplyUnsafe(F).negate().multiplyUnsafe(F).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(F).add(t),mapToCurve:e=>{const{x:t,y:r}=Z(q.create(e[0]));return K(t,r)},fromBytes:e=>{const{compressed:t,infinity:r,sort:n,value:i}=te(e);if(48===i.length&&t){const e=q.ORDER,t=(0,s.Ph)(i),o=q.create(t&q.MASK);if(r){if(o!==U)throw new Error("G1: non-empty compressed point at infinity");return{x:U,y:U}}const a=q.add(q.pow(o,j),q.create(oe.params.G1b));let c=q.sqrt(a);if(!c)throw new Error("Invalid compressed G1 point");return c*L/e!==BigInt(n)&&(c=q.neg(c)),{x:q.create(o),y:q.create(c)}}if(96!==i.length||t)throw new Error("Invalid point G1, expected 48/96 bytes");{const e=(0,s.Ph)(i.subarray(0,q.BYTES)),t=(0,s.Ph)(i.subarray(q.BYTES));if(r){if(e!==U||t!==U)throw new Error("G1: non-empty point at infinity");return oe.G1.ProjectivePoint.ZERO.toAffine()}return{x:q.create(e),y:q.create(t)}}},toBytes:(e,t,r)=>{const n=t.equals(e.ZERO),{x:i,y:o}=t.toAffine();if(r){if(n)return ee.slice();const e=q.ORDER,t=Boolean(o*L/e);return re((0,s.lq)(i,q.BYTES),{compressed:!0,sort:t})}if(n){return(0,s.Id)(new Uint8Array([64]),new Uint8Array(2*q.BYTES-1))}return(0,s.Id)((0,s.lq)(i,q.BYTES),(0,s.lq)(o,q.BYTES))},ShortSignature:{fromHex(e){const{infinity:t,sort:r,value:n}=te((0,s.qj)("signatureHex",e,48)),i=q.ORDER,o=(0,s.Ph)(n);if(t)return oe.G1.ProjectivePoint.ZERO;const a=q.create(o&q.MASK),c=q.add(q.pow(a,j),q.create(oe.params.G1b));let u=q.sqrt(c);if(!u)throw new Error("Invalid compressed G1 point");const f=BigInt(r);u*L/i!==f&&(u=q.neg(u));const l=oe.G1.ProjectivePoint.fromAffine({x:a,y:u});return l.assertValidity(),l},toRawBytes:e=>ne(e),toHex:e=>(0,s.My)(ne(e))}},G2:{Fp:$,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:$.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:$.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:$.ZERO,b:$.fromBigTuple([D,D]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Q},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:e=>{const{x:t,y:r}=Y($.fromBigTuple(e));return W(t,r)},isTorsionFree:(e,t)=>t.multiplyUnsafe(F).negate().equals(J(e,t)),clearCofactor:(e,t)=>{const r=F;let n=t.multiplyUnsafe(r).negate(),i=J(e,t),o=t.double();o=X(e,o),o=o.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),o=o.add(i),o=o.subtract(n);return o.subtract(t)},fromBytes:e=>{const{compressed:t,infinity:r,sort:n,value:i}=te(e);if(!t&&!r&&n||!t&&r&&n||n&&r&&t)throw new Error("Invalid encoding flag: "+(224&e[0]));const o=q.BYTES,a=(e,t,r)=>(0,s.Ph)(e.slice(t,r));if(96===i.length&&t){const e=oe.params.G2b,t=q.ORDER;if(r){if(i.reduce(((e,t)=>0!==e?t+1:t),0)>0)throw new Error("Invalid compressed G2 point");return{x:$.ZERO,y:$.ZERO}}const s=a(i,0,o),c=a(i,o,2*o),u=$.create({c0:q.create(c),c1:q.create(s)}),f=$.add($.pow(u,j),e);let l=$.sqrt(f);const d=l.c1===U?l.c0*L/t:l.c1*L/t?P:U;return l=n&&d>0?l:$.neg(l),{x:u,y:l}}if(192!==i.length||t)throw new Error("Invalid point G2, expected 96/192 bytes");{if(r){if(i.reduce(((e,t)=>0!==e?t+1:t),0)>0)throw new Error("Invalid uncompressed G2 point");return{x:$.ZERO,y:$.ZERO}}const e=a(i,0,o),t=a(i,o,2*o),n=a(i,2*o,3*o),s=a(i,3*o,4*o);return{x:$.fromBigTuple([t,e]),y:$.fromBigTuple([s,n])}}},toBytes:(e,t,r)=>{const{BYTES:n,ORDER:i}=q,o=t.equals(e.ZERO),{x:a,y:c}=t.toAffine();if(r){if(o)return(0,s.Id)(ee,(0,s.lq)(U,n));const e=Boolean(c.c1===U?c.c0*L/i:c.c1*L/i);return(0,s.Id)(re((0,s.lq)(a.c1,n),{compressed:!0,sort:e}),(0,s.lq)(a.c0,n))}{if(o)return(0,s.Id)(new Uint8Array([64]),new Uint8Array(4*n-1));const{re:e,im:t}=$.reim(a),{re:r,im:i}=$.reim(c);return(0,s.Id)((0,s.lq)(t,n),(0,s.lq)(e,n),(0,s.lq)(i,n),(0,s.lq)(r,n))}},Signature:{fromHex(e){const{infinity:t,sort:r,value:n}=te((0,s.qj)("signatureHex",e)),i=q.ORDER,o=n.length/2;if(48!==o&&96!==o)throw new Error("Invalid compressed signature length, must be 96 or 192");const a=(0,s.Ph)(n.slice(0,o)),c=(0,s.Ph)(n.slice(o));if(t)return oe.G2.ProjectivePoint.ZERO;const u=q.create(a&q.MASK),f=q.create(c),l=$.create({c0:f,c1:u}),d=$.add($.pow(l,j),oe.params.G2b);let h=$.sqrt(d);if(!h)throw new Error("Failed to find a square root");const{re:p,im:g}=$.reim(h),y=BigInt(r);(g>U&&g*L/i!==y||g===U&&p*L/i!==y)&&(h=$.neg(h));const m=oe.G2.ProjectivePoint.fromAffine({x:l,y:h});return m.assertValidity(),m},toRawBytes:e=>ie(e),toHex:e=>(0,s.My)(ie(e))}},params:{ateLoopSize:F,r:H.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:Q,hash:n.sc,randomBytes:i.po});var se=r(2338);function ae(e,t,r){const n="string"==typeof e?e:(0,se.nj)(e),i="string"==typeof t?t:(0,se.nj)(t),o="string"==typeof r?r:(0,se.nj)(r);return oe.verifyShortSignature(i,o,n)}},2338:(e,t,r)=>{"use strict";function n(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function i(e){return[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("")}r.d(t,{HA:()=>c,Nn:()=>u,UD:()=>a,aD:()=>s,em:()=>f,nj:()=>i,xW:()=>n});const o=new RegExp(/^[0-9a-fA-F]+$/);function s(e){if(!o.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce(((e,t,r)=>(e[r/2|0]=(e[r/2|0]||"")+t,e)),[]).map((e=>Number.parseInt(e,16)));return new Uint8Array(t).buffer}function a(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==n[e])return r[e]-n[e];return 0}function c(e,t){return 0===a(e,t)}function u(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function f(e){return e instanceof Uint8Array?u(e):e instanceof ArrayBuffer?e:Array.isArray(e)?u(new Uint8Array(e)):"buffer"in e?f(e.buffer):u(new Uint8Array(e))}},9345:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,b:()=>i});var n=r(4664);const i=e=>(0,n.lebDecode)(new n.PipeArrayBuffer(e)),o=e=>{const t=i(e);return new Date(Number(t)/1e6)}},2635:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});const n=()=>{if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if("undefined"!=typeof crypto&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return"undefined"!=typeof crypto&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(4294967295*Math.random())}},5259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthClient:()=>ge,ERROR_USER_INTERRUPT:()=>pe,IdbKeyVal:()=>re,IdbStorage:()=>le,IdleManager:()=>L,KEY_STORAGE_DELEGATION:()=>ae,KEY_STORAGE_KEY:()=>se,LocalStorage:()=>fe});var n,i,o,s,a=r(5736),c=r(610),u=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},f=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function l(e){return null!==e&&"object"==typeof e}class d{constructor(e){if(n.set(this,void 0),i.set(this,void 0),e.byteLength!==d.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");u(this,n,e,"f"),u(this,i,d.derEncode(e),"f")}static from(e){if("string"==typeof e){const t=(0,a.fromHex)(e);return this.fromRaw(t)}if(l(e)){const t=e;if(l(t)&&Object.hasOwnProperty.call(t,"__derEncodedPublicKey__"))return this.fromDer(t);if(ArrayBuffer.isView(t)){const e=t;return this.fromRaw((0,a.bufFromBufLike)(e.buffer))}if(t instanceof ArrayBuffer)return this.fromRaw(t);if("rawKey"in t)return this.fromRaw(t.rawKey);if("derKey"in t)return this.fromDer(t.derKey);if("toDer"in t)return this.fromDer(t.toDer())}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(e){return new d(e)}static fromDer(e){return new d(this.derDecode(e))}static derEncode(e){const t=(0,a.wrapDER)(e,a.ED25519_OID).buffer;return t.__derEncodedPublicKey__=void 0,t}static derDecode(e){const t=(0,a.unwrapDER)(e,a.ED25519_OID);if(t.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return t}get rawKey(){return f(this,n,"f")}get derKey(){return f(this,i,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}n=new WeakMap,i=new WeakMap,d.RAW_KEY_LENGTH=32;class h extends a.SignIdentity{constructor(e,t){super(),o.set(this,void 0),s.set(this,void 0),u(this,o,d.from(e),"f"),u(this,s,new Uint8Array(t),"f")}static generate(e){if(e&&32!==e.length)throw new Error("Ed25519 Seed needs to be 32 bytes long.");e||(e=c.ev.utils.randomPrivateKey()),(0,a.bufEquals)(e,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const t=new Uint8Array(32);for(let r=0;r<32;r++)t[r]=new Uint8Array(e)[r];const r=c.ev.getPublicKey(t);return h.fromKeyPair(r,t)}static fromParsedJson(e){const[t,r]=e;return new h(d.fromDer((0,a.fromHex)(t)),(0,a.fromHex)(r))}static fromJSON(e){const t=JSON.parse(e);if(Array.isArray(t)){if("string"==typeof t[0]&&"string"==typeof t[1])return this.fromParsedJson([t[0],t[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(e)}`)}static fromKeyPair(e,t){return new h(d.fromRaw(e),t)}static fromSecretKey(e){const t=c.ev.getPublicKey(new Uint8Array(e));return h.fromKeyPair(t,e)}toJSON(){return[(0,a.toHex)(f(this,o,"f").toDer()),(0,a.toHex)(f(this,s,"f"))]}getKeyPair(){return{secretKey:f(this,s,"f"),publicKey:f(this,o,"f")}}getPublicKey(){return f(this,o,"f")}async sign(e){const t=new Uint8Array(e),r=(0,a.uint8ToBuf)(c.ev.sign(t,f(this,s,"f").slice(0,32)));return Object.defineProperty(r,"__signature__",{enumerable:!1,value:void 0}),r}static verify(e,t,r){const[n,i,o]=[e,t,r].map((e=>("string"==typeof e&&(e=(0,a.fromHex)(e)),e instanceof Uint8Array&&(e=e.buffer),new Uint8Array(e))));return c.ev.verify(i,n,o)}}o=new WeakMap,s=new WeakMap;class p extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,p.prototype)}}function g(e){if(void 0!==r.g&&r.g.crypto&&r.g.crypto.subtle)return r.g.crypto.subtle;if(e)return e;if("undefined"!=typeof crypto&&crypto.subtle)return crypto.subtle;throw new p("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class y extends a.SignIdentity{constructor(e,t,r){super(),this._keyPair=e,this._derKey=t,this._subtleCrypto=r}static async generate(e){const{extractable:t=!1,keyUsages:r=["sign","verify"],subtleCrypto:n}=null!=e?e:{},i=g(n),o=await i.generateKey({name:"ECDSA",namedCurve:"P-256"},t,r);return new this(o,await i.exportKey("spki",o.publicKey),i)}static async fromKeyPair(e,t){const r=g(t),n=await r.exportKey("spki",e.publicKey);return new y(e,n,r)}getKeyPair(){return this._keyPair}getPublicKey(){const e=this._derKey,t=Object.create(this._keyPair.publicKey);return t.toDer=function(){return e},t}async sign(e){return await this._subtleCrypto.sign({name:"ECDSA",hash:{name:"SHA-256"}},this._keyPair.privateKey,e)}}var m,b=r(2336),w=r(9283),A=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},v=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class E{constructor(e){m.set(this,void 0),A(this,m,e,"f")}get rawKey(){return v(this,m,"f").rawKey}get derKey(){return v(this,m,"f").derKey}toDer(){return v(this,m,"f").toDer()}getPublicKey(){return v(this,m,"f")}getPrincipal(){return b.Principal.from(v(this,m,"f").rawKey)}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}m=new WeakMap;var _,B=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},I=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},x=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const T=(new TextEncoder).encode("ic-request-auth-delegation"),C=(new TextEncoder).encode("\nic-request");function S(e){if("string"!=typeof e||e.length<64)throw new Error("Invalid public key.");return(0,a.fromHex)(e)}class O{constructor(e,t,r){this.pubkey=e,this.expiration=t,this.targets=r}toCBOR(){return w.value.map(Object.assign({pubkey:w.value.bytes(this.pubkey),expiration:w.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:w.value.array(this.targets.map((e=>w.value.bytes(e.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:(0,a.toHex)(this.pubkey)},this.targets&&{targets:this.targets.map((e=>e.toHex()))})}}class N{constructor(e,t){this.delegations=e,this.publicKey=t}static async create(e,t,r=new Date(Date.now()+9e5),n={}){var i,o;const s=await async function(e,t,r,n){const i=new O(t.toDer(),BigInt(+r)*BigInt(1e6),n),o=new Uint8Array([...T,...new Uint8Array((0,a.requestIdOf)(i))]);return{delegation:i,signature:await e.sign(o)}}(e,t,r,n.targets);return new N([...(null===(i=n.previous)||void 0===i?void 0:i.delegations)||[],s],(null===(o=n.previous)||void 0===o?void 0:o.publicKey)||e.getPublicKey().toDer())}static fromJSON(e){const{publicKey:t,delegations:r}="string"==typeof e?JSON.parse(e):e;if(!Array.isArray(r))throw new Error("Invalid delegations.");return new this(r.map((e=>{const{delegation:t,signature:r}=e,{pubkey:n,expiration:i,targets:o}=t;if(void 0!==o&&!Array.isArray(o))throw new Error("Invalid targets.");return{delegation:new O(S(n),BigInt("0x"+i),o&&o.map((e=>{if("string"!=typeof e)throw new Error("Invalid target.");return b.Principal.fromHex(e)}))),signature:S(r)}})),S(t))}static fromDelegations(e,t){return new this(e,t)}toJSON(){return{delegations:this.delegations.map((e=>{const{delegation:t,signature:r}=e,{targets:n}=t;return{delegation:Object.assign({expiration:t.expiration.toString(16),pubkey:(0,a.toHex)(t.pubkey)},n&&{targets:n.map((e=>e.toHex()))}),signature:(0,a.toHex)(r)}})),publicKey:(0,a.toHex)(this.publicKey)}}}class R extends a.SignIdentity{constructor(e,t){super(),this._inner=e,this._delegation=t}static fromDelegation(e,t){return new this(e,t)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){const{body:t}=e,r=x(e,["body"]),n=await(0,a.requestIdOf)(t);return Object.assign(Object.assign({},r),{body:{content:t,sender_sig:await this.sign(new Uint8Array([...C,...new Uint8Array(n)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class k extends E{constructor(e,t){super(e),_.set(this,void 0),B(this,_,t,"f")}get delegation(){return I(this,_,"f")}static fromDelegation(e,t){return new k(e,t)}}_=new WeakMap;var U;r(7516),r(2531),r(4664);!function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"}(U||(U={}));a.SignIdentity;const P=["mousedown","mousemove","keydown","touchstart","wheel"];class L{constructor(e={}){var t;this.callbacks=[],this.idleTimeout=6e5,this.timeoutID=void 0;const{onIdle:r,idleTimeout:n=6e5}=e||{};this.callbacks=r?[r]:[],this.idleTimeout=n;const i=this._resetTimer.bind(this);window.addEventListener("load",i,!0),P.forEach((function(e){document.addEventListener(e,i,!0)}));const o=(e,t)=>{let r;return(...n)=>{const i=this;clearTimeout(r),r=window.setTimeout((function(){r=void 0,e.apply(i,n)}),t)}};if(null==e?void 0:e.captureScroll){const r=o(i,null!==(t=null==e?void 0:e.scrollDebounce)&&void 0!==t?t:100);window.addEventListener("scroll",r,!0)}i()}static create(e={}){return new this(e)}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const e=this._resetTimer.bind(this);P.forEach((function(t){document.removeEventListener(t,e,!0)})),this.callbacks.forEach((e=>e()))}_resetTimer(){const e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}}let j,D;const F=new WeakMap,M=new WeakMap,q=new WeakMap,$=new WeakMap,V=new WeakMap;let z={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return M.get(e);if("objectStoreNames"===t)return e.objectStoreNames||q.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return W(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function G(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(D||(D=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(K(this),t),W(F.get(this))}:function(...t){return W(e.apply(K(this),t))}:function(t,...r){const n=e.call(K(this),t,...r);return q.set(n,t.sort?t.sort():[t]),W(n)}}function H(e){return"function"==typeof e?G(e):(e instanceof IDBTransaction&&function(e){if(M.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));M.set(e,t)}(e),t=e,(j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,z):e);var t}function W(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(W(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&F.set(t,e)})).catch((()=>{})),V.set(t,e),t}(e);if($.has(e))return $.get(e);const t=H(e);return t!==e&&($.set(e,t),V.set(t,e)),t}const K=e=>V.get(e);const Y=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],J=new Map;function X(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(J.get(t))return J.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=Z.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!Y.includes(r))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),i&&o.done]))[0]};return J.set(t,o),o}z=(e=>({...e,get:(t,r,n)=>X(t,r)||e.get(t,r,n),has:(t,r)=>!!X(t,r)||e.has(t,r)}))(z);const Q="auth-client-db",ee="ic-keyval",te=async(e=Q,t=ee,r)=>(ue&&(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(ae))&&(localStorage.removeItem(ae),localStorage.removeItem(se)),await function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=W(s);return n&&s.addEventListener("upgradeneeded",(e=>{n(W(s.result),e.oldVersion,e.newVersion,W(s.transaction),e)})),r&&s.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(e,r,{upgrade:e=>{e.objectStoreNames.contains(t)&&e.clear(t),e.createObjectStore(t)}}));class re{constructor(e,t){this._db=e,this._storeName=t}static async create(e){const{dbName:t=Q,storeName:r=ee,version:n=ce}=null!=e?e:{},i=await te(t,r,n);return new re(i,r)}async set(e,t){return await async function(e,t,r,n){return await e.put(t,n,r)}(this._db,this._storeName,e,t)}async get(e){var t;return null!==(t=await async function(e,t,r){return await e.get(t,r)}(this._db,this._storeName,e))&&void 0!==t?t:null}async remove(e){return await async function(e,t,r){return await e.delete(t,r)}(this._db,this._storeName,e)}}var ne,ie=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},oe=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};const se="identity",ae="delegation",ce=1,ue="undefined"!=typeof window;class fe{constructor(e="ic-",t){this.prefix=e,this._localStorage=t}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,t){return this._getLocalStorage().setItem(this.prefix+e,t),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const e="undefined"==typeof window?void 0===r.g?"undefined"==typeof self?void 0:self.localStorage:r.g.localStorage:window.localStorage;if(!e)throw new Error("Could not find local storage.");return e}}class le{constructor(e){ne.set(this,void 0),ie(this,ne,null!=e?e:{},"f")}get _db(){return new Promise((e=>{this.initializedDb?e(this.initializedDb):re.create(oe(this,ne,"f")).then((t=>{this.initializedDb=t,e(t)}))}))}async get(e){const t=await this._db;return await t.get(e)}async set(e,t){const r=await this._db;await r.set(e,t)}async remove(e){const t=await this._db;await t.remove(e)}}ne=new WeakMap;const de="ECDSA",he="Ed25519",pe="UserInterrupt";class ge{constructor(e,t,r,n,i,o,s,a){this._identity=e,this._key=t,this._chain=r,this._storage=n,this.idleManager=i,this._createOptions=o,this._idpWindow=s,this._eventHandler=a,this._registerDefaultIdleCallback()}static async create(e={}){var t,r,n;const i=null!==(t=e.storage)&&void 0!==t?t:new le,o=null!==(r=e.keyType)&&void 0!==r?r:de;let s=null;if(e.identity)s=e.identity;else{let e=await i.get(se);if(!e&&ue)try{const t=new fe,r=await t.get(ae),n=await t.get(se);r&&n&&o===de&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await i.set(ae,r),await i.set(se,n),e=r,await t.remove(ae),await t.remove(se))}catch(e){console.error("error while attempting to recover localstorage: "+e)}if(e)try{"object"==typeof e?s=o===he&&"string"==typeof e?await h.fromJSON(e):await y.fromKeyPair(e):"string"==typeof e&&(s=h.fromJSON(e))}catch(e){}}let c,u=new a.AnonymousIdentity,f=null;if(s)try{const t=await i.get(ae);if("object"==typeof t&&null!==t)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?u=e.identity:t&&(f=N.fromJSON(t),!function(e,t){for(const{delegation:t}of e.delegations)if(+new Date(Number(t.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[],n=null==t?void 0:t.scope;n&&(Array.isArray(n)?r.push(...n.map((e=>"string"==typeof e?b.Principal.fromText(e):e))):r.push("string"==typeof n?b.Principal.fromText(n):n));for(const t of r){const r=t.toText();for(const{delegation:t}of e.delegations){if(void 0===t.targets)continue;let e=!0;for(const n of t.targets)if(n.toText()===r){e=!1;break}if(e)return!1}}return!0}(f)?(await ye(i),s=null):u="toDer"in s?k.fromDelegation(s,f):R.fromDelegation(s,f))}catch(e){console.error(e),await ye(i),s=null}return(null===(n=e.idleOptions)||void 0===n?void 0:n.disableIdle)?c=void 0:(f||e.identity)&&(c=L.create(e.idleOptions)),s||(o===he?(s=await h.generate(),await i.set(se,JSON.stringify(s.toJSON()))):(e.storage&&o===de&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${he}' as the key type, as it can serialize to a string`),s=await y.generate(),await i.set(se,s.getKeyPair()))),new this(u,s,f,i,c,e)}_registerDefaultIdleCallback(){var e,t;const r=null===(e=this._createOptions)||void 0===e?void 0:e.idleOptions;(null==r?void 0:r.onIdle)||(null==r?void 0:r.disableDefaultIdleCallback)||null===(t=this.idleManager)||void 0===t||t.registerCallback((()=>{this.logout(),location.reload()}))}async _handleSuccess(e,t){var r,n;const i=e.delegations.map((e=>({delegation:new O(e.delegation.pubkey,e.delegation.expiration,e.delegation.targets),signature:e.signature.buffer}))),o=N.fromDelegations(i,e.userPublicKey.buffer),s=this._key;if(!s)return;this._chain=o,this._identity="toDer"in s?k.fromDelegation(s,this._chain):R.fromDelegation(s,this._chain),null===(r=this._idpWindow)||void 0===r||r.close();const a=null===(n=this._createOptions)||void 0===n?void 0:n.idleOptions;this.idleManager||(null==a?void 0:a.disableIdle)||(this.idleManager=L.create(a),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(ae,JSON.stringify(this._chain.toJSON())),null==t||t(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&null!==this._chain}async login(e){var t,r,n,i;const o=BigInt(8)*BigInt(36e11),s=new URL((null===(t=null==e?void 0:e.identityProvider)||void 0===t?void 0:t.toString())||"https://identity.ic0.app");s.hash="#authorize",null===(r=this._idpWindow)||void 0===r||r.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(s,Object.assign({maxTimeToLive:null!==(n=null==e?void 0:e.maxTimeToLive)&&void 0!==n?n:o},e)),window.addEventListener("message",this._eventHandler),this._idpWindow=null!==(i=window.open(s.toString(),"idpWindow",null==e?void 0:e.windowOpenerFeatures))&&void 0!==i?i:void 0;const a=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(pe,null==e?void 0:e.onError):setTimeout(a,500))};a()}_getEventHandler(e,t){return async r=>{var n,i,o;if(r.origin!==e.origin)return void console.warn(`WARNING: expected origin '${e.origin}', got '${r.origin}' (ignoring)`);const s=r.data;switch(s.kind){case"authorize-ready":{const r=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array(null===(n=this._key)||void 0===n?void 0:n.getPublicKey().toDer()),maxTimeToLive:null==t?void 0:t.maxTimeToLive,allowPinAuthentication:null==t?void 0:t.allowPinAuthentication,derivationOrigin:null===(i=null==t?void 0:t.derivationOrigin)||void 0===i?void 0:i.toString()},null==t?void 0:t.customValues);null===(o=this._idpWindow)||void 0===o||o.postMessage(r,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(s,null==t?void 0:t.onSuccess)}catch(e){this._handleFailure(e.message,null==t?void 0:t.onError)}break;case"authorize-client-failure":this._handleFailure(s.text,null==t?void 0:t.onError)}}}_handleFailure(e,t){var r;null===(r=this._idpWindow)||void 0===r||r.close(),null==t||t(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await ye(this._storage),this._identity=new a.AnonymousIdentity,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch(t){window.location.href=e.returnTo}}}async function ye(e){await e.remove(se),await e.remove(ae),await e.remove("iv")}},4664:(e,t,r)=>{"use strict";r.r(t),r.d(t,{IDL:()=>n,InputBox:()=>Ce,InputForm:()=>Se,OptionForm:()=>ke,PipeArrayBuffer:()=>c,RecordForm:()=>Oe,Render:()=>Ve,TupleForm:()=>Ne,VariantForm:()=>Re,VecForm:()=>Ue,bufFromBufLike:()=>f,concat:()=>o,fromHexString:()=>a,idlLabelToId:()=>l,inputBox:()=>je,lebDecode:()=>y,lebEncode:()=>g,optForm:()=>qe,readIntLE:()=>E,readUIntLE:()=>v,recordForm:()=>De,renderInput:()=>He,renderValue:()=>We,safeRead:()=>h,safeReadUint8:()=>p,slebDecode:()=>b,slebEncode:()=>m,toHexString:()=>s,tupleForm:()=>Fe,uint8ToBuf:()=>u,variantForm:()=>Me,vecForm:()=>$e,writeIntLE:()=>A,writeUIntLE:()=>w});var n={};r.r(n),r.d(n,{Bool:()=>ie,BoolClass:()=>k,ConstructType:()=>O,Empty:()=>te,EmptyClass:()=>N,FixedIntClass:()=>M,FixedNatClass:()=>q,Float32:()=>ue,Float64:()=>fe,FloatClass:()=>F,Func:()=>xe,FuncClass:()=>Z,Int:()=>ae,Int16:()=>de,Int32:()=>he,Int64:()=>pe,Int8:()=>le,IntClass:()=>j,Nat:()=>ce,Nat16:()=>ye,Nat32:()=>me,Nat64:()=>be,Nat8:()=>ge,NatClass:()=>D,Null:()=>oe,NullClass:()=>U,Opt:()=>Ee,OptClass:()=>V,PrimitiveType:()=>S,Principal:()=>we,PrincipalClass:()=>Y,Rec:()=>Ie,RecClass:()=>W,Record:()=>_e,RecordClass:()=>z,Reserved:()=>re,ReservedClass:()=>P,Service:()=>Te,ServiceClass:()=>J,Text:()=>se,TextClass:()=>L,Tuple:()=>Ae,TupleClass:()=>G,Type:()=>C,Unknown:()=>ne,UnknownClass:()=>R,Variant:()=>Be,VariantClass:()=>H,Vec:()=>ve,VecClass:()=>$,Visitor:()=>T,decode:()=>ee,encode:()=>Q});var i=r(2336);function o(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}function s(e){return new Uint8Array(e).reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}function a(e){var t;return new Uint8Array((null!==(t=e.match(/.{1,2}/g))&&void 0!==t?t:[]).map((e=>parseInt(e,16))))}class c{constructor(e,t=(null==e?void 0:e.byteLength)||0){this._buffer=f(e||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,t)}get buffer(){return f(this._view.slice())}get byteLength(){return this._view.byteLength}read(e){const t=this._view.subarray(0,e);return this._view=this._view.subarray(e),t.slice().buffer}readUint8(){const e=this._view[0];return this._view=this._view.subarray(1),e}write(e){const t=new Uint8Array(e),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+t.byteLength>=this._buffer.byteLength?this.alloc(t.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+t.byteLength),this._view.set(t,r)}get end(){return 0===this._view.byteLength}alloc(e){const t=new ArrayBuffer(1.2*(this._buffer.byteLength+e)|0),r=new Uint8Array(t,0,this._view.byteLength+e);r.set(this._view),this._buffer=t,this._view=r}}function u(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function f(e){return e instanceof Uint8Array?u(e):e instanceof ArrayBuffer?e:Array.isArray(e)?u(new Uint8Array(e)):"buffer"in e?f(e.buffer):u(new Uint8Array(e))}function l(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return function(e){const t=(new TextEncoder).encode(e);let r=0;for(const e of t)r=(223*r+e)%2**32;return r}(e)}function d(){throw new Error("unexpected end of buffer")}function h(e,t){return e.byteLength<t&&d(),e.read(t)}function p(e){const t=e.readUint8();return void 0===t&&d(),t}function g(e){if("number"==typeof e&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new c(new ArrayBuffer(t),0);for(;;){const t=Number(e&BigInt(127));if((e/=BigInt(128))===BigInt(0)){r.write(new Uint8Array([t]));break}r.write(new Uint8Array([128|t]))}return r.buffer}function y(e){let t,r=BigInt(1),n=BigInt(0);do{t=p(e),n+=BigInt(127&t).valueOf()*r,r*=BigInt(128)}while(t>=128);return n}function m(e){"number"==typeof e&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new c(new ArrayBuffer(r),0);for(;;){const r=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&64&r||!t&&e===BigInt(0)&&!(64&r)){n.write(new Uint8Array([r]));break}n.write(new Uint8Array([128|r]))}function i(e){const r=e%BigInt(128);return Number(t?BigInt(128)-r-BigInt(1):r)}return n.buffer}function b(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(64&t[r]))return y(e);break}const n=new Uint8Array(h(e,r+1));let i=BigInt(0);for(let e=n.byteLength-1;e>=0;e--)i=i*BigInt(128)+BigInt(128-(127&n[e])-1);return-i-BigInt(1)}function w(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return A(e,t)}function A(e,t){e=BigInt(e);const r=new c(new ArrayBuffer(Math.min(1,t)),0);let n=0,i=BigInt(256),o=BigInt(0),s=Number(e%i);for(r.write(new Uint8Array([s]));++n<t;)e<0&&o===BigInt(0)&&0!==s&&(o=BigInt(1)),s=Number((e/i-o)%BigInt(256)),r.write(new Uint8Array([s])),i*=BigInt(256);return r.buffer}function v(e,t){let r=BigInt(p(e)),n=BigInt(1),i=0;for(;++i<t;){n*=BigInt(256);r+=n*BigInt(p(e))}return r}function E(e,t){let r=v(e,t);const n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function _(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const B="DIDL";function I(e,t,r){return e.map(((e,n)=>r(e,t[n])))}class x{constructor(){this._typs=[],this._idx=new Map}has(e){return this._idx.has(e.name)}add(e,t){const r=this._typs.length;this._idx.set(e.name,r),this._typs.push(t)}merge(e,t){const r=this._idx.get(e.name),n=this._idx.get(t);if(void 0===r)throw new Error("Missing type index for "+e);if(void 0===n)throw new Error("Missing type index for "+t);this._typs[r]=this._typs[n],this._typs.splice(n,1),this._idx.delete(t)}encode(){const e=g(this._typs.length),t=o(...this._typs);return o(e,t)}indexOf(e){if(!this._idx.has(e))throw new Error("Missing type index for "+e);return m(this._idx.get(e)||0)}}class T{visitType(e,t){throw new Error("Not implemented")}visitPrimitive(e,t){return this.visitType(e,t)}visitEmpty(e,t){return this.visitPrimitive(e,t)}visitBool(e,t){return this.visitPrimitive(e,t)}visitNull(e,t){return this.visitPrimitive(e,t)}visitReserved(e,t){return this.visitPrimitive(e,t)}visitText(e,t){return this.visitPrimitive(e,t)}visitNumber(e,t){return this.visitPrimitive(e,t)}visitInt(e,t){return this.visitNumber(e,t)}visitNat(e,t){return this.visitNumber(e,t)}visitFloat(e,t){return this.visitPrimitive(e,t)}visitFixedInt(e,t){return this.visitNumber(e,t)}visitFixedNat(e,t){return this.visitNumber(e,t)}visitPrincipal(e,t){return this.visitPrimitive(e,t)}visitConstruct(e,t){return this.visitType(e,t)}visitVec(e,t,r){return this.visitConstruct(e,r)}visitOpt(e,t,r){return this.visitConstruct(e,r)}visitRecord(e,t,r){return this.visitConstruct(e,r)}visitTuple(e,t,r){const n=t.map(((e,t)=>[`_${t}_`,e]));return this.visitRecord(e,n,r)}visitVariant(e,t,r){return this.visitConstruct(e,r)}visitRec(e,t,r){return this.visitConstruct(t,r)}visitFunc(e,t){return this.visitConstruct(e,t)}visitService(e,t){return this.visitConstruct(e,t)}}class C{display(){return this.name}valueToString(e){return X(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}}class S extends C{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}}class O extends C{checkType(e){if(e instanceof W){const t=e.getType();if(void 0===t)throw new Error("type mismatch with uninitialized type");return t}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}}class N extends S{accept(e,t){return e.visitEmpty(this,t)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return m(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class R extends C{checkType(e){throw new Error("Method not implemented for unknown.")}accept(e,t){throw e.visitType(this,t)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(e,t){let r,n=t.decodeValue(e,t);return Object(n)!==n&&(n=Object(n)),r=t instanceof W?()=>t.getType():()=>t,Object.defineProperty(n,"type",{value:r,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class k extends S{accept(e,t){return e.visitBool(this,t)}covariant(e){if("boolean"==typeof e)return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return m(-2)}decodeValue(e,t){switch(this.checkType(t),p(e)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class U extends S{accept(e,t){return e.visitNull(this,t)}covariant(e){if(null===e)return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return m(-1)}decodeValue(e,t){return this.checkType(t),null}get name(){return"null"}}class P extends S{accept(e,t){return e.visitReserved(this,t)}covariant(e){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return m(-16)}decodeValue(e,t){return t.name!==this.name&&t.decodeValue(e,t),null}get name(){return"reserved"}}class L extends S{accept(e,t){return e.visitText(this,t)}covariant(e){if("string"==typeof e)return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){const t=(new TextEncoder).encode(e);return o(g(t.byteLength),t)}encodeType(){return m(-15)}decodeValue(e,t){this.checkType(t);const r=y(e),n=h(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(n)}get name(){return"text"}valueToString(e){return'"'+e+'"'}}class j extends S{accept(e,t){return e.visitInt(this,t)}covariant(e){if("bigint"==typeof e||Number.isInteger(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){return m(e)}encodeType(){return m(-4)}decodeValue(e,t){return this.checkType(t),b(e)}get name(){return"int"}valueToString(e){return e.toString()}}class D extends S{accept(e,t){return e.visitNat(this,t)}covariant(e){if("bigint"==typeof e&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){return g(e)}encodeType(){return m(-3)}decodeValue(e,t){return this.checkType(t),y(e)}get name(){return"nat"}valueToString(e){return e.toString()}}class F extends S{constructor(e){if(super(),this._bits=e,32!==e&&64!==e)throw new Error("not a valid float type")}accept(e,t){return e.visitFloat(this,t)}covariant(e){if("number"==typeof e||e instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){const t=new ArrayBuffer(this._bits/8),r=new DataView(t);return 32===this._bits?r.setFloat32(0,e,!0):r.setFloat64(0,e,!0),t}encodeType(){return m(32===this._bits?-13:-14)}decodeValue(e,t){this.checkType(t);const r=h(e,this._bits/8),n=new DataView(r);return 32===this._bits?n.getFloat32(0,!0):n.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}}class M extends S{constructor(e){super(),this._bits=e}accept(e,t){return e.visitFixedInt(this,t)}covariant(e){const t=_(this._bits-1)*BigInt(-1),r=_(this._bits-1)-BigInt(1);let n=!1;if("bigint"==typeof e)n=e>=t&&e<=r;else if(Number.isInteger(e)){const i=BigInt(e);n=i>=t&&i<=r}else n=!1;if(n)return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){return A(e,this._bits/8)}encodeType(){return m(-9-(Math.log2(this._bits)-3))}decodeValue(e,t){this.checkType(t);const r=E(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}}class q extends S{constructor(e){super(),this._bits=e}accept(e,t){return e.visitFixedNat(this,t)}covariant(e){const t=_(this._bits);let r=!1;if("bigint"==typeof e&&e>=BigInt(0))r=e<t;else if(Number.isInteger(e)&&e>=0){r=BigInt(e)<t}else r=!1;if(r)return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){return w(e,this._bits/8)}encodeType(){return m(-5-(Math.log2(this._bits)-3))}decodeValue(e,t){this.checkType(t);const r=v(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}}class $ extends O{constructor(e){super(),this._type=e,this._blobOptimization=!1,e instanceof q&&8===e._bits&&(this._blobOptimization=!0)}accept(e,t){return e.visitVec(this,this._type,t)}covariant(e){const t=this._type instanceof q||this._type instanceof M?this._type._bits:0;if(ArrayBuffer.isView(e)&&t==8*e.BYTES_PER_ELEMENT||Array.isArray(e)&&e.every(((e,t)=>{try{return this._type.covariant(e)}catch(e){throw new Error(`Invalid ${this.display()} argument: \n\nindex ${t} -> ${e.message}`)}})))return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){const t=g(e.length);if(this._blobOptimization)return o(t,new Uint8Array(e));if(ArrayBuffer.isView(e))return o(t,new Uint8Array(e.buffer));const r=new c(new ArrayBuffer(t.byteLength+e.length),0);r.write(t);for(const t of e){const e=this._type.encodeValue(t);r.write(new Uint8Array(e))}return r.buffer}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const t=m(-19),r=this._type.encodeType(e);e.add(this,o(t,r))}decodeValue(e,t){const r=this.checkType(t);if(!(r instanceof $))throw new Error("Not a vector type");const n=Number(y(e));if(this._type instanceof q){if(8==this._type._bits)return new Uint8Array(e.read(n));if(16==this._type._bits)return new Uint16Array(e.read(2*n));if(32==this._type._bits)return new Uint32Array(e.read(4*n));if(64==this._type._bits)return new BigUint64Array(e.read(8*n))}if(this._type instanceof M){if(8==this._type._bits)return new Int8Array(e.read(n));if(16==this._type._bits)return new Int16Array(e.read(2*n));if(32==this._type._bits)return new Int32Array(e.read(4*n));if(64==this._type._bits)return new BigInt64Array(e.read(8*n))}const i=[];for(let t=0;t<n;t++)i.push(this._type.decodeValue(e,r._type));return i}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(e){return"vec {"+e.map((e=>this._type.valueToString(e))).join("; ")+"}"}}class V extends O{constructor(e){super(),this._type=e}accept(e,t){return e.visitOpt(this,this._type,t)}covariant(e){try{if(Array.isArray(e)&&(0===e.length||1===e.length&&this._type.covariant(e[0])))return!0}catch(t){throw new Error(`Invalid ${this.display()} argument: ${X(e)} \n\n-> ${t.message}`)}throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){return 0===e.length?new Uint8Array([0]):o(new Uint8Array([1]),this._type.encodeValue(e[0]))}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const t=m(-18),r=this._type.encodeType(e);e.add(this,o(t,r))}decodeValue(e,t){const r=this.checkType(t);if(!(r instanceof V))throw new Error("Not an option type");switch(p(e)){case 0:return[];case 1:return[this._type.decodeValue(e,r._type)];default:throw new Error("Not an option value")}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(e){return 0===e.length?"null":`opt ${this._type.valueToString(e[0])}`}}class z extends O{constructor(e={}){super(),this._fields=Object.entries(e).sort(((e,t)=>l(e[0])-l(t[0])))}accept(e,t){return e.visitRecord(this,this._fields,t)}tryAsTuple(){const e=[];for(let t=0;t<this._fields.length;t++){const[r,n]=this._fields[t];if(r!==`_${t}_`)return null;e.push(n)}return e}covariant(e){if("object"==typeof e&&this._fields.every((([t,r])=>{if(!e.hasOwnProperty(t))throw new Error(`Record is missing key "${t}".`);try{return r.covariant(e[t])}catch(e){throw new Error(`Invalid ${this.display()} argument: \n\nfield ${t} -> ${e.message}`)}})))return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){const t=this._fields.map((([t])=>e[t]));return o(...I(this._fields,t,(([,e],t)=>e.encodeValue(t))))}_buildTypeTableImpl(e){this._fields.forEach((([t,r])=>r.buildTypeTable(e)));const t=m(-20),r=g(this._fields.length),n=this._fields.map((([t,r])=>o(g(l(t)),r.encodeType(e))));e.add(this,o(t,r,o(...n)))}decodeValue(e,t){const r=this.checkType(t);if(!(r instanceof z))throw new Error("Not a record type");const n={};let i=0,o=0;for(;o<r._fields.length;){const[t,s]=r._fields[o];if(i>=this._fields.length){s.decodeValue(e,s),o++;continue}const[a,c]=this._fields[i],u=l(this._fields[i][0]),f=l(t);if(u===f)n[a]=c.decodeValue(e,s),i++,o++;else if(f>u){if(!(c instanceof V||c instanceof P))throw new Error("Cannot find required field "+a);n[a]=[],i++}else s.decodeValue(e,s),o++}for(const[e,t]of this._fields.slice(i)){if(!(t instanceof V||t instanceof P))throw new Error("Cannot find required field "+e);n[e]=[]}return n}get name(){return`record {${this._fields.map((([e,t])=>e+":"+t.name)).join("; ")}}`}display(){return`record {${this._fields.map((([e,t])=>e+":"+t.display())).join("; ")}}`}valueToString(e){const t=this._fields.map((([t])=>e[t]));return`record {${I(this._fields,t,(([e,t],r)=>e+"="+t.valueToString(r))).join("; ")}}`}}class G extends z{constructor(e){const t={};e.forEach(((e,r)=>t["_"+r+"_"]=e)),super(t),this._components=e}accept(e,t){return e.visitTuple(this,this._components,t)}covariant(e){if(Array.isArray(e)&&e.length>=this._fields.length&&this._components.every(((t,r)=>{try{return t.covariant(e[r])}catch(e){throw new Error(`Invalid ${this.display()} argument: \n\nindex ${r} -> ${e.message}`)}})))return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){return o(...I(this._components,e,((e,t)=>e.encodeValue(t))))}decodeValue(e,t){const r=this.checkType(t);if(!(r instanceof G))throw new Error("not a tuple type");if(r._components.length<this._components.length)throw new Error("tuple mismatch");const n=[];for(const[t,i]of r._components.entries())t>=this._components.length?i.decodeValue(e,i):n.push(this._components[t].decodeValue(e,i));return n}display(){return`record {${this._components.map((e=>e.display())).join("; ")}}`}valueToString(e){return`record {${I(this._components,e,((e,t)=>e.valueToString(t))).join("; ")}}`}}class H extends O{constructor(e={}){super(),this._fields=Object.entries(e).sort(((e,t)=>l(e[0])-l(t[0])))}accept(e,t){return e.visitVariant(this,this._fields,t)}covariant(e){if("object"==typeof e&&1===Object.entries(e).length&&this._fields.every((([t,r])=>{try{return!e.hasOwnProperty(t)||r.covariant(e[t])}catch(e){throw new Error(`Invalid ${this.display()} argument: \n\nvariant ${t} -> ${e.message}`)}})))return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){for(let t=0;t<this._fields.length;t++){const[r,n]=this._fields[t];if(e.hasOwnProperty(r)){return o(g(t),n.encodeValue(e[r]))}}throw Error("Variant has no data: "+e)}_buildTypeTableImpl(e){this._fields.forEach((([,t])=>{t.buildTypeTable(e)}));const t=m(-21),r=g(this._fields.length),n=this._fields.map((([t,r])=>o(g(l(t)),r.encodeType(e))));e.add(this,o(t,r,...n))}decodeValue(e,t){const r=this.checkType(t);if(!(r instanceof H))throw new Error("Not a variant type");const n=Number(y(e));if(n>=r._fields.length)throw Error("Invalid variant index: "+n);const[i,o]=r._fields[n];for(const[t,r]of this._fields)if(l(i)===l(t)){const n=r.decodeValue(e,o);return{[t]:n}}throw new Error("Cannot find field hash "+i)}get name(){return`variant {${this._fields.map((([e,t])=>e+":"+t.name)).join("; ")}}`}display(){return`variant {${this._fields.map((([e,t])=>e+("null"===t.name?"":`:${t.display()}`))).join("; ")}}`}valueToString(e){for(const[t,r]of this._fields)if(e.hasOwnProperty(t)){const n=r.valueToString(e[t]);return"null"===n?`variant {${t}}`:`variant {${t}=${n}}`}throw new Error("Variant has no data: "+e)}}class W extends O{constructor(){super(...arguments),this._id=W._counter++,this._type=void 0}accept(e,t){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,t)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,t)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}}function K(e){if(1!==p(e))throw new Error("Cannot decode principal");const t=Number(y(e));return i.Principal.fromUint8Array(new Uint8Array(h(e,t)))}W._counter=0;class Y extends S{accept(e,t){return e.visitPrincipal(this,t)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){const t=e.toUint8Array(),r=g(t.byteLength);return o(new Uint8Array([1]),r,t)}encodeType(){return m(-24)}decodeValue(e,t){return this.checkType(t),K(e)}get name(){return"principal"}valueToString(e){return`${this.name} "${e.toText()}"`}}class Z extends O{constructor(e,t,r=[]){super(),this.argTypes=e,this.retTypes=t,this.annotations=r}static argsToString(e,t){if(e.length!==t.length)throw new Error("arity mismatch");return"("+e.map(((e,r)=>e.valueToString(t[r]))).join(", ")+")"}accept(e,t){return e.visitFunc(this,t)}covariant(e){if(Array.isArray(e)&&2===e.length&&e[0]&&e[0]._isPrincipal&&"string"==typeof e[1])return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue([e,t]){const r=e.toUint8Array(),n=g(r.byteLength),i=o(new Uint8Array([1]),n,r),s=(new TextEncoder).encode(t),a=g(s.byteLength);return o(new Uint8Array([1]),i,a,s)}_buildTypeTableImpl(e){this.argTypes.forEach((t=>t.buildTypeTable(e))),this.retTypes.forEach((t=>t.buildTypeTable(e)));const t=m(-22),r=g(this.argTypes.length),n=o(...this.argTypes.map((t=>t.encodeType(e)))),i=g(this.retTypes.length),s=o(...this.retTypes.map((t=>t.encodeType(e)))),a=g(this.annotations.length),c=o(...this.annotations.map((e=>this.encodeAnnotation(e))));e.add(this,o(t,r,n,i,s,a,c))}decodeValue(e){if(1!==p(e))throw new Error("Cannot decode function reference");const t=K(e),r=h(e,Number(y(e)));return[t,new TextDecoder("utf8",{fatal:!0}).decode(r)]}get name(){return`(${this.argTypes.map((e=>e.name)).join(", ")}) -> (${this.retTypes.map((e=>e.name)).join(", ")})${" "+this.annotations.join(" ")}`}valueToString([e,t]){return`func "${e.toText()}".${t}`}display(){return`(${this.argTypes.map((e=>e.display())).join(", ")}) → (${this.retTypes.map((e=>e.display())).join(", ")})${" "+this.annotations.join(" ")}`}encodeAnnotation(e){if("query"===e)return new Uint8Array([1]);if("oneway"===e)return new Uint8Array([2]);if("composite_query"===e)return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class J extends O{constructor(e){super(),this._fields=Object.entries(e).sort(((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0))}accept(e,t){return e.visitService(this,t)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${X(e)}`)}encodeValue(e){const t=e.toUint8Array(),r=g(t.length);return o(new Uint8Array([1]),r,t)}_buildTypeTableImpl(e){this._fields.forEach((([t,r])=>r.buildTypeTable(e)));const t=m(-23),r=g(this._fields.length),n=this._fields.map((([t,r])=>{const n=(new TextEncoder).encode(t);return o(g(n.length),n,r.encodeType(e))}));e.add(this,o(t,r,...n))}decodeValue(e){return K(e)}get name(){return`service {${this._fields.map((([e,t])=>e+":"+t.name)).join("; ")}}`}valueToString(e){return`service "${e.toText()}"`}}function X(e){const t=JSON.stringify(e,((e,t)=>"bigint"==typeof t?`BigInt(${t})`:t));return t&&t.length>400?t.substring(0,397)+"...":t}function Q(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new x;e.forEach((e=>e.buildTypeTable(r)));const n=(new TextEncoder).encode(B),i=r.encode(),s=g(t.length),a=o(...e.map((e=>e.encodeType(r)))),c=o(...I(e,t,((e,t)=>{try{e.covariant(t)}catch(e){throw new Error(e.message+"\n\n")}return e.encodeValue(t)})));return o(n,i,s,a,c)}function ee(e,t){const r=new c(t);if(t.byteLength<B.length)throw new Error("Message length smaller than magic number");const n=h(r,B.length),i=(new TextDecoder).decode(n);if(i!==B)throw new Error("Wrong magic number: "+JSON.stringify(i));const[o,s]=function(e){const t=[],r=Number(y(e));for(let n=0;n<r;n++){const r=Number(b(e));switch(r){case-18:case-19:{const n=Number(b(e));t.push([r,n]);break}case-20:case-21:{const n=[];let i,o=Number(y(e));for(;o--;){const t=Number(y(e));if(t>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if("number"==typeof i&&i>=t)throw new Error("field id collision or not sorted");i=t;const r=Number(b(e));n.push([t,r])}t.push([r,n]);break}case-22:{const n=[];let i=Number(y(e));for(;i--;)n.push(Number(b(e)));const o=[];let s=Number(y(e));for(;s--;)o.push(Number(b(e)));const a=[];let c=Number(y(e));for(;c--;){switch(Number(y(e))){case 1:a.push("query");break;case 2:a.push("oneway");break;case 3:a.push("composite_query");break;default:throw new Error("unknown annotation")}}t.push([r,[n,o,a]]);break}case-23:{let n=Number(y(e));const i=[];for(;n--;){const t=Number(y(e)),r=(new TextDecoder).decode(h(e,t)),n=b(e);i.push([r,n])}t.push([r,i]);break}default:throw new Error("Illegal op_code: "+r)}}const n=[],i=Number(y(e));for(let t=0;t<i;t++)n.push(Number(b(e)));return[t,n]}(r);if(s.length<e.length)throw new Error("Wrong number of return values");const a=o.map((e=>Ie()));function u(e){if(e<-24)throw new Error("future value not supported");if(e<0)switch(e){case-1:return oe;case-2:return ie;case-3:return ce;case-4:return ae;case-5:return ge;case-6:return ye;case-7:return me;case-8:return be;case-9:return le;case-10:return de;case-11:return he;case-12:return pe;case-13:return ue;case-14:return fe;case-15:return se;case-16:return re;case-17:return te;case-24:return we;default:throw new Error("Illegal op_code: "+e)}if(e>=o.length)throw new Error("type index out of range");return a[e]}function f(e){switch(e[0]){case-19:return ve(u(e[1]));case-18:return Ee(u(e[1]));case-20:{const t={};for(const[r,n]of e[1]){t[`_${r}_`]=u(n)}const r=_e(t),n=r.tryAsTuple();return Array.isArray(n)?Ae(...n):r}case-21:{const t={};for(const[r,n]of e[1]){t[`_${r}_`]=u(n)}return Be(t)}case-22:{const[t,r,n]=e[1];return xe(t.map((e=>u(e))),r.map((e=>u(e))),n)}case-23:{const t={},r=e[1];for(const[e,n]of r){let r=u(n);if(r instanceof W&&(r=r.getType()),!(r instanceof Z))throw new Error("Illegal service definition: services can only contain functions");t[e]=r}return Te(t)}default:throw new Error("Illegal op_code: "+e[0])}}o.forEach(((e,t)=>{if(-22===e[0]){const r=f(e);a[t].fill(r)}})),o.forEach(((e,t)=>{if(-22!==e[0]){const r=f(e);a[t].fill(r)}}));const l=s.map((e=>u(e))),d=e.map(((e,t)=>e.decodeValue(r,l[t])));for(let t=e.length;t<l.length;t++)l[t].decodeValue(r,l[t]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return d}const te=new N,re=new P,ne=new R,ie=new k,oe=new U,se=new L,ae=new j,ce=new D,ue=new F(32),fe=new F(64),le=new M(8),de=new M(16),he=new M(32),pe=new M(64),ge=new q(8),ye=new q(16),me=new q(32),be=new q(64),we=new Y;function Ae(...e){return new G(e)}function ve(e){return new $(e)}function Ee(e){return new V(e)}function _e(e){return new z(e)}function Be(e){return new H(e)}function Ie(){return new W}function xe(e,t,r=[]){return new Z(e,t,r)}function Te(e){return new J(e)}class Ce{constructor(e,t){this.idl=e,this.ui=t,this.label=null,this.value=void 0;const r=document.createElement("span");r.className="status",this.status=r,t.input&&(t.input.addEventListener("blur",(()=>{""!==t.input.value&&this.parse()})),t.input.addEventListener("input",(()=>{r.style.display="none",t.input.classList.remove("reject")})))}isRejected(){return void 0===this.value}parse(e={}){if(this.ui.form){const t=this.ui.form.parse(e);return this.value=t,t}if(this.ui.input){const t=this.ui.input;try{const r=this.ui.parse(this.idl,e,t.value);if(!this.idl.covariant(r))throw new Error(`${t.value} is not of type ${this.idl.display()}`);return this.status.style.display="none",this.value=r,r}catch(e){return t.classList.add("reject"),this.status.style.display="block",this.status.innerHTML="InputError: "+e.message,void(this.value=void 0)}}return null}render(e){const t=document.createElement("span");if(this.label){const e=document.createElement("label");e.innerText=this.label,t.appendChild(e)}this.ui.input&&(t.appendChild(this.ui.input),t.appendChild(this.status)),this.ui.form&&this.ui.form.render(t),e.appendChild(t)}}class Se{constructor(e){this.ui=e,this.form=[]}renderForm(e){this.ui.container?(this.form.forEach((e=>e.render(this.ui.container))),e.appendChild(this.ui.container)):this.form.forEach((t=>t.render(e)))}render(e){if(this.ui.open&&this.ui.event){e.appendChild(this.ui.open);const t=this;t.ui.open.addEventListener(t.ui.event,(()=>{if(t.ui.container)t.ui.container.innerHTML="";else{const e=t.ui.open.nextElementSibling;e&&e.parentNode.removeChild(e)}t.generateForm(),t.renderForm(e)}))}else this.generateForm(),this.renderForm(e)}}class Oe extends Se{constructor(e,t){super(t),this.fields=e,this.ui=t}generateForm(){this.form=this.fields.map((([e,t])=>{const r=this.ui.render(t);return this.ui.labelMap&&this.ui.labelMap.hasOwnProperty(e)?r.label=this.ui.labelMap[e]+" ":r.label=e+" ",r}))}parse(e){const t={};if(this.fields.forEach((([r,n],i)=>{const o=this.form[i].parse(e);t[r]=o})),!this.form.some((e=>e.isRejected())))return t}}class Ne extends Se{constructor(e,t){super(t),this.components=e,this.ui=t}generateForm(){this.form=this.components.map((e=>this.ui.render(e)))}parse(e){const t=[];if(this.components.forEach(((r,n)=>{const i=this.form[n].parse(e);t.push(i)})),!this.form.some((e=>e.isRejected())))return t}}class Re extends Se{constructor(e,t){super(t),this.fields=e,this.ui=t}generateForm(){const e=this.ui.open.selectedIndex,[t,r]=this.fields[e],n=this.ui.render(r);this.form=[n]}parse(e){const t=this.ui.open,r=t.options[t.selectedIndex].value,n=this.form[0].parse(e);if(void 0===n)return;const i={};return i[r]=n,i}}class ke extends Se{constructor(e,t){super(t),this.ty=e,this.ui=t}generateForm(){if(this.ui.open.checked){const e=this.ui.render(this.ty);this.form=[e]}else this.form=[]}parse(e){if(0===this.form.length)return[];{const t=this.form[0].parse(e);if(void 0===t)return;return[t]}}}class Ue extends Se{constructor(e,t){super(t),this.ty=e,this.ui=t}generateForm(){const e=+this.ui.open.value;this.form=[];for(let t=0;t<e;t++){const e=this.ui.render(this.ty);this.form.push(e)}}parse(e){const t=this.form.map((t=>t.parse(e)));if(!this.form.some((e=>e.isRejected())))return t}}const Pe={parse:function(e,t,r){return t.random&&""===r?e.accept(new Ge,r):e.accept(new ze,r)}},Le={render:He},je=(e,t)=>new Ce(e,Object.assign(Object.assign({},Pe),t)),De=(e,t)=>new Oe(e,Object.assign(Object.assign({},Le),t)),Fe=(e,t)=>new Ne(e,Object.assign(Object.assign({},Le),t)),Me=(e,t)=>new Re(e,Object.assign(Object.assign({},Le),t)),qe=(e,t)=>new ke(e,Object.assign(Object.assign({},Le),t)),$e=(e,t)=>new Ue(e,Object.assign(Object.assign({},Le),t));class Ve extends T{visitType(e,t){const r=document.createElement("input");return r.classList.add("argument"),r.placeholder=e.display(),je(e,{input:r})}visitNull(e,t){return je(e,{})}visitRecord(e,t,r){let n={};if(t.length>1){const e=document.createElement("div");e.classList.add("popup-form"),n={container:e}}const i=De(t,n);return je(e,{form:i})}visitTuple(e,t,r){let n={};if(t.length>1){const e=document.createElement("div");e.classList.add("popup-form"),n={container:e}}const i=Fe(t,n);return je(e,{form:i})}visitVariant(e,t,r){const n=document.createElement("select");for(const[e,r]of t){const t=new Option(e);n.add(t)}n.selectedIndex=-1,n.classList.add("open");const i=Me(t,{open:n,event:"change"});return je(e,{form:i})}visitOpt(e,t,r){const n=document.createElement("input");n.type="checkbox",n.classList.add("open");const i=qe(t,{open:n,event:"change"});return je(e,{form:i})}visitVec(e,t,r){const n=document.createElement("input");n.type="number",n.min="0",n.max="100",n.style.width="8rem",n.placeholder="len",n.classList.add("open");const i=document.createElement("div");i.classList.add("popup-form");const o=$e(t,{open:n,event:"change",container:i});return je(e,{form:o})}visitRec(e,t,r){return He(t)}}class ze extends T{visitNull(e,t){return null}visitBool(e,t){if("true"===t)return!0;if("false"===t)return!1;throw new Error(`Cannot parse ${t} as boolean`)}visitText(e,t){return t}visitFloat(e,t){return parseFloat(t)}visitFixedInt(e,t){return e._bits<=32?parseInt(t,10):BigInt(t)}visitFixedNat(e,t){return e._bits<=32?parseInt(t,10):BigInt(t)}visitNumber(e,t){return BigInt(t)}visitPrincipal(e,t){return i.Principal.fromText(t)}visitService(e,t){return i.Principal.fromText(t)}visitFunc(e,t){const r=t.split(".",2);return[i.Principal.fromText(r[0]),r[1]]}}class Ge extends T{visitNull(e,t){return null}visitBool(e,t){return Math.random()<.5}visitText(e,t){return Math.random().toString(36).substring(6)}visitFloat(e,t){return Math.random()}visitInt(e,t){return BigInt(this.generateNumber(!0))}visitNat(e,t){return BigInt(this.generateNumber(!1))}visitFixedInt(e,t){const r=this.generateNumber(!0);return e._bits<=32?r:BigInt(t)}visitFixedNat(e,t){const r=this.generateNumber(!1);return e._bits<=32?r:BigInt(t)}generateNumber(e){const t=Math.floor(100*Math.random());return e&&Math.random()<.5?-t:t}}function He(e){return e.accept(new Ve,null)}function We(e,t,r){return e.accept(new Ke,{input:t,value:r})}class Ke extends T{visitType(e,t){t.input.ui.input.value=e.valueToString(t.value)}visitNull(e,t){}visitText(e,t){t.input.ui.input.value=t.value}visitRec(e,t,r){We(t,r.input,r.value)}visitOpt(e,t,r){if(0!==r.value.length){const e=r.input.ui.form,n=e.ui.open;n.checked=!0,n.dispatchEvent(new Event(e.ui.event)),We(t,e.form[0],r.value[0])}}visitRecord(e,t,r){const n=r.input.ui.form;t.forEach((([e,t],i)=>{We(t,n.form[i],r.value[e])}))}visitTuple(e,t,r){const n=r.input.ui.form;t.forEach(((e,t)=>{We(e,n.form[t],r.value[t])}))}visitVariant(e,t,r){const n=r.input.ui.form,i=Object.entries(r.value)[0];t.forEach((([e,t],r)=>{if(e===i[0]){const e=n.ui.open;e.selectedIndex=r,e.dispatchEvent(new Event(n.ui.event)),We(t,n.form[0],i[1])}}))}visitVec(e,t,r){const n=r.input.ui.form,i=r.value.length,o=n.ui.open;o.value=i,o.dispatchEvent(new Event(n.ui.event)),r.value.forEach(((e,r)=>{We(t,n.form[r],e)}))}}},2336:(e,t,r)=>{"use strict";r.r(t),r.d(t,{JSON_KEY_PRINCIPAL:()=>a,Principal:()=>c});const n="abcdefghijklmnopqrstuvwxyz234567",i=Object.create(null);for(let e=0;e<32;e++)i[n[e]]=e;i[0]=i.o,i[1]=i.i;const o=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var s=r(8226);const a="__principal__";class c{constructor(e){this._arr=e,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([4]))}static managementCanister(){return this.fromHex("aaaaa-aa")}static selfAuthenticating(e){const t=(r=e,s.ZT.create().update(new Uint8Array(r)).digest());var r;return new this(new Uint8Array([...t,2]))}static from(e){if("string"==typeof e)return c.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new c(e);if("object"==typeof e&&null!==e&&!0===e._isPrincipal)return new c(e._arr);throw new Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this(new Uint8Array((null!==(t=e.match(/.{1,2}/g))&&void 0!==t?t:[]).map((e=>parseInt(e,16)))));var t}static fromText(e){let t=e;if(e.includes(a)){const r=JSON.parse(e);a in r&&(t=r[a])}let r=function(e){let t=0,r=0;const n=new Uint8Array(4*e.length/3|0);let o=0;function s(e){let s=i[e.toLowerCase()];if(void 0===s)throw new Error(`Invalid character: ${JSON.stringify(e)}`);s<<=3,r|=s>>>t,t+=5,t>=8&&(n[o++]=r,t-=8,r=t>0?s<<5-t&255:0)}for(const t of e)s(t);return n.slice(0,o)}(t.toLowerCase().replace(/-/g,""));r=r.slice(4,r.length);const n=new this(r);if(n.toText()!==t)throw new Error(`Principal "${n.toText()}" does not have a valid checksum (original value "${t}" may not be a valid Principal ID).`);return n}static fromUint8Array(e){return new this(e)}isAnonymous(){return 1===this._arr.byteLength&&4===this._arr[0]}toUint8Array(){return this._arr}toHex(){return(e=this._arr,e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")).toUpperCase();var e}toText(){const e=new ArrayBuffer(4);new DataView(e).setUint32(0,function(e){const t=new Uint8Array(e);let r=-1;for(let e=0;e<t.length;e++){const n=t[e];r=o[255&(n^r)]^r>>>8}return~r>>>0}(this._arr));const t=new Uint8Array(e),r=Uint8Array.from(this._arr),i=function(e){let t=0,r=0,i="";for(let s=0;s<e.length;)s+=(o=e[s],t<0?r|=o>>-t:r=o<<t&248,t>3?(t-=8,1):(t<4&&(i+=n[r>>3],t+=5),0));var o;return i+(t<0?n[r>>3]:"")}(new Uint8Array([...t,...r])).match(/.{1,5}/g);if(!i)throw new Error;return i.join("-")}toString(){return this.toText()}toJSON(){return{[a]:this.toText()}}compareTo(e){for(let t=0;t<Math.min(this._arr.length,e._arr.length);t++){if(this._arr[t]<e._arr[t])return"lt";if(this._arr[t]>e._arr[t])return"gt"}return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){const t=this.compareTo(e);return"lt"==t||"eq"==t}gtEq(e){const t=this.compareTo(e);return"gt"==t||"eq"==t}}},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=a(e),s=o[0],c=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,c)),f=0,l=c>0?s-4:s;for(r=0;r<l;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[f++]=255&t);1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},1594:function(e,t,r){var n;!function(){"use strict";var i,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,a=Math.floor,c="[BigNumber Error] ",u=c+"Number primitive has more than 15 significant digits: ",f=1e14,l=14,d=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,g=1e9;function y(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=l-t.length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,u=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=c==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return c==u?0:c>u^r?1:-1}function w(e,t,r,n){if(e<t||e>r||e!==a(e))throw Error(c+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function A(e){var t=e.c.length-1;return y(e.e/l)==t&&e.c[t]%2!=0}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function E(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}i=function e(t){var r,n,i,_,B,I,x,T,C,S,O=V.prototype={constructor:V,toString:null,valueOf:null},N=new V(1),R=20,k=4,U=-7,P=21,L=-1e7,j=1e7,D=!1,F=1,M=0,q={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz";function V(e,t){var r,s,c,f,h,p,g,y,m=this;if(!(m instanceof V))return new V(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>j?m.c=m.e=null:e.e<L?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(f=0,h=e;h>=10;h/=10,f++);return void(f>j?m.c=m.e=null:(m.e=f,m.c=[e]))}y=String(e)}else{if(!o.test(y=String(e)))return i(m,y,p);m.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(f=y.indexOf("."))>-1&&(y=y.replace(".","")),(h=y.search(/e/i))>0?(f<0&&(f=h),f+=+y.slice(h+1),y=y.substring(0,h)):f<0&&(f=y.length)}else{if(w(t,2,$.length,"Base"),10==t)return W(m=new V(e),R+m.e+1,k);if(y=String(e),p="number"==typeof e){if(0*e!=0)return i(m,y,p,t);if(m.s=1/e<0?(y=y.slice(1),-1):1,V.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else m.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(r=$.slice(0,t),f=h=0,g=y.length;h<g;h++)if(r.indexOf(s=y.charAt(h))<0){if("."==s){if(h>f){f=g;continue}}else if(!c&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){c=!0,h=-1,f=0;continue}return i(m,String(e),p,t)}p=!1,(f=(y=n(y,t,10,m.s)).indexOf("."))>-1?y=y.replace(".",""):f=y.length}for(h=0;48===y.charCodeAt(h);h++);for(g=y.length;48===y.charCodeAt(--g););if(y=y.slice(h,++g)){if(g-=h,p&&V.DEBUG&&g>15&&(e>d||e!==a(e)))throw Error(u+m.s*e);if((f=f-h-1)>j)m.c=m.e=null;else if(f<L)m.c=[m.e=0];else{if(m.e=f,m.c=[],h=(f+1)%l,f<0&&(h+=l),h<g){for(h&&m.c.push(+y.slice(0,h)),g-=l;h<g;)m.c.push(+y.slice(h,h+=l));h=l-(y=y.slice(h)).length}else h-=g;for(;h--;y+="0");m.c.push(+y)}}else m.c=[m.e=0]}function z(e,t,r,n){var i,o,s,a,c;if(null==r?r=k:w(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=m(e.c),c=1==n||2==n&&(s<=U||s>=P)?v(c,s):E(c,s,"0");else if(o=(e=W(new V(e),t,r)).e,a=(c=m(e.c)).length,1==n||2==n&&(t<=o||o<=U)){for(;a<t;c+="0",a++);c=v(c,o)}else if(t-=s,c=E(c,o,"0"),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-a)>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function G(e,t){for(var r,n=1,i=new V(e[0]);n<e.length;n++){if(!(r=new V(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function H(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*l-1)>j?e.c=e.e=null:r<L?e.c=[e.e=0]:(e.e=r,e.c=t),e}function W(e,t,r,n){var i,o,c,u,d,p,g,y=e.c,m=h;if(y){e:{for(i=1,u=y[0];u>=10;u/=10,i++);if((o=t-i)<0)o+=l,c=t,g=(d=y[p=0])/m[i-c-1]%10|0;else if((p=s((o+1)/l))>=y.length){if(!n)break e;for(;y.length<=p;y.push(0));d=g=0,i=1,c=(o%=l)-l+1}else{for(d=u=y[p],i=1;u>=10;u/=10,i++);g=(c=(o%=l)-l+i)<0?0:d/m[i-c-1]%10|0}if(n=n||t<0||null!=y[p+1]||(c<0?d:d%m[i-c-1]),n=r<4?(g||n)&&(0==r||r==(e.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(o>0?c>0?d/m[i-c]:0:y[p-1])%10&1||r==(e.s<0?8:7)),t<1||!y[0])return y.length=0,n?(t-=e.e+1,y[0]=m[(l-t%l)%l],e.e=-t||0):y[0]=e.e=0,e;if(0==o?(y.length=p,u=1,p--):(y.length=p+1,u=m[l-o],y[p]=c>0?a(d/m[i-c]%m[c])*u:0),n)for(;;){if(0==p){for(o=1,c=y[0];c>=10;c/=10,o++);for(c=y[0]+=u,u=1;c>=10;c/=10,u++);o!=u&&(e.e++,y[0]==f&&(y[0]=1));break}if(y[p]+=u,y[p]!=f)break;y[p--]=0,u=1}for(o=y.length;0===y[--o];y.pop());}e.e>j?e.c=e.e=null:e.e<L&&(e.c=[e.e=0])}return e}function K(e){var t,r=e.e;return null===r?e.toString():(t=m(e.c),t=r<=U||r>=P?v(t,r):E(t,r,"0"),e.s<0?"-"+t:t)}return V.clone=e,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(c+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(w(r=e[t],0,g,t),R=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(w(r=e[t],0,8,t),k=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(w(r[0],-g,0,t),w(r[1],0,g,t),U=r[0],P=r[1]):(w(r,-g,g,t),U=-(P=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)w(r[0],-g,-1,t),w(r[1],1,g,t),L=r[0],j=r[1];else{if(w(r,-g,g,t),!r)throw Error(c+t+" cannot be zero: "+r);L=-(j=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(c+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw D=!r,Error(c+"crypto unavailable");D=r}else D=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(w(r=e[t],0,9,t),F=r),e.hasOwnProperty(t="POW_PRECISION")&&(w(r=e[t],0,g,t),M=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(c+t+" not an object: "+r);q=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+t+" invalid: "+r);$=r}}return{DECIMAL_PLACES:R,ROUNDING_MODE:k,EXPONENTIAL_AT:[U,P],RANGE:[L,j],CRYPTO:D,MODULO_MODE:F,POW_PRECISION:M,FORMAT:q,ALPHABET:$}},V.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!V.DEBUG)return!0;var t,r,n=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&i>=-g&&i<=g&&i===a(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%l)<1&&(t+=l),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=f||r!==a(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(c+"Invalid BigNumber: "+e)},V.maximum=V.max=function(){return G(arguments,O.lt)},V.minimum=V.min=function(){return G(arguments,O.gt)},V.random=(_=9007199254740992,B=Math.random()*_&2097151?function(){return a(Math.random()*_)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,i,o,u=0,f=[],d=new V(N);if(null==e?e=R:w(e,0,g),i=s(e/l),D)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));u<i;)(o=131072*t[u]+(t[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[u]=r[0],t[u+1]=r[1]):(f.push(o%1e14),u+=2);u=i/2}else{if(!crypto.randomBytes)throw D=!1,Error(c+"crypto unavailable");for(t=crypto.randomBytes(i*=7);u<i;)(o=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(f.push(o%1e14),u+=7);u=i/7}if(!D)for(;u<i;)(o=B())<9e15&&(f[u++]=o%1e14);for(i=f[--u],e%=l,i&&e&&(o=h[l-e],f[u]=a(i/o)*o);0===f[u];f.pop(),u--);if(u<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=l);for(u=1,o=f[0];o>=10;o/=10,u++);u<l&&(n-=l-u)}return d.e=n,d.c=f,d}),V.sum=function(){for(var e=1,t=arguments,r=new V(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,s=[0],a=0,c=e.length;a<c;){for(o=s.length;o--;s[o]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var c,u,f,l,d,h,p,g,y=n.indexOf("."),b=R,w=k;for(y>=0&&(l=M,M=0,n=n.replace(".",""),h=(g=new V(i)).pow(n.length-y),M=l,g.c=t(E(m(h.c),h.e,"0"),10,o,e),g.e=g.c.length),f=l=(p=t(n,i,o,a?(c=$,e):(c=e,$))).length;0==p[--l];p.pop());if(!p[0])return c.charAt(0);if(y<0?--f:(h.c=p,h.e=f,h.s=s,p=(h=r(h,g,b,w,o)).c,d=h.r,f=h.e),y=p[u=f+b+1],l=o/2,d=d||u<0||null!=p[u+1],d=w<4?(null!=y||d)&&(0==w||w==(h.s<0?3:2)):y>l||y==l&&(4==w||d||6==w&&1&p[u-1]||w==(h.s<0?8:7)),u<1||!p[0])n=d?E(c.charAt(1),-b,c.charAt(0)):c.charAt(0);else{if(p.length=u,d)for(--o;++p[--u]>o;)p[u]=0,u||(++f,p=[1].concat(p));for(l=p.length;!p[--l];);for(y=0,n="";y<=l;n+=c.charAt(p[y++]));n=E(n,f,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,o,s,a=0,c=e.length,u=t%p,f=t/p|0;for(e=e.slice();c--;)a=((i=u*(o=e[c]%p)+(n=f*o+(s=e[c]/p|0)*u)%p*p+a)/r|0)+(n/p|0)+f*s,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,o,s,c){var u,d,h,p,g,m,b,w,A,v,E,_,B,I,x,T,C,S=n.s==i.s?1:-1,O=n.c,N=i.c;if(!(O&&O[0]&&N&&N[0]))return new V(n.s&&i.s&&(O?!N||O[0]!=N[0]:N)?O&&0==O[0]||!N?0*S:S/0:NaN);for(A=(w=new V(S)).c=[],S=o+(d=n.e-i.e)+1,c||(c=f,d=y(n.e/l)-y(i.e/l),S=S/l|0),h=0;N[h]==(O[h]||0);h++);if(N[h]>(O[h]||0)&&d--,S<0)A.push(1),p=!0;else{for(I=O.length,T=N.length,h=0,S+=2,(g=a(c/(N[0]+1)))>1&&(N=e(N,g,c),O=e(O,g,c),T=N.length,I=O.length),B=T,E=(v=O.slice(0,T)).length;E<T;v[E++]=0);C=N.slice(),C=[0].concat(C),x=N[0],N[1]>=c/2&&x++;do{if(g=0,(u=t(N,v,T,E))<0){if(_=v[0],T!=E&&(_=_*c+(v[1]||0)),(g=a(_/x))>1)for(g>=c&&(g=c-1),b=(m=e(N,g,c)).length,E=v.length;1==t(m,v,b,E);)g--,r(m,T<b?C:N,b,c),b=m.length,u=1;else 0==g&&(u=g=1),b=(m=N.slice()).length;if(b<E&&(m=[0].concat(m)),r(v,m,E,c),E=v.length,-1==u)for(;t(N,v,T,E)<1;)g++,r(v,T<E?C:N,E,c),E=v.length}else 0===u&&(g++,v=[0]);A[h++]=g,v[0]?v[E++]=O[B]||0:(v=[O[B]],E=1)}while((B++<I||null!=v[0])&&S--);p=null!=v[0],A[0]||A.splice(0,1)}if(c==f){for(h=1,S=A[0];S>=10;S/=10,h++);W(w,o+(w.e=h+d*l-1)+1,s,p)}else w.e=d,w.r=+p;return w}}(),I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,T=/^\.([^.]+)$/,C=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,r,n){var i,o=r?t:t.replace(S,"");if(C.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(I,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,o=o.replace(x,"$1").replace(T,"0.$1")),t!=o))return new V(o,i);if(V.DEBUG)throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},O.absoluteValue=O.abs=function(){var e=new V(this);return e.s<0&&(e.s=1),e},O.comparedTo=function(e,t){return b(this,new V(e,t))},O.decimalPlaces=O.dp=function(e,t){var r,n,i,o=this;if(null!=e)return w(e,0,g),null==t?t=k:w(t,0,8),W(new V(o),e+o.e+1,t);if(!(r=o.c))return null;if(n=((i=r.length-1)-y(this.e/l))*l,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},O.dividedBy=O.div=function(e,t){return r(this,new V(e,t),R,k)},O.dividedToIntegerBy=O.idiv=function(e,t){return r(this,new V(e,t),0,1)},O.exponentiatedBy=O.pow=function(e,t){var r,n,i,o,u,f,d,h,p=this;if((e=new V(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+K(e));if(null!=t&&(t=new V(t)),u=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new V(Math.pow(+K(p),u?2-A(e):+K(e))),t?h.mod(t):h;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new V(NaN);(n=!f&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||u&&p.c[1]>=24e7:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return o=p.s<0&&A(e)?-0:0,p.e>-1&&(o=1/o),new V(f?1/o:o);M&&(o=s(M/l+2))}for(u?(r=new V(.5),f&&(e.s=1),d=A(e)):d=(i=Math.abs(+K(e)))%2,h=new V(N);;){if(d){if(!(h=h.times(p)).c)break;o?h.c.length>o&&(h.c.length=o):n&&(h=h.mod(t))}if(i){if(0===(i=a(i/2)))break;d=i%2}else if(W(e=e.times(r),e.e+1,1),e.e>14)d=A(e);else{if(0===(i=+K(e)))break;d=i%2}p=p.times(p),o?p.c&&p.c.length>o&&(p.c.length=o):n&&(p=p.mod(t))}return n?h:(f&&(h=N.div(h)),t?h.mod(t):o?W(h,M,k,undefined):h)},O.integerValue=function(e){var t=new V(this);return null==e?e=k:w(e,0,8),W(t,t.e+1,e)},O.isEqualTo=O.eq=function(e,t){return 0===b(this,new V(e,t))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(e,t){return b(this,new V(e,t))>0},O.isGreaterThanOrEqualTo=O.gte=function(e,t){return 1===(t=b(this,new V(e,t)))||0===t},O.isInteger=function(){return!!this.c&&y(this.e/l)>this.c.length-2},O.isLessThan=O.lt=function(e,t){return b(this,new V(e,t))<0},O.isLessThanOrEqualTo=O.lte=function(e,t){return-1===(t=b(this,new V(e,t)))||0===t},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(e,t){var r,n,i,o,s=this,a=s.s;if(t=(e=new V(e,t)).s,!a||!t)return new V(NaN);if(a!=t)return e.s=-t,s.plus(e);var c=s.e/l,u=e.e/l,d=s.c,h=e.c;if(!c||!u){if(!d||!h)return d?(e.s=-t,e):new V(h?s:NaN);if(!d[0]||!h[0])return h[0]?(e.s=-t,e):new V(d[0]?s:3==k?-0:0)}if(c=y(c),u=y(u),d=d.slice(),a=c-u){for((o=a<0)?(a=-a,i=d):(u=c,i=h),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=d.length)<(t=h.length))?a:t,a=t=0;t<n;t++)if(d[t]!=h[t]){o=d[t]<h[t];break}if(o&&(i=d,d=h,h=i,e.s=-e.s),(t=(n=h.length)-(r=d.length))>0)for(;t--;d[r++]=0);for(t=f-1;n>a;){if(d[--n]<h[n]){for(r=n;r&&!d[--r];d[r]=t);--d[r],d[n]+=f}d[n]-=h[n]}for(;0==d[0];d.splice(0,1),--u);return d[0]?H(e,d,u):(e.s=3==k?-1:1,e.c=[e.e=0],e)},O.modulo=O.mod=function(e,t){var n,i,o=this;return e=new V(e,t),!o.c||!e.s||e.c&&!e.c[0]?new V(NaN):!e.c||o.c&&!o.c[0]?new V(o):(9==F?(i=e.s,e.s=1,n=r(o,e,0,3),e.s=i,n.s*=i):n=r(o,e,0,F),(e=o.minus(n.times(e))).c[0]||1!=F||(e.s=o.s),e)},O.multipliedBy=O.times=function(e,t){var r,n,i,o,s,a,c,u,d,h,g,m,b,w,A,v=this,E=v.c,_=(e=new V(e,t)).c;if(!(E&&_&&E[0]&&_[0]))return!v.s||!e.s||E&&!E[0]&&!_||_&&!_[0]&&!E?e.c=e.e=e.s=null:(e.s*=v.s,E&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=y(v.e/l)+y(e.e/l),e.s*=v.s,(c=E.length)<(h=_.length)&&(b=E,E=_,_=b,i=c,c=h,h=i),i=c+h,b=[];i--;b.push(0));for(w=f,A=p,i=h;--i>=0;){for(r=0,g=_[i]%A,m=_[i]/A|0,o=i+(s=c);o>i;)r=((u=g*(u=E[--s]%A)+(a=m*u+(d=E[s]/A|0)*g)%A*A+b[o]+r)/w|0)+(a/A|0)+m*d,b[o--]=u%w;b[o]=r}return r?++n:b.splice(0,1),H(e,b,n)},O.negated=function(){var e=new V(this);return e.s=-e.s||null,e},O.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new V(e,t)).s,!i||!t)return new V(NaN);if(i!=t)return e.s=-t,n.minus(e);var o=n.e/l,s=e.e/l,a=n.c,c=e.c;if(!o||!s){if(!a||!c)return new V(i/0);if(!a[0]||!c[0])return c[0]?e:new V(a[0]?n:0*i)}if(o=y(o),s=y(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=c):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=c.length)<0&&(r=c,c=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/f|0,a[t]=f===a[t]?0:a[t]%f;return i&&(a=[i].concat(a),++s),H(e,a,s)},O.precision=O.sd=function(e,t){var r,n,i,o=this;if(null!=e&&e!==!!e)return w(e,1,g),null==t?t=k:w(t,0,8),W(new V(o),e,t);if(!(r=o.c))return null;if(n=(i=r.length-1)*l+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&o.e+1>n&&(n=o.e+1),n},O.shiftedBy=function(e){return w(e,-9007199254740991,d),this.times("1e"+e)},O.squareRoot=O.sqrt=function(){var e,t,n,i,o,s=this,a=s.c,c=s.s,u=s.e,f=R+4,l=new V("0.5");if(1!==c||!a||!a[0])return new V(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+K(s)))||c==1/0?(((t=m(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=y((u+1)/2)-(u<0||u%2),n=new V(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new V(c+""),n.c[0])for((c=(u=n.e)+f)<3&&(c=0);;)if(o=n,n=l.times(o.plus(r(s,o,f,1))),m(o.c).slice(0,c)===(t=m(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(n,n.e+R+2,1),e=!n.times(n).eq(s));break}if(!i&&(W(o,o.e+R+2,0),o.times(o).eq(s))){n=o;break}f+=4,c+=4,i=1}return W(n,n.e+R+1,k,e)},O.toExponential=function(e,t){return null!=e&&(w(e,0,g),e++),z(this,e,t,1)},O.toFixed=function(e,t){return null!=e&&(w(e,0,g),e=e+this.e+1),z(this,e,t)},O.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=q;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var o,s=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,f=r.groupSeparator||"",l=s[0],d=s[1],h=i.s<0,p=h?l.slice(1):l,g=p.length;if(u&&(o=a,a=u,u=o,g-=o),a>0&&g>0){for(o=g%a||a,l=p.substr(0,o);o<g;o+=a)l+=f+p.substr(o,a);u>0&&(l+=f+p.slice(o)),h&&(l="-"+l)}n=d?l+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?d.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):l}return(r.prefix||"")+n+(r.suffix||"")},O.toFraction=function(e){var t,n,i,o,s,a,u,f,d,p,g,y,b=this,w=b.c;if(null!=e&&(!(u=new V(e)).isInteger()&&(u.c||1!==u.s)||u.lt(N)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+K(u));if(!w)return new V(b);for(t=new V(N),d=n=new V(N),i=f=new V(N),y=m(w),s=t.e=y.length-b.e-1,t.c[0]=h[(a=s%l)<0?l+a:a],e=!e||u.comparedTo(t)>0?s>0?t:d:u,a=j,j=1/0,u=new V(y),f.c[0]=0;p=r(u,t,0,1),1!=(o=n.plus(p.times(i))).comparedTo(e);)n=i,i=o,d=f.plus(p.times(o=d)),f=o,t=u.minus(p.times(o=t)),u=o;return o=r(e.minus(n),i,0,1),f=f.plus(o.times(d)),n=n.plus(o.times(i)),f.s=d.s=b.s,g=r(d,i,s*=2,k).minus(b).abs().comparedTo(r(f,n,s,k).minus(b).abs())<1?[d,i]:[f,n],j=a,g},O.toNumber=function(){return+K(this)},O.toPrecision=function(e,t){return null!=e&&w(e,1,g),z(this,e,t,2)},O.toString=function(e){var t,r=this,i=r.s,o=r.e;return null===o?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=o<=U||o>=P?v(m(r.c),o):E(m(r.c),o,"0"):10===e?t=E(m((r=W(new V(r),R+o+1,k)).c),r.e,"0"):(w(e,2,$.length,"Base"),t=n(E(m(r.c),o,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},O.valueOf=O.toJSON=function(){return K(this)},O._isBigNumber=!0,null!=t&&V.set(t),V}(),i.default=i.BigNumber=i,void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},3279:(e,t,r)=>{"use strict";var n=r(7526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|g(e,t),n=a(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);var i=function(e){if(c.isBuffer(e)){var t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||$(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|p(e))}function d(e){for(var t=e.length<0?0:0|p(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(i)return n?-1:D(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){var o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===c)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var l=!0,d=0;d<c;d++)if(u(e,o+d)!==u(t,d)){l=!1;break}if(l)return o}return-1}function A(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if($(a))return s;e[r+s]=a}return s}function v(e,t,r,n){return M(D(t,e.length-r),e,r,n)}function E(e,t,r,n){return M(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return M(F(t),e,r,n)}function B(e,t,r,n){return M(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],f=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=r)switch(l){case 1:u<128&&(f=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(f=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(f=c)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return l(e)},c.allocUnsafeSlow=function(e){return l(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(q(o,Uint8Array))i+o.length>n.length?c.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(n,i),f=e.slice(t,r),l=0;l<a;++l)if(u[l]!==f[l]){o=u[l],s=f[l];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=V[e[o]];return i}function N(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);k(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);k(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,r){return P(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return P(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=c.isBuffer(e)?e:c.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var j=/[^+/0-9A-Za-z-_]/g;function D(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}var V=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},9729:(e,t,r)=>{"use strict";const n=r(1594).BigNumber;t.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},t.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},t.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},t.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},t.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},t.SHIFT32=Math.pow(2,32),t.SHIFT16=Math.pow(2,16),t.MAX_SAFE_HIGH=2097151,t.NEG_ONE=new n(-1),t.TEN=new n(10),t.TWO=new n(2),t.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}},7637:e=>{e.exports=function(e,t,r){"use asm";var n=new e.Uint8Array(r);var i=t.pushInt;var o=t.pushInt32;var s=t.pushInt32Neg;var a=t.pushInt64;var c=t.pushInt64Neg;var u=t.pushFloat;var f=t.pushFloatSingle;var l=t.pushFloatDouble;var d=t.pushTrue;var h=t.pushFalse;var p=t.pushUndefined;var g=t.pushNull;var y=t.pushInfinity;var m=t.pushInfinityNeg;var b=t.pushNaN;var w=t.pushNaNNeg;var A=t.pushArrayStart;var v=t.pushArrayStartFixed;var E=t.pushArrayStartFixed32;var _=t.pushArrayStartFixed64;var B=t.pushObjectStart;var I=t.pushObjectStartFixed;var x=t.pushObjectStartFixed32;var T=t.pushObjectStartFixed64;var C=t.pushByteString;var S=t.pushByteStringStart;var O=t.pushUtf8String;var N=t.pushUtf8StringStart;var R=t.pushSimpleUnassigned;var k=t.pushTagStart;var U=t.pushTagStart4;var P=t.pushTagStart8;var L=t.pushTagUnassigned;var j=t.pushBreak;var D=e.Math.pow;var F=0;var M=0;var q=0;function $(e){e=e|0;F=0;M=e;while((F|0)<(M|0)){q=Ze[n[F]&255](n[F]|0)|0;if((q|0)>0){break}}return q|0}function V(e){e=e|0;if(((F|0)+(e|0)|0)<(M|0)){return 0}return 1}function z(e){e=e|0;return n[e|0]<<8|n[e+1|0]|0}function G(e){e=e|0;return n[e|0]<<24|n[e+1|0]<<16|n[e+2|0]<<8|n[e+3|0]|0}function H(e){e=e|0;i(e|0);F=F+1|0;return 0}function W(e){e=e|0;if(V(1)|0){return 1}i(n[F+1|0]|0);F=F+2|0;return 0}function K(e){e=e|0;if(V(2)|0){return 1}i(z(F+1|0)|0);F=F+3|0;return 0}function Y(e){e=e|0;if(V(4)|0){return 1}o(z(F+1|0)|0,z(F+3|0)|0);F=F+5|0;return 0}function Z(e){e=e|0;if(V(8)|0){return 1}a(z(F+1|0)|0,z(F+3|0)|0,z(F+5|0)|0,z(F+7|0)|0);F=F+9|0;return 0}function J(e){e=e|0;i(-1-(e-32|0)|0);F=F+1|0;return 0}function X(e){e=e|0;if(V(1)|0){return 1}i(-1-(n[F+1|0]|0)|0);F=F+2|0;return 0}function Q(e){e=e|0;var t=0;if(V(2)|0){return 1}t=z(F+1|0)|0;i(-1-(t|0)|0);F=F+3|0;return 0}function ee(e){e=e|0;if(V(4)|0){return 1}s(z(F+1|0)|0,z(F+3|0)|0);F=F+5|0;return 0}function te(e){e=e|0;if(V(8)|0){return 1}c(z(F+1|0)|0,z(F+3|0)|0,z(F+5|0)|0,z(F+7|0)|0);F=F+9|0;return 0}function re(e){e=e|0;var t=0;var r=0;var n=0;n=e-64|0;if(V(n|0)|0){return 1}t=F+1|0;r=(F+1|0)+(n|0)|0;C(t|0,r|0);F=r|0;return 0}function ne(e){e=e|0;var t=0;var r=0;var i=0;if(V(1)|0){return 1}i=n[F+1|0]|0;t=F+2|0;r=(F+2|0)+(i|0)|0;if(V(i+1|0)|0){return 1}C(t|0,r|0);F=r|0;return 0}function ie(e){e=e|0;var t=0;var r=0;var n=0;if(V(2)|0){return 1}n=z(F+1|0)|0;t=F+3|0;r=(F+3|0)+(n|0)|0;if(V(n+2|0)|0){return 1}C(t|0,r|0);F=r|0;return 0}function oe(e){e=e|0;var t=0;var r=0;var n=0;if(V(4)|0){return 1}n=G(F+1|0)|0;t=F+5|0;r=(F+5|0)+(n|0)|0;if(V(n+4|0)|0){return 1}C(t|0,r|0);F=r|0;return 0}function se(e){e=e|0;return 1}function ae(e){e=e|0;S();F=F+1|0;return 0}function ce(e){e=e|0;var t=0;var r=0;var n=0;n=e-96|0;if(V(n|0)|0){return 1}t=F+1|0;r=(F+1|0)+(n|0)|0;O(t|0,r|0);F=r|0;return 0}function ue(e){e=e|0;var t=0;var r=0;var i=0;if(V(1)|0){return 1}i=n[F+1|0]|0;t=F+2|0;r=(F+2|0)+(i|0)|0;if(V(i+1|0)|0){return 1}O(t|0,r|0);F=r|0;return 0}function fe(e){e=e|0;var t=0;var r=0;var n=0;if(V(2)|0){return 1}n=z(F+1|0)|0;t=F+3|0;r=(F+3|0)+(n|0)|0;if(V(n+2|0)|0){return 1}O(t|0,r|0);F=r|0;return 0}function le(e){e=e|0;var t=0;var r=0;var n=0;if(V(4)|0){return 1}n=G(F+1|0)|0;t=F+5|0;r=(F+5|0)+(n|0)|0;if(V(n+4|0)|0){return 1}O(t|0,r|0);F=r|0;return 0}function de(e){e=e|0;return 1}function he(e){e=e|0;N();F=F+1|0;return 0}function pe(e){e=e|0;v(e-128|0);F=F+1|0;return 0}function ge(e){e=e|0;if(V(1)|0){return 1}v(n[F+1|0]|0);F=F+2|0;return 0}function ye(e){e=e|0;if(V(2)|0){return 1}v(z(F+1|0)|0);F=F+3|0;return 0}function me(e){e=e|0;if(V(4)|0){return 1}E(z(F+1|0)|0,z(F+3|0)|0);F=F+5|0;return 0}function be(e){e=e|0;if(V(8)|0){return 1}_(z(F+1|0)|0,z(F+3|0)|0,z(F+5|0)|0,z(F+7|0)|0);F=F+9|0;return 0}function we(e){e=e|0;A();F=F+1|0;return 0}function Ae(e){e=e|0;var t=0;t=e-160|0;if(V(t|0)|0){return 1}I(t|0);F=F+1|0;return 0}function ve(e){e=e|0;if(V(1)|0){return 1}I(n[F+1|0]|0);F=F+2|0;return 0}function Ee(e){e=e|0;if(V(2)|0){return 1}I(z(F+1|0)|0);F=F+3|0;return 0}function _e(e){e=e|0;if(V(4)|0){return 1}x(z(F+1|0)|0,z(F+3|0)|0);F=F+5|0;return 0}function Be(e){e=e|0;if(V(8)|0){return 1}T(z(F+1|0)|0,z(F+3|0)|0,z(F+5|0)|0,z(F+7|0)|0);F=F+9|0;return 0}function Ie(e){e=e|0;B();F=F+1|0;return 0}function xe(e){e=e|0;k(e-192|0|0);F=F+1|0;return 0}function Te(e){0;k(e|0);F=F+1|0;return 0}function Ce(e){0;k(e|0);F=F+1|0;return 0}function Se(e){0;k(e|0);F=F+1|0;return 0}function Oe(e){0;k(e|0);F=F+1|0;return 0}function Ne(e){e=e|0;k(e-192|0|0);F=F+1|0;return 0}function Re(e){0;k(e|0);F=F+1|0;return 0}function ke(e){0;k(e|0);F=F+1|0;return 0}function Ue(e){0;k(e|0);F=F+1|0;return 0}function Pe(e){e=e|0;if(V(1)|0){return 1}k(n[F+1|0]|0);F=F+2|0;return 0}function Le(e){e=e|0;if(V(2)|0){return 1}k(z(F+1|0)|0);F=F+3|0;return 0}function je(e){e=e|0;if(V(4)|0){return 1}U(z(F+1|0)|0,z(F+3|0)|0);F=F+5|0;return 0}function De(e){e=e|0;if(V(8)|0){return 1}P(z(F+1|0)|0,z(F+3|0)|0,z(F+5|0)|0,z(F+7|0)|0);F=F+9|0;return 0}function Fe(e){e=e|0;R((e|0)-224|0);F=F+1|0;return 0}function Me(e){e=e|0;h();F=F+1|0;return 0}function qe(e){e=e|0;d();F=F+1|0;return 0}function $e(e){e=e|0;g();F=F+1|0;return 0}function Ve(e){e=e|0;p();F=F+1|0;return 0}function ze(e){e=e|0;if(V(1)|0){return 1}R(n[F+1|0]|0);F=F+2|0;return 0}function Ge(e){e=e|0;var t=0;var r=0;var i=1.0;var o=0.0;var s=0.0;var a=0.0;if(V(2)|0){return 1}t=n[F+1|0]|0;r=n[F+2|0]|0;if((t|0)&0x80){i=-1.0}o=+(((t|0)&0x7C)>>2);s=+(((t|0)&0x03)<<8|r);if(+o==0.0){u(+(+i*+5.9604644775390625e-8*+s))}else if(+o==31.0){if(+i==1.0){if(+s>0.0){b()}else{y()}}else{if(+s>0.0){w()}else{m()}}}else{u(+(+i*D(+2,+(+o-25.0))*+(1024.0+s)))}F=F+3|0;return 0}function He(e){e=e|0;if(V(4)|0){return 1}f(n[F+1|0]|0,n[F+2|0]|0,n[F+3|0]|0,n[F+4|0]|0);F=F+5|0;return 0}function We(e){e=e|0;if(V(8)|0){return 1}l(n[F+1|0]|0,n[F+2|0]|0,n[F+3|0]|0,n[F+4|0]|0,n[F+5|0]|0,n[F+6|0]|0,n[F+7|0]|0,n[F+8|0]|0);F=F+9|0;return 0}function Ke(e){e=e|0;return 1}function Ye(e){e=e|0;j();F=F+1|0;return 0}var Ze=[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,W,K,Y,Z,Ke,Ke,Ke,Ke,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,X,Q,ee,te,Ke,Ke,Ke,Ke,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,ne,ie,oe,se,Ke,Ke,Ke,ae,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ue,fe,le,de,Ke,Ke,Ke,he,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,ge,ye,me,be,Ke,Ke,Ke,we,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,ve,Ee,_e,Be,Ke,Ke,Ke,Ie,xe,xe,xe,xe,xe,xe,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Pe,Le,je,De,Ke,Ke,Ke,Ke,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Fe,Me,qe,$e,Ve,ze,Ge,He,We,Ke,Ke,Ke,Ye];return{parse:$}}},4416:(e,t,r)=>{"use strict";const{Buffer:n}=r(3279),i=r(251),o=r(1594).BigNumber,s=r(7637),a=r(9205),c=r(9729),u=r(7080),f=r(5994),{URL:l}=r(6438);class d{constructor(e){!(e=e||{}).size||e.size<65536?e.size=65536:e.size=a.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=n.from(this._heap),this._reset(),this._knownTags=Object.assign({0:e=>new Date(e),1:e=>new Date(1e3*e),2:e=>a.arrayBufferToBignumber(e),3:e=>c.NEG_ONE.minus(a.arrayBufferToBignumber(e)),4:e=>c.TEN.pow(e[0]).times(e[1]),5:e=>c.TWO.pow(e[0]).times(e[1]),32:e=>new l(e),35:e=>new RegExp(e)},e.tags),this.parser=s(r.g,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case c.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case c.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case c.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case c.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case c.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case c.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length))}this._currentParent&&this._currentParent.type===c.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,0===e.length&&this._closeParent())}_push(e,t){const r=this._currentParent;switch(r.values++,r.type){case c.PARENT.ARRAY:case c.PARENT.BYTE_STRING:case c.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case c.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,"string"!=typeof r.tmpKey&&(r.type=c.PARENT.MAP,r.ref=a.buildMap(r.ref)));break;case c.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case c.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,t,r){this._parents[this._depth]={type:t,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:c.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){const r=this._knownTags[e];return r?r(t):new f(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return n.concat(e)}createByteStringFromHeap(e,t){return e===t?n.alloc(0):n.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return a.buildInt32(e,t)}createInt64(e,t,r,n){return a.buildInt64(e,t,r,n)}createFloat(e){return e}createFloatSingle(e,t,r,n){return i.read([e,t,r,n],0,!1,23,4)}createFloatDouble(e,t,r,n,o,s,a,c){return i.read([e,t,r,n,o,s,a,c],0,!1,52,8)}createInt32Neg(e,t){return-1-a.buildInt32(e,t)}createInt64Neg(e,t,r,n){const i=a.buildInt32(e,t),s=a.buildInt32(r,n);return i>c.MAX_SAFE_HIGH?c.NEG_ONE.minus(new o(i).times(c.SHIFT32).plus(s)):-1-(i*c.SHIFT32+s)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new u(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,r,n){this._push(this.createInt64(e,t,r,n))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,r,n){this._push(this.createFloatSingle(e,t,r,n))}pushFloatDouble(e,t,r,n,i,o,s,a){this._push(this.createFloatDouble(e,t,r,n,i,o,s,a))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,r,n){this._push(this.createInt64Neg(e,t,r,n))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],c.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){const r=a.buildInt32(e,t);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,t,r,n){const i=a.buildInt64(e,t,r,n);this._createArrayStartFixed(i)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){const r=a.buildInt32(e,t);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,t,r,n){const i=a.buildInt64(e,t,r,n);this._createObjectStartFixed(i)}pushByteStringStart(){this._parents[this._depth]={type:c.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:c.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:c.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(a.buildInt32(e,t))}pushTagStart8(e,t,r,n){this.pushTagStart(a.buildInt64(e,t,r,n))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){0!==e?this._createParent({},c.PARENT.OBJECT,e):this._push(this.createObject({}))}_createArrayStartFixed(e){0!==e?this._createParent(new Array(e),c.PARENT.ARRAY,e):this._push(this.createArray([]))}_decode(e){if(0===e.byteLength)throw new Error("Input too short");this._reset(),this._heap8.set(e);const t=this.parser.parse(e.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(t>0)throw new Error("Failed to parse");if(0===this._res.length)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){"string"==typeof e&&(e=n.from(e,t||"hex"));return new d({size:e.length}).decodeFirst(e)}static decodeAll(e,t){"string"==typeof e&&(e=n.from(e,t||"hex"));return new d({size:e.length}).decodeAll(e)}}d.decodeFirst=d.decode,e.exports=d},858:(e,t,r)=>{"use strict";const{Buffer:n}=r(3279),i=r(4416),o=r(9205);class s extends i{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,r,n){return super.createInt64(e,t,r,n).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,r,n){return super.createInt64Neg(e,t,r,n).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const t=super.createFloat(e);return o.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,r,n){return`${super.createFloatSingle(e,t,r,n)}_2`}createFloatDouble(e,t,r,n,i,o,s,a){return`${super.createFloatDouble(e,t,r,n,i,o,s,a)}_3`}createByteString(e,t){const r=e.join(", ");return-1===t?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,t){return`h'${n.from(super.createByteStringFromHeap(e,t)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){const r=super.createArray(e,t);return-1===t?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,t){const r=super.createMap(e),n=Array.from(r.keys()).reduce(a(r),"");return-1===t?`{_ ${n}}`:`{${n}}`}createObject(e,t){const r=super.createObject(e),n=Object.keys(r).reduce(a(r),"");return-1===t?`{_ ${n}}`:`{${n}}`}createUtf8String(e,t){const r=e.join(", ");return-1===t?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,t){return`"${n.from(super.createUtf8StringFromHeap(e,t)).toString("utf8")}"`}static diagnose(e,t){"string"==typeof e&&(e=n.from(e,t||"hex"));return(new s).decodeFirst(e)}}function a(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}e.exports=s},1928:(e,t,r)=>{"use strict";const{Buffer:n}=r(3279),{URL:i}=r(6438),o=r(1594).BigNumber,s=r(9205),a=r(9729),c=a.MT,u=a.NUMBYTES,f=a.SHIFT32,l=a.SYMS,d=a.TAG,h=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.TWO,p=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.FOUR,g=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.EIGHT,y=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.TRUE,m=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.FALSE,b=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.UNDEFINED,w=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.NULL,A=new o("0x20000000000000"),v=n.from("f97e00","hex"),E=n.from("f9fc00","hex"),_=n.from("f97c00","hex");class B{constructor(e){e=e||{},this.streaming="function"==typeof e.stream,this.onData=e.stream,this.semanticTypes=[[i,this._pushUrl],[o,this._pushBigNumber]];const t=e.genTypes||[],r=t.length;for(let e=0;e<r;e++)this.addSemanticType(t[e][0],t[e][1]);this._reset()}addSemanticType(e,t){const r=this.semanticTypes.length;for(let n=0;n<r;n++){if(this.semanticTypes[n][0]===e){const e=this.semanticTypes[n][1];return this.semanticTypes[n][1]=t,e}}return this.semanticTypes.push([e,t]),null}push(e){return!e||(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(e,t,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(v)}_pushInfinity(e){const t=e<0?E:_;return this.push(t)}_pushFloat(e){const t=n.allocUnsafe(2);if(s.writeHalf(t,e)&&s.parseHalf(t)===e)return this._pushUInt8(h)&&this.push(t);const r=n.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(p)&&this.push(r):this._pushUInt8(g)&&this._pushDoubleBE(e)}_pushInt(e,t,r){const n=t<<5;return e<24?this._pushUInt8(n|e):e<=255?this._pushUInt8(n|u.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(n|u.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(n|u.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|u.EIGHT)&&this._pushUInt32BE(Math.floor(e/f))&&this._pushUInt32BE(e%f):t===c.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,c.NEG_INT,e):this._pushInt(e,c.POS_INT)}_pushNumber(e){switch(!1){case e==e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const t=n.byteLength(e,"utf8");return this._pushInt(t,c.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?y:m)}_pushUndefined(e){return this._pushUInt8(b)}_pushArray(e,t){const r=t.length;if(!e._pushInt(r,c.ARRAY))return!1;for(let n=0;n<r;n++)if(!e.pushAny(t[n]))return!1;return!0}_pushTag(e){return this._pushInt(e,c.TAG)}_pushDate(e,t){return e._pushTag(d.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,c.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(d.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,c.ARRAY))return!1;for(const r of t)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,t){return e._pushTag(d.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=d.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=d.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);const i=n.from(r,"hex");return this._pushTag(t)&&this._pushBuffer(this,i)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!e._pushTag(d.DECIMAL_FRAC)||!e._pushInt(2,c.ARRAY))return!1;const r=t.decimalPlaces(),n=t.multipliedBy(new o(10).pow(r));return!!e._pushIntNum(-r)&&(n.abs().isLessThan(A)?e._pushIntNum(n.toNumber()):e._pushBigint(n))}_pushMap(e,t){return!!e._pushInt(t.size,c.MAP)&&this._pushRawMap(t.size,Array.from(t))}_pushObject(e){if(!e)return this._pushUInt8(w);for(var t=this.semanticTypes.length,r=0;r<t;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var n=e.encodeCBOR;if("function"==typeof n)return n.call(e,this);var i=Object.keys(e),o=i.length;return!!this._pushInt(o,c.MAP)&&this._pushRawMap(o,i.map((t=>[t,e[t]])))}_pushRawMap(e,t){t=t.map((function(e){return e[0]=B.encode(e[0]),e})).sort(s.keySorter);for(var r=0;r<e;r++){if(!this.push(t[r][0]))return!1;if(!this.pushAny(t[r][1]))return!1}return!0}write(e){return this.pushAny(e)}pushAny(e){var t=function(e){return{}.toString.call(e).slice(8,-1)}(e);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,n.isBuffer(e)?e:n.from(e));case"Null":return this._pushUInt8(w);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case l.NULL:return this._pushObject(null);case l.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(0===this.offset)return null;for(var e=this.result,t=this.resultLength,r=this.resultMethod,i=this.offset,o=0,s=0;s<i;s++)o+=t[s];var a=n.allocUnsafe(o),c=0,u=0;for(s=0;s<i;s++){switch(u=t[s],r[s]){case 0:e[s].copy(a,c);break;case 1:a.writeUInt8(e[s],c,!0);break;case 2:a.writeUInt16BE(e[s],c,!0);break;case 3:a.writeUInt32BE(e[s],c,!0);break;case 4:a.writeDoubleBE(e[s],c,!0);break;case 5:a.write(e[s],c,u,"utf8");break;default:throw new Error("unkown method")}c+=u}var f=a;return this._reset(),f}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const t=new B;if(!t.pushAny(e))throw new Error("Failed to encode input");return t.finalize()}}e.exports=B},7516:(e,t,r)=>{"use strict";t.Diagnose=r(858),t.Decoder=r(4416),t.Encoder=r(1928),t.Simple=r(7080),t.Tagged=r(5994),t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}},7080:(e,t,r)=>{"use strict";const n=r(9729),i=n.MT,o=n.SIMPLE,s=n.SYMS;class a{constructor(e){if("number"!=typeof e)throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,i.SIMPLE_FLOAT)}static isSimple(e){return e instanceof a}static decode(e,t){switch(null==t&&(t=!0),e){case o.FALSE:return!1;case o.TRUE:return!0;case o.NULL:return t?null:s.NULL;case o.UNDEFINED:return t?void 0:s.UNDEFINED;case-1:if(!t)throw new Error("Invalid BREAK");return s.BREAK;default:return new a(e)}}}e.exports=a},5994:e=>{"use strict";class t{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var r,n;if("function"!=typeof(n=null!=e?e[this.tag]:void 0)&&"function"!=typeof(n=t["_tag"+this.tag]))return this;try{return n.call(t,this.value)}catch(e){return r=e,this.err=r,this}}}e.exports=t},9205:(e,t,r)=>{"use strict";const{Buffer:n}=r(3279),i=r(1594).BigNumber,o=r(9729),s=o.SHIFT32,a=o.SHIFT16;t.parseHalf=function(e){var t,r,n;return n=128&e[0]?-1:1,t=(124&e[0])>>2,r=(3&e[0])<<8|e[1],t?31===t?n*(r?NaN:Infinity):n*Math.pow(2,t-25)*(1024+r):5.960464477539063e-8*n*r},t.arrayBufferToBignumber=function(e){const t=e.byteLength;let r="";for(let i=0;i<t;i++)r+=(n=e[i])<16?"0"+n.toString(16):n.toString(16);var n;return new i(r,16)},t.buildMap=e=>{const t=new Map,r=Object.keys(e),n=r.length;for(let i=0;i<n;i++)t.set(r[i],e[r[i]]);return t},t.buildInt32=(e,t)=>e*a+t,t.buildInt64=(e,r,n,o)=>{const a=t.buildInt32(e,r),c=t.buildInt32(n,o);return a>2097151?new i(a).times(s).plus(c):a*s+c},t.writeHalf=function(e,t){const r=n.allocUnsafe(4);r.writeFloatBE(t,0);const i=r.readUInt32BE(0);if(8191&i)return!1;var o=i>>16&32768;const s=i>>23&255,a=8388607&i;if(s>=113&&s<=142)o+=(s-112<<10)+(a>>13);else{if(!(s>=103&&s<113))return!1;if(a&(1<<126-s)-1)return!1;o+=a+8388608>>126-s}return e.writeUInt16BE(o,0),!0},t.keySorter=function(e,t){var r=e[0].byteLength,n=t[0].byteLength;return r>n?1:n>r?-1:e[0].compare(t[0])},t.isNegativeZero=e=>0===e&&1/e<0,t.nextPowerOf2=e=>{let t=0;if(e&&!(e&e-1))return e;for(;0!==e;)e>>=1,t+=1;return 1<<t}},8287:(e,t,r)=>{"use strict";const n=r(7526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function A(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Z(n))return s;e[r+s]=n}return s}function v(e,t,r,n){return K(H(t,e.length-r),e,r,n)}function E(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return K(W(t),e,r,n)}function B(e,t,r,n){return K(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return l(e)},c.allocUnsafeSlow=function(e){return l(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<a;++e)if(u[e]!==f[e]){o=u[e],s=f[e];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function C(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=J[e[n]];return i}function N(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){$(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function P(e,t,r,n,i){$(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){k(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){k(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);k(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);k(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const F={};function M(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function $(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||z(t,e.length-(r+1))}(n,i,o)}function V(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,r){if(Math.floor(e)!==e)throw V(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},7438:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1354),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,":root {\n  font-family: 'Circular Std', 'Roboto', sans-serif;\n  font-weight: 300;\n  font-size: 10px;\n  --font-circular: 'Circular Std', 'Roboto', sans-serif;\n  --font-mono: 'Vremena Grotesk', 'Roboto Mono', monospace;\n  --header-height: 4rem;\n  --pad-sm: 0.8rem;\n  --pad-md: 1.5rem;\n  --pad-lg: 2.4rem;\n  --font-sm: 1.2rem;\n  --font-md: 1.4rem;\n  --font-lg: 2.4rem;\n  --light-bg: #f6f6f7;\n  --white: #f9f9f9;\n  --lightest: #ebf0fa;\n  --lighter: #eaeaea;\n  --light: #e5e5e5;\n  --medium: #c3c3c4;\n  --dark: #818284;\n  --darker: #545454;\n  --darkest: #292a2e;\n  --error: #b82121;\n}\n\n#app {\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: 100vh;\n  font-size: var(--font-md);\n}\n\n#container {\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - var(--header-height));\n}\n\n#main-content {\n  flex: 1;\n  overflow: auto;\n}\n\n#header {\n  height: var(--header-height);\n  width: 100%;\n  text-align: center;\n  font-size: var(--font-md);\n  color: var(--darkest);\n  border-bottom: 1px solid var(--dark);\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n#title-card {\n  padding: 3.2rem 1.8rem 0;\n  font-size: 1.6rem;\n}\n\n#title {\n  font-size: 3.4rem;\n  letter-spacing: 0.1rem;\n}\n\n#methods {\n  font-family: 'Vremena Grotesk', 'Roboto Mono', monospace;\n  padding: 0;\n  margin: 0;\n}\n\n#methods li {\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: var(--pad-md);\n  margin-top: var(--pad-lg);\n  border: 1px solid var(--dark);\n}\n\n.signature {\n  font-weight: lighter;\n  margin-bottom: var(--pad-md);\n}\n.signature b {\n  font-weight: bold;\n}\n\n.composite {\n  margin-bottom: var(--pad-md);\n}\n\ninput,\nselect {\n  font-size: var(--font-md);\n  font-family: 'Circular Std', 'Roboto', sans-serif;\n  margin-bottom: var(--pad-lg);\n}\ninput:not([type='checkbox']),\nselect {\n  width: 100%;\n  height: 4.8rem;\n  padding: 1.5rem;\n  border: 1px solid var(--dark);\n}\ninput[type='number']::-webkit-inner-spin-button {\n  width: 3rem;\n  height: 3rem;\n}\nlabel {\n  font-family: 'Circular Std', 'Roboto', sans-serif;\n  margin-right: var(--pad-sm);\n}\nlabel.small {\n  font-size: 1rem;\n}\n.popup-form {\n  padding-left: var(--pad-md);\n  width: 100%;\n}\ninput[type='checkbox'] ~ .popup-form {\n  padding-left: var(--pad-md);\n}\n.checkbox-label {\n  display: inline-flex;\n  gap: 4px;\n  align-items: center;\n  margin-bottom: 0;\n}\n.checkbox-label input[type='checkbox'] {\n  margin-bottom: 0;\n}\n.input-container > span > .popup-form,\n.ui-result > span > .popup-form {\n  padding-left: 0;\n}\n.input-container span:not(.status),\n.ui-result span:not(.status) {\n  position: relative;\n  overflow-clip: none;\n  overflow-y: visible;\n}\n\n.reject {\n  border-color: var(--error) !important;\n  box-shadow: 0 0 1px var(--error);\n}\n.result {\n  display: none;\n  position: relative;\n  width: 100%;\n  margin-top: var(--pad-lg);\n  padding-top: 1.5rem;\n  font-size: 1.4rem;\n  border-top: 1px solid var(--light);\n}\n.error {\n  color: var(--error);\n}\n.status {\n  display: none;\n  position: absolute;\n  top: 3.1rem;\n  left: 0.2rem;\n  font-size: 1.2rem;\n  color: var(--error);\n  white-space: pre;\n}\n.left {\n  flex: 1;\n  overflow-wrap: anywhere;\n}\n.right {\n  color: var(--dark);\n  align-self: stretch;\n  margin-left: var(--pad-md);\n}\n.clear {\n  clear: both;\n}\n\n.button-container {\n  display: flex;\n  margin-top: 0.8rem;\n}\n\n.btn {\n  font-family: 'Roboto', sans-serif;\n  letter-spacing: 0.05rem;\n  background-color: var(--darkest);\n  color: var(--lightest);\n  font-size: 1.4rem;\n  padding: 1.5rem;\n  border: none;\n  text-transform: uppercase;\n  flex: 1;\n  cursor: pointer;\n}\n.btn:not(:last-child) {\n  margin-right: var(--pad-md);\n}\n.btn-auth {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px;\n}\n.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.btn-auth svg {\n  transition: transform ease-out .05s;\n  transform: scale(.8);\n}\n.btn-auth:hover:not(.disabled) svg {\n  transition: transform ease-out .1s;\n  transform: scale(.9);\n}\nbutton {\n  padding: 0;\n  border: none;\n  background-color: inherit;\n  color: inherit;\n}\nbutton:focus,\ninput:focus,\nselect:focus,\ntextarea:focus {\n  outline: none;\n}\n.random {\n  background-color: var(--lighter);\n  color: var(--darkest);\n}\n\n.result-buttons {\n  display: none;\n  position: absolute;\n  top: -0.1rem;\n  right: 0;\n}\n.result:not(.error):hover .result-buttons {\n  display: block;\n}\n.result-buttons .btn {\n  color: var(--darkest);\n  background-color: var(--white);\n  border: 1px solid var(--darkest);\n  font-size: 1.1rem;\n  padding: 0.2rem 0.8rem;\n}\n.result-buttons .btn:not(:last-child) {\n  margin-right: 0.5rem;\n}\n.result-buttons .btn:focus,\n.result-buttons .btn:hover {\n  background-color: var(--light);\n}\n.result-buttons .btn:active {\n  background-color: var(--lightest);\n}\n.result-buttons .btn.active {\n  color: var(--white);\n  background-color: var(--darkest);\n}\n\n#console {\n  overflow: hidden;\n  height: var(--header-height);\n  background-color: var(--light-bg);\n  color: var(--darkest);\n  transition: height 0.2s ease-in-out;\n}\n#console.open {\n  height: 40vh;\n}\n\n#console-bar {\n  display: flex;\n  height: var(--header-height);\n  background-color: var(--white);\n  padding: 0;\n  border-bottom: 1px solid var(--light);\n}\n.console-header {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: var(--header-height);\n  background-color: var(--light-bg);\n  font-size: 2rem;\n  font-family: var(--font-circular);\n  text-align: center;\n  text-transform: uppercase;\n}\n#output-button,\n#methods-button {\n  flex: 1;\n  cursor: pointer;\n  font-size: var(--font-lg);\n  border-bottom: 1px solid var(--medium);\n}\n#output-button:hover,\n#methods-button:hover,\n#output-button:focus,\n#methods-button:focus {\n  background-color: var(--light);\n}\n.active-tab {\n  background-color: var(--lighter);\n}\n\n#output-pane,\n#methods-pane {\n  font-family: var(--font-mono);\n  height: 0;\n  padding: 0 0 3rem;\n  margin-right: calc(-1 * var(--pad-md));\n}\n\n#output-list,\n#methods-list {\n  list-style: none;\n  padding: 0 0 var(--pad-lg);\n  height: calc(40vh - (var(--header-height) * 2));\n  overflow-y: auto;\n}\n\n.output-line {\n  width: 100%;\n  padding: 0.4rem 0.8rem;\n  overflow-wrap: break-word;\n}\n.output-line:nth-child(2n-1) {\n  background-color: var(--lighter);\n}\n\n#methods-list {\n  padding-top: 0.2rem;\n}\n#methods-list a {\n  display: block;\n  padding: 0.7rem 1.5rem;\n  color: var(--darkest);\n}\n#methods-list a:focus,\n#methods-list a:hover {\n  background-color: var(--darker);\n  color: var(--white);\n  text-decoration: none;\n}\n#methods-list a:active {\n  background-color: var(--darkest);\n}\n\n@media not screen and (min-width: 600px) {\n  :root {\n    --header-height: initial;\n  }\n\n  #header {\n    flex-direction: column;\n    padding: 1rem 0;\n    gap: 1rem;\n  }\n}\n\n@media only screen and (min-width: 800px) {\n  :root {\n    --header-height: 5.6rem;\n    --console-width: clamp(28rem, 30vw, 40rem);\n  }\n\n  #header {\n    text-align: left;\n    padding-left: 3rem;\n    padding-right: 1rem;\n  }\n\n  #container {\n    flex-direction: row;\n    overflow: auto;\n  }\n\n  #title-card {\n    padding-left: 0;\n  }\n\n  #main-content {\n    flex: 1;\n    padding: 0 3rem 5rem;\n  }\n\n  .btn {\n    width: auto;\n    flex: 0;\n    padding: var(--pad-sm) var(--pad-md);\n  }\n\n  .input-container span:not(:first-child):not(.status),\n  .ui-result span:not(:first-child):not(.status) {\n    margin-left: var(--pad-md);\n  }\n  input:not([type='checkbox']),\n  select {\n    width: 23.2rem;\n    height: 4rem;\n    padding: 1rem var(--pad-md);\n  }\n\n  #console {\n    display: flex;\n    flex-direction: row-reverse;\n    width: var(--header-height);\n    height: calc(100vh - var(--header-height));\n    padding: 0;\n    transition: width 0.2s ease-in-out;\n  }\n  #console.open {\n    width: calc(var(--header-height) + var(--console-width));\n    height: calc(100vh - var(--header-height));\n  }\n\n  #console-bar {\n    display: flex;\n    flex-direction: column;\n    justify-self: end;\n    width: var(--header-height);\n    height: 100%;\n    padding: 0;\n    border-bottom: none;\n    border-left: 1px solid var(--light);\n  }\n  #console-bar button {\n    flex: 0;\n    font-size: 4rem;\n    padding: 0.8rem;\n  }\n\n  .console-header {\n    display: none;\n    width: 0;\n    border-bottom: none;\n    transition: width 0.2s ease-in-out;\n  }\n  #console.open .console-header {\n    display: flex;\n    width: 100%;\n  }\n\n  #output-pane,\n  #methods-pane {\n    width: 100%;\n    margin: 0;\n  }\n\n  #methods-pane,\n  #output-pane {\n    height: 100% !important;\n    width: 0;\n    transition: width 0.2s ease-in-out;\n  }\n  #console.open #methods-pane,\n  #console.open #output-pane {\n    width: var(--console-width);\n  }\n\n  #output-list,\n  #methods-list {\n    height: calc(100vh - (var(--header-height) * 2));\n  }\n}\n","",{version:3,sources:["webpack://./src/candid.css"],names:[],mappings:"AAAA;EACE,iDAAiD;EACjD,gBAAgB;EAChB,eAAe;EACf,qDAAqD;EACrD,wDAAwD;EACxD,qBAAqB;EACrB,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;EAChB,iBAAiB;EACjB,iBAAiB;EACjB,iBAAiB;EACjB,mBAAmB;EACnB,gBAAgB;EAChB,mBAAmB;EACnB,kBAAkB;EAClB,gBAAgB;EAChB,iBAAiB;EACjB,eAAe;EACf,iBAAiB;EACjB,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,aAAa;EACb,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,0CAA0C;AAC5C;;AAEA;EACE,OAAO;EACP,cAAc;AAChB;;AAEA;EACE,4BAA4B;EAC5B,WAAW;EACX,kBAAkB;EAClB,yBAAyB;EACzB,qBAAqB;EACrB,oCAAoC;;EAEpC,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;AACrB;;AAEA;EACE,wBAAwB;EACxB,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,sBAAsB;AACxB;;AAEA;EACE,wDAAwD;EACxD,UAAU;EACV,SAAS;AACX;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,gBAAgB;EAChB,sBAAsB;EACtB,yBAAyB;EACzB,6BAA6B;AAC/B;;AAEA;EACE,oBAAoB;EACpB,4BAA4B;AAC9B;AACA;EACE,iBAAiB;AACnB;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;;EAEE,yBAAyB;EACzB,iDAAiD;EACjD,4BAA4B;AAC9B;AACA;;EAEE,WAAW;EACX,cAAc;EACd,eAAe;EACf,6BAA6B;AAC/B;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,iDAAiD;EACjD,2BAA2B;AAC7B;AACA;EACE,eAAe;AACjB;AACA;EACE,2BAA2B;EAC3B,WAAW;AACb;AACA;EACE,2BAA2B;AAC7B;AACA;EACE,oBAAoB;EACpB,QAAQ;EACR,mBAAmB;EACnB,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;;EAEE,eAAe;AACjB;AACA;;EAEE,kBAAkB;EAClB,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,qCAAqC;EACrC,gCAAgC;AAClC;AACA;EACE,aAAa;EACb,kBAAkB;EAClB,WAAW;EACX,yBAAyB;EACzB,mBAAmB;EACnB,iBAAiB;EACjB,kCAAkC;AACpC;AACA;EACE,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,mBAAmB;EACnB,gBAAgB;AAClB;AACA;EACE,OAAO;EACP,uBAAuB;AACzB;AACA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,0BAA0B;AAC5B;AACA;EACE,WAAW;AACb;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,iCAAiC;EACjC,uBAAuB;EACvB,gCAAgC;EAChC,sBAAsB;EACtB,iBAAiB;EACjB,eAAe;EACf,YAAY;EACZ,yBAAyB;EACzB,OAAO;EACP,eAAe;AACjB;AACA;EACE,2BAA2B;AAC7B;AACA;EACE,oBAAoB;EACpB,mBAAmB;EACnB,QAAQ;EACR,aAAa;AACf;AACA;EACE,YAAY;EACZ,mBAAmB;AACrB;AACA;EACE,mCAAmC;EACnC,oBAAoB;AACtB;AACA;EACE,kCAAkC;EAClC,oBAAoB;AACtB;AACA;EACE,UAAU;EACV,YAAY;EACZ,yBAAyB;EACzB,cAAc;AAChB;AACA;;;;EAIE,aAAa;AACf;AACA;EACE,gCAAgC;EAChC,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,YAAY;EACZ,QAAQ;AACV;AACA;EACE,cAAc;AAChB;AACA;EACE,qBAAqB;EACrB,8BAA8B;EAC9B,gCAAgC;EAChC,iBAAiB;EACjB,sBAAsB;AACxB;AACA;EACE,oBAAoB;AACtB;AACA;;EAEE,8BAA8B;AAChC;AACA;EACE,iCAAiC;AACnC;AACA;EACE,mBAAmB;EACnB,gCAAgC;AAClC;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,iCAAiC;EACjC,qBAAqB;EACrB,mCAAmC;AACrC;AACA;EACE,YAAY;AACd;;AAEA;EACE,aAAa;EACb,4BAA4B;EAC5B,8BAA8B;EAC9B,UAAU;EACV,qCAAqC;AACvC;AACA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,4BAA4B;EAC5B,iCAAiC;EACjC,eAAe;EACf,iCAAiC;EACjC,kBAAkB;EAClB,yBAAyB;AAC3B;AACA;;EAEE,OAAO;EACP,eAAe;EACf,yBAAyB;EACzB,sCAAsC;AACxC;AACA;;;;EAIE,8BAA8B;AAChC;AACA;EACE,gCAAgC;AAClC;;AAEA;;EAEE,6BAA6B;EAC7B,SAAS;EACT,iBAAiB;EACjB,sCAAsC;AACxC;;AAEA;;EAEE,gBAAgB;EAChB,0BAA0B;EAC1B,+CAA+C;EAC/C,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,sBAAsB;EACtB,yBAAyB;AAC3B;AACA;EACE,gCAAgC;AAClC;;AAEA;EACE,mBAAmB;AACrB;AACA;EACE,cAAc;EACd,sBAAsB;EACtB,qBAAqB;AACvB;AACA;;EAEE,+BAA+B;EAC/B,mBAAmB;EACnB,qBAAqB;AACvB;AACA;EACE,gCAAgC;AAClC;;AAEA;EACE;IACE,wBAAwB;EAC1B;;EAEA;IACE,sBAAsB;IACtB,eAAe;IACf,SAAS;EACX;AACF;;AAEA;EACE;IACE,uBAAuB;IACvB,0CAA0C;EAC5C;;EAEA;IACE,gBAAgB;IAChB,kBAAkB;IAClB,mBAAmB;EACrB;;EAEA;IACE,mBAAmB;IACnB,cAAc;EAChB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,OAAO;IACP,oBAAoB;EACtB;;EAEA;IACE,WAAW;IACX,OAAO;IACP,oCAAoC;EACtC;;EAEA;;IAEE,0BAA0B;EAC5B;EACA;;IAEE,cAAc;IACd,YAAY;IACZ,2BAA2B;EAC7B;;EAEA;IACE,aAAa;IACb,2BAA2B;IAC3B,2BAA2B;IAC3B,0CAA0C;IAC1C,UAAU;IACV,kCAAkC;EACpC;EACA;IACE,wDAAwD;IACxD,0CAA0C;EAC5C;;EAEA;IACE,aAAa;IACb,sBAAsB;IACtB,iBAAiB;IACjB,2BAA2B;IAC3B,YAAY;IACZ,UAAU;IACV,mBAAmB;IACnB,mCAAmC;EACrC;EACA;IACE,OAAO;IACP,eAAe;IACf,eAAe;EACjB;;EAEA;IACE,aAAa;IACb,QAAQ;IACR,mBAAmB;IACnB,kCAAkC;EACpC;EACA;IACE,aAAa;IACb,WAAW;EACb;;EAEA;;IAEE,WAAW;IACX,SAAS;EACX;;EAEA;;IAEE,uBAAuB;IACvB,QAAQ;IACR,kCAAkC;EACpC;EACA;;IAEE,2BAA2B;EAC7B;;EAEA;;IAEE,gDAAgD;EAClD;AACF",sourcesContent:[":root {\n  font-family: 'Circular Std', 'Roboto', sans-serif;\n  font-weight: 300;\n  font-size: 10px;\n  --font-circular: 'Circular Std', 'Roboto', sans-serif;\n  --font-mono: 'Vremena Grotesk', 'Roboto Mono', monospace;\n  --header-height: 4rem;\n  --pad-sm: 0.8rem;\n  --pad-md: 1.5rem;\n  --pad-lg: 2.4rem;\n  --font-sm: 1.2rem;\n  --font-md: 1.4rem;\n  --font-lg: 2.4rem;\n  --light-bg: #f6f6f7;\n  --white: #f9f9f9;\n  --lightest: #ebf0fa;\n  --lighter: #eaeaea;\n  --light: #e5e5e5;\n  --medium: #c3c3c4;\n  --dark: #818284;\n  --darker: #545454;\n  --darkest: #292a2e;\n  --error: #b82121;\n}\n\n#app {\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: 100vh;\n  font-size: var(--font-md);\n}\n\n#container {\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - var(--header-height));\n}\n\n#main-content {\n  flex: 1;\n  overflow: auto;\n}\n\n#header {\n  height: var(--header-height);\n  width: 100%;\n  text-align: center;\n  font-size: var(--font-md);\n  color: var(--darkest);\n  border-bottom: 1px solid var(--dark);\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n#title-card {\n  padding: 3.2rem 1.8rem 0;\n  font-size: 1.6rem;\n}\n\n#title {\n  font-size: 3.4rem;\n  letter-spacing: 0.1rem;\n}\n\n#methods {\n  font-family: 'Vremena Grotesk', 'Roboto Mono', monospace;\n  padding: 0;\n  margin: 0;\n}\n\n#methods li {\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: var(--pad-md);\n  margin-top: var(--pad-lg);\n  border: 1px solid var(--dark);\n}\n\n.signature {\n  font-weight: lighter;\n  margin-bottom: var(--pad-md);\n}\n.signature b {\n  font-weight: bold;\n}\n\n.composite {\n  margin-bottom: var(--pad-md);\n}\n\ninput,\nselect {\n  font-size: var(--font-md);\n  font-family: 'Circular Std', 'Roboto', sans-serif;\n  margin-bottom: var(--pad-lg);\n}\ninput:not([type='checkbox']),\nselect {\n  width: 100%;\n  height: 4.8rem;\n  padding: 1.5rem;\n  border: 1px solid var(--dark);\n}\ninput[type='number']::-webkit-inner-spin-button {\n  width: 3rem;\n  height: 3rem;\n}\nlabel {\n  font-family: 'Circular Std', 'Roboto', sans-serif;\n  margin-right: var(--pad-sm);\n}\nlabel.small {\n  font-size: 1rem;\n}\n.popup-form {\n  padding-left: var(--pad-md);\n  width: 100%;\n}\ninput[type='checkbox'] ~ .popup-form {\n  padding-left: var(--pad-md);\n}\n.checkbox-label {\n  display: inline-flex;\n  gap: 4px;\n  align-items: center;\n  margin-bottom: 0;\n}\n.checkbox-label input[type='checkbox'] {\n  margin-bottom: 0;\n}\n.input-container > span > .popup-form,\n.ui-result > span > .popup-form {\n  padding-left: 0;\n}\n.input-container span:not(.status),\n.ui-result span:not(.status) {\n  position: relative;\n  overflow-clip: none;\n  overflow-y: visible;\n}\n\n.reject {\n  border-color: var(--error) !important;\n  box-shadow: 0 0 1px var(--error);\n}\n.result {\n  display: none;\n  position: relative;\n  width: 100%;\n  margin-top: var(--pad-lg);\n  padding-top: 1.5rem;\n  font-size: 1.4rem;\n  border-top: 1px solid var(--light);\n}\n.error {\n  color: var(--error);\n}\n.status {\n  display: none;\n  position: absolute;\n  top: 3.1rem;\n  left: 0.2rem;\n  font-size: 1.2rem;\n  color: var(--error);\n  white-space: pre;\n}\n.left {\n  flex: 1;\n  overflow-wrap: anywhere;\n}\n.right {\n  color: var(--dark);\n  align-self: stretch;\n  margin-left: var(--pad-md);\n}\n.clear {\n  clear: both;\n}\n\n.button-container {\n  display: flex;\n  margin-top: 0.8rem;\n}\n\n.btn {\n  font-family: 'Roboto', sans-serif;\n  letter-spacing: 0.05rem;\n  background-color: var(--darkest);\n  color: var(--lightest);\n  font-size: 1.4rem;\n  padding: 1.5rem;\n  border: none;\n  text-transform: uppercase;\n  flex: 1;\n  cursor: pointer;\n}\n.btn:not(:last-child) {\n  margin-right: var(--pad-md);\n}\n.btn-auth {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px;\n}\n.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.btn-auth svg {\n  transition: transform ease-out .05s;\n  transform: scale(.8);\n}\n.btn-auth:hover:not(.disabled) svg {\n  transition: transform ease-out .1s;\n  transform: scale(.9);\n}\nbutton {\n  padding: 0;\n  border: none;\n  background-color: inherit;\n  color: inherit;\n}\nbutton:focus,\ninput:focus,\nselect:focus,\ntextarea:focus {\n  outline: none;\n}\n.random {\n  background-color: var(--lighter);\n  color: var(--darkest);\n}\n\n.result-buttons {\n  display: none;\n  position: absolute;\n  top: -0.1rem;\n  right: 0;\n}\n.result:not(.error):hover .result-buttons {\n  display: block;\n}\n.result-buttons .btn {\n  color: var(--darkest);\n  background-color: var(--white);\n  border: 1px solid var(--darkest);\n  font-size: 1.1rem;\n  padding: 0.2rem 0.8rem;\n}\n.result-buttons .btn:not(:last-child) {\n  margin-right: 0.5rem;\n}\n.result-buttons .btn:focus,\n.result-buttons .btn:hover {\n  background-color: var(--light);\n}\n.result-buttons .btn:active {\n  background-color: var(--lightest);\n}\n.result-buttons .btn.active {\n  color: var(--white);\n  background-color: var(--darkest);\n}\n\n#console {\n  overflow: hidden;\n  height: var(--header-height);\n  background-color: var(--light-bg);\n  color: var(--darkest);\n  transition: height 0.2s ease-in-out;\n}\n#console.open {\n  height: 40vh;\n}\n\n#console-bar {\n  display: flex;\n  height: var(--header-height);\n  background-color: var(--white);\n  padding: 0;\n  border-bottom: 1px solid var(--light);\n}\n.console-header {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: var(--header-height);\n  background-color: var(--light-bg);\n  font-size: 2rem;\n  font-family: var(--font-circular);\n  text-align: center;\n  text-transform: uppercase;\n}\n#output-button,\n#methods-button {\n  flex: 1;\n  cursor: pointer;\n  font-size: var(--font-lg);\n  border-bottom: 1px solid var(--medium);\n}\n#output-button:hover,\n#methods-button:hover,\n#output-button:focus,\n#methods-button:focus {\n  background-color: var(--light);\n}\n.active-tab {\n  background-color: var(--lighter);\n}\n\n#output-pane,\n#methods-pane {\n  font-family: var(--font-mono);\n  height: 0;\n  padding: 0 0 3rem;\n  margin-right: calc(-1 * var(--pad-md));\n}\n\n#output-list,\n#methods-list {\n  list-style: none;\n  padding: 0 0 var(--pad-lg);\n  height: calc(40vh - (var(--header-height) * 2));\n  overflow-y: auto;\n}\n\n.output-line {\n  width: 100%;\n  padding: 0.4rem 0.8rem;\n  overflow-wrap: break-word;\n}\n.output-line:nth-child(2n-1) {\n  background-color: var(--lighter);\n}\n\n#methods-list {\n  padding-top: 0.2rem;\n}\n#methods-list a {\n  display: block;\n  padding: 0.7rem 1.5rem;\n  color: var(--darkest);\n}\n#methods-list a:focus,\n#methods-list a:hover {\n  background-color: var(--darker);\n  color: var(--white);\n  text-decoration: none;\n}\n#methods-list a:active {\n  background-color: var(--darkest);\n}\n\n@media not screen and (min-width: 600px) {\n  :root {\n    --header-height: initial;\n  }\n\n  #header {\n    flex-direction: column;\n    padding: 1rem 0;\n    gap: 1rem;\n  }\n}\n\n@media only screen and (min-width: 800px) {\n  :root {\n    --header-height: 5.6rem;\n    --console-width: clamp(28rem, 30vw, 40rem);\n  }\n\n  #header {\n    text-align: left;\n    padding-left: 3rem;\n    padding-right: 1rem;\n  }\n\n  #container {\n    flex-direction: row;\n    overflow: auto;\n  }\n\n  #title-card {\n    padding-left: 0;\n  }\n\n  #main-content {\n    flex: 1;\n    padding: 0 3rem 5rem;\n  }\n\n  .btn {\n    width: auto;\n    flex: 0;\n    padding: var(--pad-sm) var(--pad-md);\n  }\n\n  .input-container span:not(:first-child):not(.status),\n  .ui-result span:not(:first-child):not(.status) {\n    margin-left: var(--pad-md);\n  }\n  input:not([type='checkbox']),\n  select {\n    width: 23.2rem;\n    height: 4rem;\n    padding: 1rem var(--pad-md);\n  }\n\n  #console {\n    display: flex;\n    flex-direction: row-reverse;\n    width: var(--header-height);\n    height: calc(100vh - var(--header-height));\n    padding: 0;\n    transition: width 0.2s ease-in-out;\n  }\n  #console.open {\n    width: calc(var(--header-height) + var(--console-width));\n    height: calc(100vh - var(--header-height));\n  }\n\n  #console-bar {\n    display: flex;\n    flex-direction: column;\n    justify-self: end;\n    width: var(--header-height);\n    height: 100%;\n    padding: 0;\n    border-bottom: none;\n    border-left: 1px solid var(--light);\n  }\n  #console-bar button {\n    flex: 0;\n    font-size: 4rem;\n    padding: 0.8rem;\n  }\n\n  .console-header {\n    display: none;\n    width: 0;\n    border-bottom: none;\n    transition: width 0.2s ease-in-out;\n  }\n  #console.open .console-header {\n    display: flex;\n    width: 100%;\n  }\n\n  #output-pane,\n  #methods-pane {\n    width: 100%;\n    margin: 0;\n  }\n\n  #methods-pane,\n  #output-pane {\n    height: 100% !important;\n    width: 0;\n    transition: width 0.2s ease-in-out;\n  }\n  #console.open #methods-pane,\n  #console.open #output-pane {\n    width: var(--console-width);\n  }\n\n  #output-list,\n  #methods-list {\n    height: calc(100vh - (var(--header-height) * 2));\n  }\n}\n"],sourceRoot:""}]);const a=s},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var u=0;u<e.length;u++){var f=[].concat(e[u]);n&&s[f[0]]||(void 0!==o&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=o),r&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=r):f[2]=r),i&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=i):f[4]="".concat(i)),t.push(f))}},t}},1354:e=>{"use strict";e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(i," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},251:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,f=-7,l=r?i-1:0,d=r?-1:1,h=e[t+l];for(l+=d,o=h&(1<<-f)-1,h>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=d,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=d,f-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=u}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,f=(1<<u)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+l>=1?d/c:d*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*c-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+h]=255&s,h+=p,s/=256,u-=8);e[r+h-p]|=128*g}},6438:(e,t,r)=>{"use strict";const{URLWithLegacySupport:n,format:i,URLSearchParams:o,defaultBase:s}=r(7911),a=r(2331);e.exports={URL:n,URLSearchParams:o,format:i,relative:a,defaultBase:s}},2331:(e,t,r)=>{"use strict";const{URLWithLegacySupport:n,format:i}=r(7911);e.exports=(e,t={},r={},o)=>{let s,a=t.protocol?t.protocol.replace(":",""):"http";a=(r[a]||o||a)+":";try{s=new n(e)}catch(e){s={}}const c=Object.assign({},t,{protocol:a||s.protocol,host:t.host||s.host});return new n(e,i(c)).toString()}},7911:e=>{"use strict";const t=self.location?self.location.protocol+"//"+self.location.host:"",r=self.URL;e.exports={URLWithLegacySupport:class{constructor(e="",n=t){this.super=new r(e,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:t,format:function(e){if("string"==typeof e){return new r(e).toString()}if(!(e instanceof r)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",s=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),c=e.hash||"",u=e.pathname||"";return`${i}${t||r}${o||s+n}${e.path||u+a}${c}`}}}},9283:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(9771));const i=n(r(6770));t.value=i},9771:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(6770)),o=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class s{constructor(e,t=!1){this._serializer=e,this._stable=t,this.name="jsonDefault",this.priority=-100}match(e){return-1!=["undefined","boolean","number","string","object"].indexOf(typeof e)}encode(e){switch(typeof e){case"undefined":return i.undefined_();case"boolean":return i.bool(e);case"number":return Math.floor(e)===e?i.number(e):i.doubleFloat(e);case"string":return i.string(e);case"object":if(null===e)return i.null_();if(Array.isArray(e))return i.array(e.map((e=>this._serializer.serializeValue(e))));if(o.find((t=>e instanceof t)))return i.bytes(e.buffer);if(-1!==Object.getOwnPropertyNames(e).indexOf("toJSON"))return this.encode(e.toJSON());if(e instanceof Map){const t=new Map;for(const[r,n]of e.entries())t.set(r,this._serializer.serializeValue(n));return i.map(t,this._stable)}{const t=new Map;for(const[r,n]of Object.entries(e))t.set(r,this._serializer.serializeValue(n));return i.map(t,this._stable)}default:throw new Error("Invalid value.")}}}t.JsonDefaultCborEncoder=s;class a{constructor(){this.name="cborEncoder",this.priority=-90}match(e){return"object"==typeof e&&"function"==typeof e.toCBOR}encode(e){return e.toCBOR()}}t.ToCborEncoder=a;class c{constructor(){this._encoders=new Set}static withDefaultEncoders(e=!1){const t=new this;return t.addEncoder(new s(t,e)),t.addEncoder(new a),t}removeEncoder(e){for(const t of this._encoders.values())t.name==e&&this._encoders.delete(t)}addEncoder(e){this._encoders.add(e)}getEncoderFor(e){let t=null;for(const r of this._encoders)(!t||r.priority>t.priority)&&r.match(e)&&(t=r);if(null===t)throw new Error("Could not find an encoder for value.");return t}serializeValue(e){return this.getEncoderFor(e).encode(e)}serialize(e){return this.serializeValue(e)}}t.CborSerializer=c;t.SelfDescribeCborSerializer=class extends c{serialize(e){return i.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(e))]))}}},6770:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,...t){const r=new Uint8Array(e.byteLength+t.reduce(((e,t)=>e+t.byteLength),0));r.set(new Uint8Array(e),0);let n=e.byteLength;for(const e of t)r.set(new Uint8Array(e),n),n+=e.byteLength;return r.buffer}function n(e,t,r){const n=2**(t-24);r=(r=r.replace(/[^0-9a-fA-F]/g,"")).slice(2*-n).padStart(2*n,"0");const i=[(e<<5)+t].concat(r.match(/../g).map((e=>parseInt(e,16))));return new Uint8Array(i).buffer}function i(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;return n(e,t<=255?24:t<=65535?25:t<=4294967295?26:27,t.toString(16))}function o(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=(1023&n)<<10|1023&e.charCodeAt(r),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return r(new Uint8Array(i(3,e.length)),new Uint8Array(t))}function s(e){return new Uint8Array(e).buffer}function a(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);return new Uint8Array([0+e]).buffer}function c(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return n(0,24,e=(e=Math.min(Math.max(0,e),255)).toString(16))}function u(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return n(0,25,e=(e=Math.min(Math.max(0,e),65535)).toString(16))}function f(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return n(0,26,e=(e=Math.min(Math.max(0,e),4294967295)).toString(16))}function l(e,t){if("string"==typeof e&&16==t){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return n(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return n(0,27,e=(e=Math.min(Math.max(0,e),9007199254740992)).toString(16))}function d(e){if(isNaN(e))throw new RangeError("Invalid number.");if(0===e)return a(0);e=Math.min(Math.max(0,-e),24)-1;return new Uint8Array([32+e]).buffer}function h(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return n(1,24,e=(e=Math.min(Math.max(0,-e-1),255)).toString(16))}function p(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return n(1,25,e=(e=Math.min(Math.max(0,-e-1),65535)).toString(16))}function g(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return n(1,26,e=(e=Math.min(Math.max(0,-e-1),4294967295)).toString(16))}function y(e,t){if("string"==typeof e&&16==t){if((e=e.startsWith("-")?e.slice(1):"0").match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let t=!1,r=e.split("").reduceRight(((e,r)=>{if(t)return r+e;let n=parseInt(r,16)-1;return n>=0?(t=!0,n.toString(16)+e):"f"+e}),"");return t?n(1,27,r):l(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return n(1,27,e=(e=Math.min(Math.max(0,-e-1),9007199254740992)).toString(16))}function m(){return s(new Uint8Array([245]))}function b(){return s(new Uint8Array([244]))}t.tagged=function(e,t){if(14277111==e)return r(new Uint8Array([217,217,247]),t);if(e<24)return r(new Uint8Array([192+e]),t);{const t=e<=255?24:e<=65535?25:e<=4294967295?26:27,r=2**(t-24),n=e.toString(16).slice(2*-r).padStart(2*r,"0"),i=[192+t].concat(n.match(/../g).map((e=>parseInt(e,16))));return new Uint8Array(i).buffer}},t.raw=s,t.uSmall=a,t.u8=c,t.u16=u,t.u32=f,t.u64=l,t.iSmall=d,t.i8=h,t.i16=p,t.i32=g,t.i64=y,t.number=function(e){return e>=0?e<24?a(e):e<=255?c(e):e<=65535?u(e):e<=4294967295?f(e):l(e):e>=-24?d(e):e>=-255?h(e):e>=-65535?p(e):e>=-4294967295?g(e):y(e)},t.bytes=function(e){return r(i(2,e.byteLength),e)},t.string=function(e){return o(e)},t.array=function(e){return r(i(4,e.length),...e)},t.map=function(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let n=Array.from(e.entries());return t&&(n=n.sort((([e],[t])=>e.localeCompare(t)))),r(i(5,e.size),...n.map((([e,t])=>r(o(e),t))))},t.singleFloat=function(e){const t=new Float32Array([e]);return r(new Uint8Array([250]),new Uint8Array(t.buffer))},t.doubleFloat=function(e){const t=new Float64Array([e]);return r(new Uint8Array([251]),new Uint8Array(t.buffer))},t.bool=function(e){return e?m():b()},t.true_=m,t.false_=b,t.null_=function(){return s(new Uint8Array([246]))},t.undefined_=function(){return s(new Uint8Array([247]))}},6567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(5072),i=r.n(n),o=r(7825),s=r.n(o),a=r(7659),c=r.n(a),u=r(5056),f=r.n(u),l=r(540),d=r.n(l),h=r(1113),p=r.n(h),g=r(7438),y={};y.styleTagTransform=p(),y.setAttributes=f(),y.insert=c().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=d();i()(g.A,y);const m=g.A&&g.A.locals?g.A.locals:void 0},5072:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},s=[],a=0;a<e.length;a++){var c=e[a],u=n.base?c[0]+n.base:c[0],f=o[u]||0,l="".concat(u," ").concat(f);o[u]=f+1;var d=r(l),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var p=i(h,n);n.byIndex=a,t.splice(a,0,{identifier:l,updater:p,references:1})}s.push(l)}return s}function i(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var o=n(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=r(o[s]);t[a].references--}for(var c=n(e,i),u=0;u<o.length;u++){var f=r(o[u]);0===t[f].references&&(t[f].updater(),t.splice(f,1))}o=c}}},7659:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderAuth=async function(){await(i.authClient?.isAuthenticated())?await c():async function(){const e=document.getElementById("authentication"),t=document.createElement("button");t.className="btn btn-auth",t.innerHTML=`${s.dfinityLogo} Login`,e.appendChild(t);try{const e=new URLSearchParams(window.location.search),r=window.location.hostname.endsWith("icp0.io")||window.location.hostname.endsWith("ic0.app");let s=e.get("ii");if(r&&!s&&(s="https://identity.internetcomputer.org"),!s)return void console.warn("If you want to use Internet Identity, please provide a URL to your local Internet Identity service using the `ii` query parameter");if(s&&!a(s))throw new Error("Please provide a valid URL to your local Internet Identity service using the `ii` query parameter");const u=n.Principal.fromText(e.get("id"));let f=e.get("origin");if(!f&&r&&await async function(){try{const e=window.location.origin,t=await fetch(`${e}/.well-known/ii-alternative-origins`),r=await t.json();return!(!r.hasProperty("alternativeOrigins")||!Array.isArray(r.alternativeOrigins))&&r.alternativeOrigins.some((t=>t===e))}catch(e){return!1}}()&&(f=`https://${u.toText()}.icp0.io`),f){if(!a(f))throw new Error("Please provide a valid URL in the `origin` query parameter");console.warn("`derivationOrigin` is enabled. Remember to disable alternative origins in the production canister.")}t.addEventListener("click",(async()=>{let e={identityProvider:s,onSuccess:async()=>{(0,o.refresh_actor)(u),c()},onError:e=>console.error(e)};f&&(e={...e,derivationOrigin:f}),await(i.authClient?.login(e))}))}catch(e){console.error(e),t.disabled=!0,t.classList.add("disabled"),t.title=e.toString()}}()};const n=r(2336),i=r(2965),o=r(7288),s=r(3113);function a(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}function c(){document.getElementById("authentication").innerHTML="",function(){if(!i.authClient)return;const e=document.getElementById("authentication"),t=document.createElement("span"),r=i.authClient.getIdentity().getPrincipal().toString(),n=r.slice(0,5)+"..."+r.slice(-5);t.innerText=n;const o=document.createElement("button");o.id="copyButton",o.style.cursor="pointer",o.innerHTML=`${s.copyIcon}`,o.addEventListener("click",(function(){navigator.clipboard.writeText(r).catch((e=>{console.error(e)})),t.innerText="Copied!",setTimeout((()=>{t.innerText=n}),2e3)})),e?.appendChild(o),e?.appendChild(t)}(),function(){const e=document.getElementById("authentication"),t=document.createElement("button");t.className="btn random",t.style.margin="10px",t.innerText="Logout",t.addEventListener("click",(async()=>{await async function(){await(i.authClient?.logout()),window.location.reload()}()})),e.appendChild(t)}()}},3113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyIcon=t.dfinityLogo=void 0,t.dfinityLogo='\n<svg role="img" width="28" height="14" viewBox="0 6 24 12" xmlns="http://www.w3.org/2000/svg"><title>Internet Computer</title><path d="M18.264 6.24c-2.52 0-5.376 3.024-6.264 3.984-.72-.792-3.696-3.984-6.264-3.984C2.568 6.24 0 8.832 0 12c0 3.168 2.568 5.76 5.736 5.76 2.52 0 5.376-3.024 6.264-3.984.72.792 3.696 3.984 6.264 3.984C21.432 17.76 24 15.168 24 12c0-3.168-2.568-5.76-5.736-5.76ZM5.736 15.384A3.38 3.38 0 0 1 2.352 12a3.395 3.395 0 0 1 3.384-3.384c1.176 0 3.24 1.8 4.68 3.384-.408.456-3.144 3.384-4.68 3.384zm12.528 0c-1.176 0-3.24-1.8-4.68-3.384.408-.456 3.168-3.384 4.68-3.384A3.38 3.38 0 0 1 21.648 12c-.024 1.872-1.536 3.384-3.384 3.384z" fill="#fff"/></svg>\n',t.copyIcon='\n<svg width="28" height="28" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">\n  <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184" />\n</svg>\n'},2965:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.authClient=void 0,exports.fetchActor=fetchActor,exports.getProfilerActor=getProfilerActor,exports.getCanisterLogs=getCanisterLogs,exports.getCycles=getCycles,exports.getNames=getNames,exports.getProfiling=getProfiling,exports.render=render;const external_1=__webpack_require__(6633),agent_1=__webpack_require__(5736),candid_1=__webpack_require__(4664),principal_1=__webpack_require__(2336);__webpack_require__(6567);const auth_client_1=__webpack_require__(5259),names={};function isKnownMainnet(e){const t=e.host.hostname;return t.endsWith(".icp0.io")||t.endsWith(".ic0.app")}const agent=agent_1.HttpAgent.createSync();function getCanisterId(){const e=new URLSearchParams(window.location.search).get("canisterId");if(e)return principal_1.Principal.fromText(e);const t=window.location.hostname.split(".").reverse();for(const e of t)try{if(e.length>=25)return principal_1.Principal.fromText(e)}catch(e){}throw new Error("Could not find the canister ID.")}async function fetchActor(canisterId){let js;const maybeDid=new URLSearchParams(window.location.search).get("did"),base64Source=(await external_1.EXTERNAL_CONFIG_PROMISE)?.candid||window.history.state?.candid||maybeDid;if(base64Source&&(js=await didToJs(window.atob(base64Source)),js||console.warn("Nothing returned from didjs for base64 input:",base64Source)),!js&&(js=await getDidJsFromMetadata(canisterId),!js))try{js=await getDidJsFromTmpHack(canisterId)}catch(e){if(!/no query method/.test(e))throw e;console.warn(e),js=void 0}if(!js)throw new Error("Cannot fetch candid file");const dataUri="data:text/javascript;charset=utf-8,"+encodeURIComponent(js),candid=await eval('import("'+dataUri+'")');return exports.authClient=exports.authClient??await auth_client_1.AuthClient.create({idleOptions:{disableIdle:!0,disableDefaultIdleCallback:!0}}),await exports.authClient.isAuthenticated()&&(agent.replaceIdentity(exports.authClient.getIdentity()),console.log("Authenticated with Internet Identity Principal"),console.log(exports.authClient.getIdentity().getPrincipal().toString())),agent_1.Actor.createActor(candid.idlFactory,{agent,canisterId})}function getProfilerActor(e){return agent_1.Actor.createActor((({IDL:e})=>e.Service({__get_profiling:e.Func([e.Int32],[e.Vec(e.Tuple(e.Int32,e.Int64)),e.Opt(e.Int32)],["query"]),__get_cycles:e.Func([],[e.Int64],["query"])})),{agent,canisterId:e})}function uint8ArrayToDisplay(e){const t=new Uint8Array(e);try{return(new TextDecoder).decode(t)}catch(e){return Array.from(t).map((e=>e.toString(16).padStart(2,"0"))).join(" ")}}function timestampToString(e){const t=Number(e/1000000n),r=new Date(t);return`${r.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}.${r.getMilliseconds().toString().padStart(3,"0")}`}isKnownMainnet(agent)||agent.fetchRootKey();let last_log_idx=-1n;async function getCanisterLogs(e,t){try{const r=(0,agent_1.getManagementCanister)({agent});let n=(await r.fetch_canister_logs({canister_id:e})).canister_log_records;const i=n.findIndex((e=>e.idx>last_log_idx));if(i>0&&(n=n.slice(i)),n.length>0){last_log_idx=n[n.length-1].idx;const e=n.map((e=>`[${timestampToString(e.timestamp_nanos)}] ${uint8ArrayToDisplay(e.content)}`));t(e.join("<br>"))}}catch(e){console.error(e)}}function postToPlayground(e){const t={caller:e.toText()};(window.parent||window.opener)?.postMessage(`CandidUI${JSON.stringify(t)}`,"*")}async function getCycles(e){try{const t=getProfilerActor(e);return await t.__get_cycles()}catch(e){return}}async function getNames(e){try{const t=[{kind:"metadata",path:"name",key:"name",decodeStrategy:"raw"}],r=(await agent_1.CanisterStatus.request({agent,canisterId:e,paths:t})).get("name");candid_1.IDL.decode([candid_1.IDL.Vec(candid_1.IDL.Tuple(candid_1.IDL.Nat16,candid_1.IDL.Text))],r)[0].forEach((([e,t])=>names[e]=t))}catch(e){return}}async function getDidJsFromPostMessage(e){return new Promise(((e,t)=>{}))}async function getDidJsFromMetadata(e){const t=(await agent_1.CanisterStatus.request({agent,canisterId:e,paths:["candid"]})).get("candid");return t?didToJs(t):void 0}async function getProfiling(e){try{const t=getProfilerActor(e);let r=[],n=0,i=0;for(;i<50;){const[e,o]=await t.__get_profiling(n);if(r=r.concat(e),1!==o.length)break;n=o[0],i++}return r}catch(e){return void console.log(e)}}function decodeProfiling(e){if(!e||0==e.length)return;const t=[[0,BigInt(0),[]]];let r,n=1;for(const[i,o]of e){if(i>=0)t.push([i,o,[]]);else{const e=t.pop();if(!e)throw console.log(n),new Error("cannot pop empty stack");if(e[0]!==-i)throw new Error(`Exiting func ${-e[0]}, but expect to exit func ${i}`);const s=names[e[0]]||`func_${e[0]}`,a=Number(o-e[1]);let c=e[2];const u={name:s,value:a};"number"==typeof r&&r<0?c=[{...u,children:c}]:c.push(u),t[t.length-1][2].push(...c)}r=i,n++}if(1!==t.length)throw console.log(t),new Error("End of input, but stack is not empty");if(1===t[0][2].length)return t[0][2][0];{const r=Number(e[e.length-1][1]-e[0][1]);return{children:t[0][2],name:"Total",value:r}}}async function renderFlameGraph(e){const t=decodeProfiling(await e());if(void 0!==t){let e=document.createElement("div");e.id="chart",log(e);const r=flamegraph().selfValue(!1).sort(!1).width(400),n=flamegraph.tooltip.defaultFlamegraphTooltip().text((e=>`${e.data.name}: ${e.data.value} instrs`));r.tooltip(n),d3.select("#chart").datum(t).call(r),e.id="old-chart"}}async function getDidJsFromTmpHack(e){const t=agent_1.Actor.createActor((({IDL:e})=>e.Service({__get_candid_interface_tmp_hack:e.Func([],[e.Text],["query"])})),{agent,canisterId:e});return didToJs(await t.__get_candid_interface_tmp_hack())}async function didToJs(e){const t=getCanisterId(),r=agent_1.Actor.createActor((({IDL:e})=>e.Service({did_to_js:e.Func([e.Text],[e.Opt(e.Text)],["query"])})),{agent,canisterId:t}),n=await r.did_to_js(e);if(JSON.stringify(n)!==JSON.stringify([]))return n[0]}function is_query(e){return e.annotations.includes("query")||e.annotations.includes("composite_query")}function render(e,t,r){let n;document.getElementById("canisterId").innerText=`${e}`,getCanisterLogs(e,log),void 0!==r&&(log(`Wasm instructions executed ${r} instrs.`),n=async()=>await getProfiling(e),renderFlameGraph(n));const i=agent_1.Actor.interfaceOf(t)._fields.sort((([e],[t])=>e>t?1:-1));for(const[e,r]of i)renderMethod(t,e,r,n)}function renderMethod(e,t,r,n){const i=document.createElement("li");i.id=t;const o=document.createElement("div");o.className="signature",o.innerHTML=`<b>${t}</b>: ${r.display()}`,i.appendChild(o);const s=document.createElement("li"),a=document.createElement("a");a.innerText=t,a.href=`#${t}`,s.appendChild(a),document.getElementById("methods-list").appendChild(s);const c=document.createElement("div");c.className="input-container",i.appendChild(c);const u=[];r.argTypes.forEach(((e,t)=>{const r=(0,candid_1.renderInput)(e);u.push(r),r.render(c)}));const f=document.createElement("div");f.className="button-container";const l=document.createElement("button");l.className="btn",is_query(r)?l.innerText="Query":l.innerText="Call",f.appendChild(l);const d=document.createElement("button");d.className="btn random",d.innerText="Random",f.appendChild(d),i.appendChild(f);const h=document.createElement("div");h.className="result";const p=document.createElement("div");p.className="left";const g=document.createElement("div");g.className="right";const y=document.createElement("span");y.className="result-buttons";const m=document.createElement("button");m.className="btn text-btn active",m.innerText="Text";const b=document.createElement("button");b.className="btn ui-btn",b.innerText="UI";const w=document.createElement("button");w.className="btn json-btn",w.innerText="JSON";const A=[m,b,w];h.appendChild(y),h.appendChild(p),h.appendChild(g),i.appendChild(h);document.getElementById("methods").append(i);const v=[];function E(i){(async()=>{h.classList.remove("error");const o=encodeStr(candid_1.IDL.FuncClass.argsToString(r.argTypes,i));log(f(`› ${t}${o}`));const s=await async function(r){p.className="left",p.innerText="Waiting...",g.innerText="",h.style.display="flex";const n=Date.now(),i=await e[t](...r),o=(Date.now()-n)/1e3;return g.innerText=`(${o}s)`,i}(i);let a;a=0===r.retTypes.length?[]:1===r.retTypes.length?[s]:s,p.innerHTML="";let c="";function u(e){return e===c?"flex":"none"}function f(e){return e.replace(/&nbsp;/g," ")}A.forEach((e=>{e.classList.contains("active")&&(c=e.classList.value.replace(/btn (.*)-btn.*/g,"$1"))}));const l=document.createElement("div");l.className="text-result",v.push(l),l.style.display=u("text"),p.appendChild(l);const d=encodeStr(candid_1.IDL.FuncClass.argsToString(r.retTypes,a));if(l.innerHTML=f(d),!is_query(r)){const t=agent_1.Actor.canisterIdOf(e);await getCanisterLogs(t,log),postToPlayground(t),n&&await renderFlameGraph(n)}log(f(d));const y=document.createElement("div");y.className="ui-result",v.push(y),y.style.display=u("ui"),p.appendChild(y),r.retTypes.forEach(((e,t)=>{const r=(0,candid_1.renderInput)(e);r.render(y),(0,candid_1.renderValue)(e,r,a[t])}));const m=document.createElement("div");m.className="json-result",v.push(m),m.style.display=u("json"),p.appendChild(m),m.innerText=JSON.stringify(s,((e,t)=>"bigint"==typeof t?t.toString():t))})().catch((t=>{if(h.classList.add("error"),p.innerText=t.message,!is_query(r)){const t=agent_1.Actor.canisterIdOf(e);getCanisterLogs(t,log),postToPlayground(t),n&&(log("Error occured, flamegraph can be incomplete"),renderFlameGraph(n))}throw t}))}function _(e){const t=e.target,r=t.classList.value.replace(/btn (.*)-btn.*/g,"$1");A.forEach((e=>e.classList.remove("active"))),v.forEach((e=>e.style.display="none")),t.classList.add("active"),p.querySelector(`.${r}-result`).style.display="flex"}A.forEach((e=>{e.addEventListener("click",_),y.appendChild(e)})),d.addEventListener("click",(()=>{const e=u.map((e=>e.parse({random:!0})));u.some((e=>e.isRejected()))||E(e)})),l.addEventListener("click",(()=>{const e=u.map((e=>e.parse()));u.some((e=>e.isRejected()))||E(e)}))}function encodeStr(e){const t={" ":"&nbsp;","<":"&lt;",">":"&gt;","\n":"<br>"},r=new RegExp("[ <>\n]","g");return e.replace(r,(e=>t[e]))}function log(e){const t=document.getElementById("output-list"),r=document.createElement("div");r.className="output-line",e instanceof Element?r.appendChild(e):r.innerHTML=e,t.appendChild(r),r.scrollIntoView()}},6633:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTERNAL_CONFIG_PROMISE=void 0,t.addMessageListener=s,t.removeMessageListener=function(e){const t=o.indexOf(e);-1!==t&&o.splice(t,1)};const r=new URLSearchParams(window.location.search).has("external-config"),n="CandidUI",i=["localhost:4943","http://ryjl3-tyaaa-aaaaa-aaaba-cai.localhost:4943","https://m7sm4-2iaaa-aaaab-qabra-cai.raw.icp0.io","https://m7sm4-2iaaa-aaaab-qabra-cai.icp0.io","https://m7sm4-2iaaa-aaaab-qabra-cai.raw.ic0.app","https://m7sm4-2iaaa-aaaab-qabra-cai.ic0.app","https://play.motoko.org"],o=[];function s(e){o.push(e)}window.addEventListener("message",(({origin:e,source:t,data:r})=>{if("string"==typeof r&&r.startsWith(n))if(i.includes(e)){const i=JSON.parse(r.substring(8));console.log("Candid UI received message:",i);try{void 0===i?.acknowledge||t instanceof MessagePort||t?.postMessage?.(`${n}${JSON.stringify({type:"acknowledge",acknowledge:i.acknowledge})}`,e)}catch(e){console.error("Unable to send message acknowledgement:",e)}o.forEach((e=>e(i)))}else console.warn("Candid UI received message from unexpected origin:",e)})),t.EXTERNAL_CONFIG_PROMISE=new Promise((e=>{if(!r)return e({});let t=!1;s((r=>{if("config"===r?.type)return t=!0,e({...r.config})})),setTimeout((()=>{t||(console.error("External config timeout"),e({}))}),3e3)}))},7288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refresh_actor=async function(e){s=await(0,n.fetchActor)(e)};const n=r(2965),i=r(8965),o=r(2336);let s;(async function(){const e=new URLSearchParams(window.location.search),t=e.get("id");if(t){document.title=`Canister ${t}`;const e=o.Principal.fromText(t),r=await(0,n.getCycles)(e);s=await(0,n.fetchActor)(e),await(0,i.renderAuth)();await(0,n.getNames)(e);(0,n.render)(e,s,r);const a=document.getElementById("app");document.getElementById("progress").remove(),a.style.display="block"}else{document.body.innerHTML='<div id="main-content">\n    <label>Provide a canister ID: </label>\n    <input id="id" type="text"><br>\n    <label>Choose a did file (optional) </label>\n    <input id="did" type="file" accept=".did"><br>\n    <button id="btn" class="btn">Go</button>\n    </div>\n    ';const t=document.getElementById("id"),r=document.getElementById("did");document.getElementById("btn").addEventListener("click",(()=>{if(e.set("id",t.value),r.files.length>0){const t=new FileReader;t.addEventListener("load",(()=>{const r=t.result,n=r.substr(r.indexOf(",")+1);window.history.pushState({},"",window.location.search),window.history.pushState({candid:n},"",`?${e}`),window.location.reload()})),t.readAsDataURL(r.files[0])}else window.location.href=`?${e}`}))}})().catch((e=>{const t=document.createElement("div");t.innerText="An error happened in Candid canister:";const r=document.createElement("pre");r.innerHTML=e.stack,t.appendChild(r);throw document.getElementById("progress").remove(),document.body.appendChild(t),e})),window.addEventListener("popstate",(e=>{e.state&&window.location.reload()}))},615:(e,t,r)=>{"use strict";r.d(t,{Xf:()=>f,hT:()=>u,hp:()=>l});var n=r(8030),i=r(8293);const o=BigInt(0),s=BigInt(1),a=new WeakMap,c=new WeakMap;function u(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error(`Wrong window size=${e}, should be [1..${t}]`)},i=e=>{n(e);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}};return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>o;)r&s&&(n=n.add(i)),i=i.double(),r>>=s;return n},precomputeWindow(e,t){const{windows:r,windowSize:n}=i(t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<n;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,n,o){const{windows:a,windowSize:c}=i(t);let u=e.ZERO,f=e.BASE;const l=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*c;let i=Number(o&l);o>>=h,i>c&&(i-=d,o+=s);const a=t,p=t+Math.abs(i)-1,g=e%2!=0,y=i<0;0===i?f=f.add(r(g,n[a])):u=u.add(r(y,n[p]))}return{p:u,f}},wNAFCached(e,t,r){const n=c.get(e)||1;let i=a.get(e);return i||(i=this.precomputeWindow(e,n),1!==n&&a.set(e,r(i))),this.wNAF(n,i,t)},setWindowSize(e,t){n(t),c.set(e,t),a.delete(e)}}}function f(e,t,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach(((e,r)=>{if(!t.isValid(e))throw new Error(`wrong scalar at index ${r}`)})),r.forEach(((t,r)=>{if(!(t instanceof e))throw new Error(`wrong point at index ${r}`)}));const o=(0,i.dJ)(BigInt(r.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,c=new Array(a+1).fill(e.ZERO),u=Math.floor((t.BITS-1)/s)*s;let f=e.ZERO;for(let t=u;t>=0;t-=s){c.fill(e.ZERO);for(let e=0;e<n.length;e++){const i=n[e],o=Number(i>>BigInt(t)&BigInt(a));c[o]=c[o].add(r[e])}let i=e.ZERO;for(let t=c.length-1,r=e.ZERO;t>0;t--)r=r.add(c[t]),i=i.add(r);if(f=f.add(i),0!==t)for(let e=0;e<s;e++)f=f.double()}return f}function l(e){return(0,n.jr)(e.Fp),(0,i.Q5)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.LH)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},8030:(e,t,r)=>{"use strict";r.d(t,{D0:()=>_,LH:()=>E,Tp:()=>I,dQ:()=>y,f4:()=>w,jr:()=>b,pS:()=>A,qy:()=>x,tB:()=>v,zH:()=>h,zi:()=>l});var n=r(8293);const i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),f=BigInt(8);BigInt(9),BigInt(16);function l(e,t){const r=e%t;return r>=i?r:t+r}function d(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===o)return i;let n=o;for(;t>i;)t&o&&(n=n*e%r),e=e*e%r,t>>=o;return n}function h(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n}function p(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=l(e,t),n=t,s=i,a=o,c=o,u=i;for(;r!==i;){const e=n/r,t=n%r,i=s-c*e,o=a-u*e;n=r,r=t,s=c,a=u,c=i,u=o}if(n!==o)throw new Error("invert: does not exist");return l(s,t)}function g(e){if(e%c===a){const t=(e+o)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%f===u){const t=(e-u)/f;return function(e,r){const n=e.mul(r,s),i=e.pow(n,t),o=e.mul(r,i),a=e.mul(e.mul(o,s),i),c=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return function(e){const t=(e-o)/s;let r,n,a;for(r=e-o,n=0;r%s===i;r/=s,n++);for(a=s;a<e&&d(a,t,e)!==e-o;a++);if(1===n){const t=(e+o)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const u=(r+o)/s;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=n,c=e.pow(e.mul(e.ONE,a),r),f=e.pow(i,u),l=e.pow(i,r);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,o<<BigInt(s-t-1));c=e.sqr(r),f=e.mul(f,r),l=e.mul(l,c),s=t}return f}}(e)}const y=(e,t)=>(l(e,t)&o)===o,m=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(e){const t=m.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.Q5)(e,t)}function w(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===o)return t;let n=e.ONE,s=t;for(;r>i;)r&o&&(n=e.mul(n,s)),s=e.sqr(s),r>>=o;return n}function A(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}function v(e){const t=(e-o)/s;return(e,r)=>e.pow(r,t)}function E(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function _(e,t,r=!1,s={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:c}=E(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=g(e),f=Object.freeze({ORDER:e,BITS:a,BYTES:c,MASK:(0,n.OG)(a),ZERO:i,ONE:o,create:t=>l(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&o)===o,neg:t=>l(-t,e),eql:(e,t)=>e===t,sqr:t=>l(t*t,e),add:(t,r)=>l(t+r,e),sub:(t,r)=>l(t-r,e),mul:(t,r)=>l(t*r,e),pow:(e,t)=>w(f,e,t),div:(t,r)=>l(t*p(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>p(t,e),sqrt:s.sqrt||(e=>u(f,e)),invertBatch:e=>A(f,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.z)(e,c):(0,n.lq)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,n.lX)(e):(0,n.Ph)(e)}});return Object.freeze(f)}function B(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function I(e){const t=B(e);return t+Math.ceil(t/2)}function x(e,t,r=!1){const i=e.length,s=B(t),a=I(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const c=l(r?(0,n.Ph)(e):(0,n.lX)(e),t-o)+o;return r?(0,n.z)(c,s):(0,n.lq)(c,s)}},8293:(e,t,r)=>{"use strict";r.d(t,{AI:()=>E,DO:()=>a,GU:()=>T,Id:()=>v,My:()=>f,OG:()=>C,Ph:()=>y,Q5:()=>O,SJ:()=>N,aK:()=>I,aT:()=>g,aY:()=>s,dJ:()=>x,e8:()=>c,lX:()=>m,lq:()=>b,qj:()=>A,r4:()=>B,x:()=>R,z:()=>w,zW:()=>l});const n=BigInt(0),i=BigInt(1),o=BigInt(2);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e){if(!s(e))throw new Error("Uint8Array expected")}function c(e,t){if("boolean"!=typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)}const u=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function f(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=u[e[r]];return t}function l(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function p(e){return e>=h._0&&e<=h._9?e-h._0:e>=h._A&&e<=h._F?e-(h._A-10):e>=h._a&&e<=h._f?e-(h._a-10):void 0}function g(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=p(e.charCodeAt(i)),o=p(e.charCodeAt(i+1));if(void 0===r||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n}function y(e){return d(f(e))}function m(e){return a(e),d(f(Uint8Array.from(e).reverse()))}function b(e,t){return g(e.toString(16).padStart(2*t,"0"))}function w(e,t){return b(e,t).reverse()}function A(e,t,r){let n;if("string"==typeof t)try{n=g(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!s(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function v(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];a(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}function E(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}const _=e=>"bigint"==typeof e&&n<=e;function B(e,t,r){return _(e)&&_(t)&&_(r)&&t<=e&&e<r}function I(e,t,r,n){if(!B(t,r,n))throw new Error(`expected valid ${e}: ${r} <= n < ${n}, got ${typeof t} ${t}`)}function x(e){let t;for(t=0;e>n;e>>=i,t+=1);return t}function T(e,t){return e>>BigInt(t)&i}const C=e=>(o<<BigInt(e-1))-i;const S={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||s(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function O(e,t,r={}){const n=(t,r,n)=>{const i=S[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(n&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}const N=()=>{throw new Error("not implemented")};function R(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const o=e(r,...n);return t.set(r,o),o}}},610:(e,t,r)=>{"use strict";r.d(t,{ev:()=>P});var n=r(6013);const i=BigInt(2**32-1),o=BigInt(32);function s(e,t=!1){return t?{h:Number(e&i),l:Number(e>>o&i)}:{h:0|Number(e>>o&i),l:0|Number(e&i)}}const a={fromBig:s,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<o|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};var c=r(2531);const[u,f]=(()=>a.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),l=new Uint32Array(80),d=new Uint32Array(80);class h extends n.ol{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:f,Fl:l,Gh:d,Gl:h,Hh:p,Hl:g}=this;return[e,t,r,n,i,o,s,a,c,u,f,l,d,h,p,g]}set(e,t,r,n,i,o,s,a,c,u,f,l,d,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|f,this.Fl=0|l,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)l[r]=e.getUint32(t),d[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|l[e-15],r=0|d[e-15],n=a.rotrSH(t,r,1)^a.rotrSH(t,r,8)^a.shrSH(t,r,7),i=a.rotrSL(t,r,1)^a.rotrSL(t,r,8)^a.shrSL(t,r,7),o=0|l[e-2],s=0|d[e-2],c=a.rotrSH(o,s,19)^a.rotrBH(o,s,61)^a.shrSH(o,s,6),u=a.rotrSL(o,s,19)^a.rotrBL(o,s,61)^a.shrSL(o,s,6),f=a.add4L(i,u,d[e-7],d[e-16]),h=a.add4H(f,n,c,l[e-7],l[e-16]);l[e]=0|h,d[e]=0|f}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:c,Dh:h,Dl:p,Eh:g,El:y,Fh:m,Fl:b,Gh:w,Gl:A,Hh:v,Hl:E}=this;for(let e=0;e<80;e++){const t=a.rotrSH(g,y,14)^a.rotrSH(g,y,18)^a.rotrBH(g,y,41),_=a.rotrSL(g,y,14)^a.rotrSL(g,y,18)^a.rotrBL(g,y,41),B=g&m^~g&w,I=y&b^~y&A,x=a.add5L(E,_,I,f[e],d[e]),T=a.add5H(x,v,t,B,u[e],l[e]),C=0|x,S=a.rotrSH(r,n,28)^a.rotrBH(r,n,34)^a.rotrBH(r,n,39),O=a.rotrSL(r,n,28)^a.rotrBL(r,n,34)^a.rotrBL(r,n,39),N=r&i^r&s^i&s,R=n&o^n&c^o&c;v=0|w,E=0|A,w=0|m,A=0|b,m=0|g,b=0|y,({h:g,l:y}=a.add(0|h,0|p,0|T,0|C)),h=0|s,p=0|c,s=0|i,c=0|o,i=0|r,o=0|n;const k=a.add3L(C,O,R);r=a.add3H(k,T,S,N),n=0|k}({h:r,l:n}=a.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=a.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:c}=a.add(0|this.Ch,0|this.Cl,0|s,0|c)),({h,l:p}=a.add(0|this.Dh,0|this.Dl,0|h,0|p)),({h:g,l:y}=a.add(0|this.Eh,0|this.El,0|g,0|y)),({h:m,l:b}=a.add(0|this.Fh,0|this.Fl,0|m,0|b)),({h:w,l:A}=a.add(0|this.Gh,0|this.Gl,0|w,0|A)),({h:v,l:E}=a.add(0|this.Hh,0|this.Hl,0|v,0|E)),this.set(r,n,i,o,s,c,h,p,g,y,m,b,w,A,v,E)}roundClean(){l.fill(0),d.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const p=(0,c.ld)((()=>new h));var g=r(615),y=r(8030),m=r(8293);const b=BigInt(0),w=BigInt(1),A=BigInt(2),v=BigInt(8),E={zip215:!0};function _(e){const t=function(e){const t=(0,g.hp)(e);return m.Q5(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,u=A<<BigInt(8*a)-w,f=r.create,l=(0,y.D0)(t.n,t.nBitLength),d=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:b}}}),h=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,r)=>{if((0,m.e8)("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function _(e,t){m.aK("coordinate "+e,t,b,u)}function B(e){if(!(e instanceof T))throw new Error("ExtendedPoint expected")}const I=(0,m.x)(((e,t)=>{const{ex:n,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?v:r.inv(o));const a=f(n*t),c=f(i*t),u=f(o*t);if(s)return{x:b,y:w};if(u!==w)throw new Error("invZ was invalid");return{x:a,y:c}})),x=(0,m.x)((e=>{const{a:r,d:n}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:o,ez:s,et:a}=e,c=f(i*i),u=f(o*o),l=f(s*s),d=f(l*l),h=f(c*r);if(f(l*f(h+u))!==f(d+f(n*f(c*u))))throw new Error("bad point: equation left != right (1)");if(f(i*o)!==f(s*a))throw new Error("bad point: equation left != right (2)");return!0}));class T{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,_("x",e),_("y",t),_("z",r),_("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof T)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return _("x",t),_("y",r),new T(t,r,w,f(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(T.fromAffine)}static msm(e,t){return(0,g.Xf)(T,l,e,t)}_setWindowSize(e){O.setWindowSize(this,e)}assertValidity(){x(this)}equals(e){B(e);const{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=e,a=f(t*s),c=f(i*n),u=f(r*s),l=f(o*n);return a===c&&u===l}is0(){return this.equals(T.ZERO)}negate(){return new T(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:i}=this,o=f(r*r),s=f(n*n),a=f(A*f(i*i)),c=f(e*o),u=r+n,l=f(f(u*u)-o-s),d=c+s,h=d-a,p=c-s,g=f(l*h),y=f(d*p),m=f(l*p),b=f(h*d);return new T(g,y,b,m)}add(e){B(e);const{a:r,d:n}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:l,et:d}=e;if(r===BigInt(-1)){const e=f((o-i)*(u+c)),t=f((o+i)*(u-c)),r=f(t-e);if(r===b)return this.double();const n=f(s*A*d),h=f(a*A*l),p=h+n,g=t+e,y=h-n,m=f(p*r),w=f(g*y),v=f(p*y),E=f(r*g);return new T(m,w,E,v)}const h=f(i*c),p=f(o*u),g=f(a*n*d),y=f(s*l),m=f((i+o)*(c+u)-h-p),w=y-g,v=y+g,E=f(p-r*h),_=f(m*w),I=f(v*E),x=f(m*E),C=f(w*v);return new T(_,I,C,x)}subtract(e){return this.add(e.negate())}wNAF(e){return O.wNAFCached(this,e,T.normalizeZ)}multiply(e){const t=e;m.aK("scalar",t,w,n);const{p:r,f:i}=this.wNAF(t);return T.normalizeZ([r,i])[0]}multiplyUnsafe(e){const t=e;return m.aK("scalar",t,b,n),t===b?S:this.equals(S)||t===w?this:this.equals(C)?this.wNAF(t).p:O.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return O.unsafeLadder(this,n).is0()}toAffine(e){return I(this,e)}clearCofactor(){const{h:e}=t;return e===w?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:i,a:o}=t,s=r.BYTES;e=(0,m.qj)("pointHex",e,s),(0,m.e8)("zip215",n);const a=e.slice(),c=e[s-1];a[s-1]=-129&c;const l=m.lX(a),h=n?u:r.ORDER;m.aK("pointHex.y",l,b,h);const p=f(l*l),g=f(p-w),y=f(i*p-o);let{isValid:A,value:v}=d(g,y);if(!A)throw new Error("Point.fromHex: invalid y coordinate");const E=(v&w)===w,_=!!(128&c);if(!n&&v===b&&_)throw new Error("Point.fromHex: x=0 and x_0=1");return _!==E&&(v=f(-v)),T.fromAffine({x:v,y:l})}static fromPrivateKey(e){return k(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=m.z(t,r.BYTES);return n[n.length-1]|=e&w?128:0,n}toHex(){return m.My(this.toRawBytes())}}T.BASE=new T(t.Gx,t.Gy,w,f(t.Gx*t.Gy)),T.ZERO=new T(b,w,w,b);const{BASE:C,ZERO:S}=T,O=(0,g.hT)(T,8*a);function N(e){return(0,y.zi)(e,n)}function R(e){return N(m.lX(e))}function k(e){const t=a;e=(0,m.qj)("private key",e,t);const r=(0,m.qj)("hashed private key",o(e),2*t),n=h(r.slice(0,t)),i=r.slice(t,2*t),s=R(n),c=C.multiply(s),u=c.toRawBytes();return{head:n,prefix:i,scalar:s,point:c,pointBytes:u}}function U(e=new Uint8Array,...t){const r=m.Id(...t);return R(o(p(r,(0,m.qj)("context",e),!!i)))}const P=E;C._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return k(e).pointBytes},sign:function(e,t,o={}){e=(0,m.qj)("message",e),i&&(e=i(e));const{prefix:s,scalar:c,pointBytes:u}=k(t),f=U(o.context,s,e),l=C.multiply(f).toRawBytes(),d=N(f+U(o.context,l,u,e)*c);m.aK("signature.s",d,b,n);const h=m.Id(l,m.z(d,r.BYTES));return(0,m.qj)("result",h,2*a)},verify:function(e,t,n,o=P){const{context:s,zip215:a}=o,c=r.BYTES;e=(0,m.qj)("signature",e,2*c),t=(0,m.qj)("message",t),void 0!==a&&(0,m.e8)("zip215",a),i&&(t=i(t));const u=m.lX(e.slice(c,2*c));let f,l,d;try{f=T.fromHex(n,a),l=T.fromHex(e.slice(0,c),a),d=C.multiplyUnsafe(u)}catch(e){return!1}if(!a&&f.isSmallOrder())return!1;const h=U(s,l.toRawBytes(),f.toRawBytes(),t);return l.add(f.multiplyUnsafe(h)).subtract(d).clearCofactor().equals(T.ZERO)},ExtendedPoint:T,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>s(r.BYTES),precompute:(e=8,t=T.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const B=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),I=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),x=(BigInt(0),BigInt(1)),T=BigInt(2),C=(BigInt(3),BigInt(5)),S=BigInt(8);function O(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=B,s=e*e%o*e%o,a=(0,y.zH)(s,T,o)*s%o,c=(0,y.zH)(a,x,o)*e%o,u=(0,y.zH)(c,C,o)*c%o,f=(0,y.zH)(u,t,o)*u%o,l=(0,y.zH)(f,r,o)*f%o,d=(0,y.zH)(l,n,o)*l%o,h=(0,y.zH)(d,i,o)*d%o,p=(0,y.zH)(h,i,o)*d%o,g=(0,y.zH)(p,t,o)*u%o;return{pow_p_5_8:(0,y.zH)(g,T,o)*e%o,b2:s}}function N(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function R(e,t){const r=B,n=(0,y.zi)(t*t*t,r),i=O(e*(0,y.zi)(n*n*t,r)).pow_p_5_8;let o=(0,y.zi)(e*n*i,r);const s=(0,y.zi)(t*o*o,r),a=o,c=(0,y.zi)(o*I,r),u=s===e,f=s===(0,y.zi)(-e,r),l=s===(0,y.zi)(-e*I,r);return u&&(o=a),(f||l)&&(o=c),(0,y.dQ)(o,r)&&(o=(0,y.zi)(-o,r)),{isValid:u||f,value:o}}const k=(()=>(0,y.D0)(B,void 0,!0))(),U=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:k,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:S,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:p,randomBytes:c.po,adjustScalarBytes:N,uvRatio:R}))(),P=(()=>_(U))()},9190:(e,t,r)=>{"use strict";function n(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function i(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function o(e,t){n(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(t,{CG:()=>o,ee:()=>n,t2:()=>i})},6013:(e,t,r)=>{"use strict";r.d(t,{TQ:()=>s,ol:()=>a,r9:()=>o});var n=r(9190),i=r(2531);const o=(e,t,r)=>e&t^~e&r,s=(e,t,r)=>e&t^e&r^t&r;class a extends i.Vw{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.O8)(this.buffer)}update(e){(0,n.t2)(this);const{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.ZJ)(e)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.O8)(e);for(;o<=s-n;n+=o)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.t2)(this),(0,n.CG)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const c=(0,i.O8)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<f;e++)c.setUint32(4*e,l[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}},8226:(e,t,r)=>{"use strict";r.d(t,{ZT:()=>l,sc:()=>f});var n=r(6013),i=r(2531);const o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class c extends n.ol{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],r=a[e-2],n=(0,i.Ow)(t,7)^(0,i.Ow)(t,18)^t>>>3,o=(0,i.Ow)(r,17)^(0,i.Ow)(r,19)^r>>>10;a[e]=o+a[e-7]+n+a[e-16]|0}let{A:r,B:s,C:c,D:u,E:f,F:l,G:d,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.Ow)(f,6)^(0,i.Ow)(f,11)^(0,i.Ow)(f,25))+(0,n.r9)(f,l,d)+o[e]+a[e]|0,p=((0,i.Ow)(r,2)^(0,i.Ow)(r,13)^(0,i.Ow)(r,22))+(0,n.TQ)(r,s,c)|0;h=d,d=l,l=f,f=u+t|0,u=c,c=s,s=r,r=t+p|0}r=r+this.A|0,s=s+this.B|0,c=c+this.C|0,u=u+this.D|0,f=f+this.E|0,l=l+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,s,c,u,f,l,d,h)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const f=(0,i.ld)((()=>new c)),l=(0,i.ld)((()=>new u))},2531:(e,t,r)=>{"use strict";r.d(t,{Vw:()=>c,O8:()=>o,po:()=>f,Ow:()=>s,ZJ:()=>a,ld:()=>u});const n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=r(9190);const o=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),s=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function a(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),(0,i.ee)(e),e}class c{clone(){return this._cloneInto()}}function u(e){const t=t=>e().update(a(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function f(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return n.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nc=void 0;var __webpack_exports__=__webpack_require__(7288)})();
//# sourceMappingURL=index.js.map