var ym=Object.defineProperty;var bm=(Ee,ke,X)=>ke in Ee?ym(Ee,ke,{enumerable:!0,configurable:!0,writable:!0,value:X}):Ee[ke]=X;var J=(Ee,ke,X)=>bm(Ee,typeof ke!="symbol"?ke+"":ke,X);import{r as Wa,R as re,a as p,j as c,g as Ua,n as vm,s as wm,w as xm,f as Cm,M as km,b as _m,__tla as jm}from"./vendor-DNRRDiIM.js";import{H as Jr,A as Ct,P as Zr,r as Sm,I as qa,a as Em,e as Bn,E as Om,b as Tm,__tla as Am}from"./agent-B-g8yqna.js";import{a as Mm,x as Nm}from"./xterm-CR_sKhrS.js";Promise.all([(()=>{try{return jm}catch{}})(),(()=>{try{return Am}catch{}})()]).then(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var Ee,ke=Wa;Ee=ke.createRoot,ke.hydrateRoot;var X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},X.apply(this,arguments)};function kt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Y="-ms-",_t="-moz-",V="-webkit-",Xr="comm",qt="rule",Vn="decl",Ha="@import",Qr="@keyframes",Ba="@layer",eo=Math.abs,Gn=String.fromCharCode,Kn=Object.assign;function Va(e,t){return ne(e,0)^45?(((t<<2^ne(e,0))<<2^ne(e,1))<<2^ne(e,2))<<2^ne(e,3):0}function to(e){return e.trim()}function Oe(e,t){return(e=t.exec(e))?e[0]:e}function z(e,t,n){return e.replace(t,n)}function Ht(e,t,n){return e.indexOf(t,n)}function ne(e,t){return e.charCodeAt(t)|0}function Qe(e,t,n){return e.slice(t,n)}function _e(e){return e.length}function no(e){return e.length}function jt(e,t){return t.push(e),e}function Ga(e,t){return e.map(t).join("")}function ro(e,t){return e.filter(function(n){return!Oe(n,t)})}var Bt=1,et=1,oo=0,pe=0,te=0,tt="";function Vt(e,t,n,r,o,i,a,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Bt,column:et,length:a,return:"",siblings:s}}function De(e,t){return Kn(Vt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function nt(e){for(;e.root;)e=De(e.root,{children:[e]});jt(e,e.siblings)}function Ka(){return te}function Ya(){return te=pe>0?ne(tt,--pe):0,et--,te===10&&(et=1,Bt--),te}function ge(){return te=pe<oo?ne(tt,pe++):0,et++,te===10&&(et=1,Bt++),te}function Ue(){return ne(tt,pe)}function Gt(){return pe}function Kt(e,t){return Qe(tt,e,t)}function Yn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ja(e){return Bt=et=1,oo=_e(tt=e),pe=0,[]}function Za(e){return tt="",e}function Jn(e){return to(Kt(pe-1,Zn(e===91?e+2:e===40?e+1:e)))}function Xa(e){for(;(te=Ue())&&te<33;)ge();return Yn(e)>2||Yn(te)>3?"":" "}function Qa(e,t){for(;--t&&ge()&&!(te<48||te>102||te>57&&te<65||te>70&&te<97););return Kt(e,Gt()+(t<6&&Ue()==32&&ge()==32))}function Zn(e){for(;ge();)switch(te){case e:return pe;case 34:case 39:e!==34&&e!==39&&Zn(te);break;case 40:e===41&&Zn(e);break;case 92:ge();break}return pe}function es(e,t){for(;ge()&&e+te!==57&&!(e+te===84&&Ue()===47););return"/*"+Kt(t,pe-1)+"*"+Gn(e===47?e:ge())}function ts(e){for(;!Yn(Ue());)ge();return Kt(e,pe)}function ns(e){return Za(Yt("",null,null,null,[""],e=Ja(e),0,[0],e))}function Yt(e,t,n,r,o,i,a,s,l){for(var d=0,h=0,u=a,f=0,m=0,b=0,C=1,S=1,k=1,A=0,x="",_=o,O=i,w=r,y=x;S;)switch(b=A,A=ge()){case 40:if(b!=108&&ne(y,u-1)==58){Ht(y+=z(Jn(A),"&","&\f"),"&\f",eo(d?s[d-1]:0))!=-1&&(k=-1);break}case 34:case 39:case 91:y+=Jn(A);break;case 9:case 10:case 13:case 32:y+=Xa(b);break;case 92:y+=Qa(Gt()-1,7);continue;case 47:switch(Ue()){case 42:case 47:jt(rs(es(ge(),Gt()),t,n,l),l);break;default:y+="/"}break;case 123*C:s[d++]=_e(y)*k;case 125*C:case 59:case 0:switch(A){case 0:case 125:S=0;case 59+h:k==-1&&(y=z(y,/\f/g,"")),m>0&&_e(y)-u&&jt(m>32?ao(y+";",r,n,u-1,l):ao(z(y," ","")+";",r,n,u-2,l),l);break;case 59:y+=";";default:if(jt(w=io(y,t,n,d,h,o,s,x,_=[],O=[],u,i),i),A===123)if(h===0)Yt(y,t,w,w,_,i,u,s,O);else switch(f===99&&ne(y,3)===110?100:f){case 100:case 108:case 109:case 115:Yt(e,w,w,r&&jt(io(e,w,w,0,0,o,s,x,o,_=[],u,O),O),o,O,u,s,r?_:O);break;default:Yt(y,w,w,w,[""],O,0,s,O)}}d=h=m=0,C=k=1,x=y="",u=a;break;case 58:u=1+_e(y),m=b;default:if(C<1){if(A==123)--C;else if(A==125&&C++==0&&Ya()==125)continue}switch(y+=Gn(A),A*C){case 38:k=h>0?1:(y+="\f",-1);break;case 44:s[d++]=(_e(y)-1)*k,k=1;break;case 64:Ue()===45&&(y+=Jn(ge())),f=Ue(),h=u=_e(x=y+=ts(Gt())),A++;break;case 45:b===45&&_e(y)==2&&(C=0)}}return i}function io(e,t,n,r,o,i,a,s,l,d,h,u){for(var f=o-1,m=o===0?i:[""],b=no(m),C=0,S=0,k=0;C<r;++C)for(var A=0,x=Qe(e,f+1,f=eo(S=a[C])),_=e;A<b;++A)(_=to(S>0?m[A]+" "+x:z(x,/&\f/g,m[A])))&&(l[k++]=_);return Vt(e,t,n,o===0?qt:s,l,d,h,u)}function rs(e,t,n,r){return Vt(e,t,n,Xr,Gn(Ka()),Qe(e,2,-2),0,r)}function ao(e,t,n,r,o){return Vt(e,t,n,Vn,Qe(e,0,r),Qe(e,r+1,-1),r,o)}function so(e,t,n){switch(Va(e,t)){case 5103:return V+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return V+e+e;case 4789:return _t+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return V+e+_t+e+Y+e+e;case 5936:switch(ne(e,t+11)){case 114:return V+e+Y+z(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return V+e+Y+z(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return V+e+Y+z(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return V+e+Y+e+e;case 6165:return V+e+Y+"flex-"+e+e;case 5187:return V+e+z(e,/(\w+).+(:[^]+)/,V+"box-$1$2"+Y+"flex-$1$2")+e;case 5443:return V+e+Y+"flex-item-"+z(e,/flex-|-self/g,"")+(Oe(e,/flex-|baseline/)?"":Y+"grid-row-"+z(e,/flex-|-self/g,""))+e;case 4675:return V+e+Y+"flex-line-pack"+z(e,/align-content|flex-|-self/g,"")+e;case 5548:return V+e+Y+z(e,"shrink","negative")+e;case 5292:return V+e+Y+z(e,"basis","preferred-size")+e;case 6060:return V+"box-"+z(e,"-grow","")+V+e+Y+z(e,"grow","positive")+e;case 4554:return V+z(e,/([^-])(transform)/g,"$1"+V+"$2")+e;case 6187:return z(z(z(e,/(zoom-|grab)/,V+"$1"),/(image-set)/,V+"$1"),e,"")+e;case 5495:case 3959:return z(e,/(image-set\([^]*)/,V+"$1$`$1");case 4968:return z(z(e,/(.+:)(flex-)?(.*)/,V+"box-pack:$3"+Y+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+V+e+e;case 4200:if(!Oe(e,/flex-|baseline/))return Y+"grid-column-align"+Qe(e,t)+e;break;case 2592:case 3360:return Y+z(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,Oe(r.props,/grid-\w+-end/)})?~Ht(e+(n=n[t].value),"span",0)?e:Y+z(e,"-start","")+e+Y+"grid-row-span:"+(~Ht(n,"span",0)?Oe(n,/\d+/):+Oe(n,/\d+/)-+Oe(e,/\d+/))+";":Y+z(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Oe(r.props,/grid-\w+-start/)})?e:Y+z(z(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return z(e,/(.+)-inline(.+)/,V+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_e(e)-1-t>6)switch(ne(e,t+1)){case 109:if(ne(e,t+4)!==45)break;case 102:return z(e,/(.+:)(.+)-([^]+)/,"$1"+V+"$2-$3$1"+_t+(ne(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ht(e,"stretch",0)?so(z(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return z(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,a,s,l,d){return Y+o+":"+i+d+(a?Y+o+"-span:"+(s?l:+l-+i)+d:"")+e});case 4949:if(ne(e,t+6)===121)return z(e,":",":"+V)+e;break;case 6444:switch(ne(e,ne(e,14)===45?18:11)){case 120:return z(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+V+(ne(e,14)===45?"inline-":"")+"box$3$1"+V+"$2$3$1"+Y+"$2box$3")+e;case 100:return z(e,":",":"+Y)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return z(e,"scroll-","scroll-snap-")+e}return e}function Jt(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function os(e,t,n,r){switch(e.type){case Ba:if(e.children.length)break;case Ha:case Vn:return e.return=e.return||e.value;case Xr:return"";case Qr:return e.return=e.value+"{"+Jt(e.children,r)+"}";case qt:if(!_e(e.value=e.props.join(",")))return""}return _e(n=Jt(e.children,r))?e.return=e.value+"{"+n+"}":""}function is(e){var t=no(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}function as(e){return function(t){t.root||(t=t.return)&&e(t)}}function ss(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Vn:e.return=so(e.value,e.length,n);return;case Qr:return Jt([De(e,{value:z(e.value,"@","@"+V)})],r);case qt:if(e.length)return Ga(n=e.props,function(o){switch(Oe(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":nt(De(e,{props:[z(o,/:(read-\w+)/,":"+_t+"$1")]})),nt(De(e,{props:[o]})),Kn(e,{props:ro(n,r)});break;case"::placeholder":nt(De(e,{props:[z(o,/:(plac\w+)/,":"+V+"input-$1")]})),nt(De(e,{props:[z(o,/:(plac\w+)/,":"+_t+"$1")]})),nt(De(e,{props:[z(o,/:(plac\w+)/,Y+"input-$1")]})),nt(De(e,{props:[o]})),Kn(e,{props:ro(n,r)});break}return""})}}var cs={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},le={},rt=typeof process<"u"&&le!==void 0&&(le.REACT_APP_SC_ATTR||le.SC_ATTR)||"data-styled",co="active",lo="data-styled-version",Zt="6.1.13",Xn=`/*!sc*/
`,Xt=typeof window<"u"&&"HTMLElement"in window,ls=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&le!==void 0&&le.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&le.REACT_APP_SC_DISABLE_SPEEDY!==""?le.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&le.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&le!==void 0&&le.SC_DISABLE_SPEEDY!==void 0&&le.SC_DISABLE_SPEEDY!==""&&le.SC_DISABLE_SPEEDY!=="false"&&le.SC_DISABLE_SPEEDY),ds={},Qt=Object.freeze([]),ot=Object.freeze({});function uo(e,t,n){return n===void 0&&(n=ot),e.theme!==n.theme&&e.theme||t||n.theme}var po=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),us=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ps=/(^-|-$)/g;function ho(e){return e.replace(us,"-").replace(ps,"")}var hs=/(a)(d)/gi,en=52,fo=function(e){return String.fromCharCode(e+(e>25?39:97))};function Qn(e){var t,n="";for(t=Math.abs(e);t>en;t=t/en|0)n=fo(t%en)+n;return(fo(t%en)+n).replace(hs,"$1-$2")}var er,mo=5381,it=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},go=function(e){return it(mo,e)};function yo(e){return Qn(go(e)>>>0)}function fs(e){return e.displayName||e.name||"Component"}function tr(e){return typeof e=="string"&&!0}var bo=typeof Symbol=="function"&&Symbol.for,vo=bo?Symbol.for("react.memo"):60115,ms=bo?Symbol.for("react.forward_ref"):60112,gs={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ys={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wo={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bs=((er={})[ms]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},er[vo]=wo,er);function xo(e){return("type"in(t=e)&&t.type.$$typeof)===vo?wo:"$$typeof"in e?bs[e.$$typeof]:gs;var t}var vs=Object.defineProperty,ws=Object.getOwnPropertyNames,Co=Object.getOwnPropertySymbols,xs=Object.getOwnPropertyDescriptor,Cs=Object.getPrototypeOf,ko=Object.prototype;function _o(e,t,n){if(typeof t!="string"){if(ko){var r=Cs(t);r&&r!==ko&&_o(e,r,n)}var o=ws(t);Co&&(o=o.concat(Co(t)));for(var i=xo(e),a=xo(t),s=0;s<o.length;++s){var l=o[s];if(!(l in ys||n&&n[l]||a&&l in a||i&&l in i)){var d=xs(t,l);try{vs(e,l,d)}catch{}}}}return e}function at(e){return typeof e=="function"}function nr(e){return typeof e=="object"&&"styledComponentId"in e}function qe(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function rr(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function St(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function or(e,t,n){if(n===void 0&&(n=!1),!n&&!St(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=or(e[r],t[r]);else if(St(t))for(var r in t)e[r]=or(e[r],t[r]);return e}function ir(e,t){Object.defineProperty(e,"toString",{value:t})}function Et(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ks=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw Et(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var a=o;a<i;a++)this.groupSizes[a]=0}for(var s=this.indexOfGroup(t+1),l=(a=0,n.length);a<l;a++)this.tag.insertRule(s,n[a])&&(this.groupSizes[t]++,s++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,a=o;a<i;a++)n+="".concat(this.tag.getRule(a)).concat(Xn);return n},e}(),tn=new Map,nn=new Map,rn=1,on=function(e){if(tn.has(e))return tn.get(e);for(;nn.has(rn);)rn++;var t=rn++;return tn.set(e,t),nn.set(t,e),t},_s=function(e,t){rn=t+1,tn.set(e,t),nn.set(t,e)},js="style[".concat(rt,"][").concat(lo,'="').concat(Zt,'"]'),Ss=new RegExp("^".concat(rt,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Es=function(e,t,n){for(var r,o=n.split(","),i=0,a=o.length;i<a;i++)(r=o[i])&&e.registerName(t,r)},Os=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Xn),o=[],i=0,a=r.length;i<a;i++){var s=r[i].trim();if(s){var l=s.match(Ss);if(l){var d=0|parseInt(l[1],10),h=l[2];d!==0&&(_s(h,d),Es(e,h,l[3]),e.getTag().insertRules(d,o)),o.length=0}else o.push(s)}}},jo=function(e){for(var t=document.querySelectorAll(js),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(rt)!==co&&(Os(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function Ts(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var So=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(s){var l=Array.from(s.querySelectorAll("style[".concat(rt,"]")));return l[l.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(rt,co),r.setAttribute(lo,Zt);var a=Ts();return a&&r.setAttribute("nonce",a),n.insertBefore(r,i),r},As=function(){function e(t){this.element=So(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var a=r[o];if(a.ownerNode===n)return a}throw Et(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),Ms=function(){function e(t){this.element=So(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),Ns=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Eo=Xt,Ds={isServer:!Xt,useCSSOMInjection:!ls},an=function(){function e(t,n,r){t===void 0&&(t=ot),n===void 0&&(n={});var o=this;this.options=X(X({},Ds),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Xt&&Eo&&(Eo=!1,jo(this)),ir(this,function(){return function(i){for(var a=i.getTag(),s=a.length,l="",d=function(u){var f=function(k){return nn.get(k)}(u);if(f===void 0)return"continue";var m=i.names.get(f),b=a.getGroup(u);if(m===void 0||!m.size||b.length===0)return"continue";var C="".concat(rt,".g").concat(u,'[id="').concat(f,'"]'),S="";m!==void 0&&m.forEach(function(k){k.length>0&&(S+="".concat(k,","))}),l+="".concat(b).concat(C,'{content:"').concat(S,'"}').concat(Xn)},h=0;h<s;h++)d(h);return l}(o)})}return e.registerId=function(t){return on(t)},e.prototype.rehydrate=function(){!this.server&&Xt&&jo(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(X(X({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new Ns(o):r?new As(o):new Ms(o)}(this.options),new ks(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(on(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(on(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(on(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Ps=/&/g,Rs=/^\s*\/\/.*$/gm;function Oo(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Oo(n.children,t)),n})}function Is(e){var t,n,r,o=ot,i=o.options,a=i===void 0?ot:i,s=o.plugins,l=s===void 0?Qt:s,d=function(f,m,b){return b.startsWith(n)&&b.endsWith(n)&&b.replaceAll(n,"").length>0?".".concat(t):f},h=l.slice();h.push(function(f){f.type===qt&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Ps,n).replace(r,d))}),a.prefix&&h.push(ss),h.push(os);var u=function(f,m,b,C){m===void 0&&(m=""),b===void 0&&(b=""),C===void 0&&(C="&"),t=C,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var S=f.replace(Rs,""),k=ns(b||m?"".concat(b," ").concat(m," { ").concat(S," }"):S);a.namespace&&(k=Oo(k,a.namespace));var A=[];return Jt(k,is(h.concat(as(function(x){return A.push(x)})))),A};return u.hash=l.length?l.reduce(function(f,m){return m.name||Et(15),it(f,m.name)},mo).toString():"",u}var $s=new an,ar=Is(),To=re.createContext({shouldForwardProp:void 0,styleSheet:$s,stylis:ar});To.Consumer,re.createContext(void 0);function sr(){return p.useContext(To)}var Fs=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=ar);var a=r.name+i.hash;o.hasNameForId(r.id,a)||o.insertRules(r.id,a,i(r.rules,a,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,ir(this,function(){throw Et(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=ar),this.name+t.hash},e}(),Ls=function(e){return e>="A"&&e<="Z"};function Ao(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;Ls(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Mo=function(e){return e==null||e===!1||e===""},No=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!Mo(i)&&(Array.isArray(i)&&i.isCss||at(i)?r.push("".concat(Ao(o),":"),i,";"):St(i)?r.push.apply(r,kt(kt(["".concat(o," {")],No(i),!1),["}"],!1)):r.push("".concat(Ao(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in cs||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Pe(e,t,n,r){if(Mo(e))return[];if(nr(e))return[".".concat(e.styledComponentId)];if(at(e)){if(!at(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return Pe(o,t,n,r)}var i;return e instanceof Fs?n?(e.inject(n,r),[e.getName(r)]):[e]:St(e)?No(e):Array.isArray(e)?Array.prototype.concat.apply(Qt,e.map(function(a){return Pe(a,t,n,r)})):[e.toString()]}function Do(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(at(n)&&!nr(n))return!1}return!0}var zs=go(Zt),Ws=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Do(t),this.componentId=n,this.baseHash=it(zs,n),this.baseStyle=r,an.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=qe(o,this.staticRulesId);else{var i=rr(Pe(this.rules,t,n,r)),a=Qn(it(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,a)){var s=r(i,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,s)}o=qe(o,a),this.staticRulesId=a}else{for(var l=it(this.baseHash,r.hash),d="",h=0;h<this.rules.length;h++){var u=this.rules[h];if(typeof u=="string")d+=u;else if(u){var f=rr(Pe(u,t,n,r));l=it(l,f+h),d+=f}}if(d){var m=Qn(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(d,".".concat(m),void 0,this.componentId)),o=qe(o,m)}}return o},e}(),cr=re.createContext(void 0);cr.Consumer;var lr={};function Us(e,t,n){var r=nr(e),o=e,i=!tr(e),a=t.attrs,s=a===void 0?Qt:a,l=t.componentId,d=l===void 0?function(_,O){var w=typeof _!="string"?"sc":ho(_);lr[w]=(lr[w]||0)+1;var y="".concat(w,"-").concat(yo(Zt+w+lr[w]));return O?"".concat(O,"-").concat(y):y}(t.displayName,t.parentComponentId):l,h=t.displayName,u=h===void 0?function(_){return tr(_)?"styled.".concat(_):"Styled(".concat(fs(_),")")}(e):h,f=t.displayName&&t.componentId?"".concat(ho(t.displayName),"-").concat(t.componentId):t.componentId||d,m=r&&o.attrs?o.attrs.concat(s).filter(Boolean):s,b=t.shouldForwardProp;if(r&&o.shouldForwardProp){var C=o.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;b=function(_,O){return C(_,O)&&S(_,O)}}else b=C}var k=new Ws(n,f,r?o.componentStyle:void 0);function A(_,O){return function(w,y,T){var j=w.attrs,M=w.componentStyle,q=w.defaultProps,H=w.foldedComponentIds,B=w.styledComponentId,N=w.target,v=re.useContext(cr),D=sr(),g=w.shouldForwardProp||D.shouldForwardProp,R=uo(y,v,q)||ot,W=function(ee,ie,se){for(var ce,Ce=X(X({},ie),{className:void 0,theme:se}),We=0;We<ee.length;We+=1){var fe=at(ce=ee[We])?ce(Ce):ce;for(var me in fe)Ce[me]=me==="className"?qe(Ce[me],fe[me]):me==="style"?X(X({},Ce[me]),fe[me]):fe[me]}return ie.className&&(Ce.className=qe(Ce.className,ie.className)),Ce}(j,y,R),G=W.as||N,P={};for(var F in W)W[F]===void 0||F[0]==="$"||F==="as"||F==="theme"&&W.theme===R||(F==="forwardedAs"?P.as=W.forwardedAs:g&&!g(F,G)||(P[F]=W[F]));var I=function(ee,ie){var se=sr(),ce=ee.generateAndInjectStyles(ie,se.styleSheet,se.stylis);return ce}(M,W),U=qe(H,B);return I&&(U+=" "+I),W.className&&(U+=" "+W.className),P[tr(G)&&!po.has(G)?"class":"className"]=U,P.ref=T,p.createElement(G,P)}(x,_,O)}A.displayName=u;var x=re.forwardRef(A);return x.attrs=m,x.componentStyle=k,x.displayName=u,x.shouldForwardProp=b,x.foldedComponentIds=r?qe(o.foldedComponentIds,o.styledComponentId):"",x.styledComponentId=f,x.target=r?o.target:e,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?function(O){for(var w=[],y=1;y<arguments.length;y++)w[y-1]=arguments[y];for(var T=0,j=w;T<j.length;T++)or(O,j[T],!0);return O}({},o.defaultProps,_):_}}),ir(x,function(){return".".concat(x.styledComponentId)}),i&&_o(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function Po(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var Ro=function(e){return Object.assign(e,{isCss:!0})};function dr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(at(e)||St(e))return Ro(Pe(Po(Qt,kt([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Pe(r):Ro(Pe(Po(r,t)))}function ur(e,t,n){if(n===void 0&&(n=ot),!t)throw Et(1,t);var r=function(o){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,dr.apply(void 0,kt([o],i,!1)))};return r.attrs=function(o){return ur(e,t,X(X({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return ur(e,t,X(X({},n),o))},r}var Io=function(e){return ur(Us,e)},E=Io;po.forEach(function(e){E[e]=Io(e)});var qs=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=Do(t),an.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var i=o(rr(Pe(this.rules,n,r,o)),""),a=this.componentId+t;r.insertRules(a,a,i)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&an.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e}();function $o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=dr.apply(void 0,kt([e],t,!1)),o="sc-global-".concat(yo(JSON.stringify(r))),i=new qs(r,o),a=function(l){var d=sr(),h=re.useContext(cr),u=re.useRef(d.styleSheet.allocateGSInstance(o)).current;return d.styleSheet.server&&s(u,l,d.styleSheet,h,d.stylis),re.useLayoutEffect(function(){if(!d.styleSheet.server)return s(u,l,d.styleSheet,h,d.stylis),function(){return i.removeStyles(u,d.styleSheet)}},[u,l,d.styleSheet,h,d.stylis]),null};function s(l,d,h,u,f){if(i.isStatic)i.renderStyles(l,ds,h,f);else{var m=X(X({},d),{theme:uo(d,u,a.defaultProps)});i.renderStyles(l,m,h,f)}}return re.memo(a)}const Fo=Symbol("Comlink.proxy"),Hs=Symbol("Comlink.endpoint"),Bs=Symbol("Comlink.releaseProxy"),pr=Symbol("Comlink.finalizer"),sn=Symbol("Comlink.thrown"),Lo=e=>typeof e=="object"&&e!==null||typeof e=="function",Vs={canHandle:e=>Lo(e)&&e[Fo],serialize(e){const{port1:t,port2:n}=new MessageChannel;return Wo(e,t),[n,[n]]},deserialize(e){return e.start(),qo(e)}},Gs={canHandle:e=>Lo(e)&&sn in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},zo=new Map([["proxy",Vs],["throw",Gs]]);function Ks(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function Wo(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(o){if(!o||!o.data)return;if(!Ks(n,o.origin)){console.warn(`Invalid origin '${o.origin}' for comlink proxy`);return}const{id:i,type:a,path:s}=Object.assign({path:[]},o.data),l=(o.data.argumentList||[]).map(He);let d;try{const h=s.slice(0,-1).reduce((f,m)=>f[m],e),u=s.reduce((f,m)=>f[m],e);switch(a){case"GET":d=u;break;case"SET":h[s.slice(-1)[0]]=He(o.data.value),d=!0;break;case"APPLY":d=u.apply(h,l);break;case"CONSTRUCT":{const f=new u(...l);d=ec(f)}break;case"ENDPOINT":{const{port1:f,port2:m}=new MessageChannel;Wo(e,m),d=Qs(f,[f])}break;case"RELEASE":d=void 0;break;default:return}}catch(h){d={value:h,[sn]:0}}Promise.resolve(d).catch(h=>({value:h,[sn]:0})).then(h=>{const[u,f]=un(h);t.postMessage(Object.assign(Object.assign({},u),{id:i}),f),a==="RELEASE"&&(t.removeEventListener("message",r),Uo(t),pr in e&&typeof e[pr]=="function"&&e[pr]())}).catch(h=>{const[u,f]=un({value:new TypeError("Unserializable return value"),[sn]:0});t.postMessage(Object.assign(Object.assign({},u),{id:i}),f)})}),t.start&&t.start()}function Ys(e){return e.constructor.name==="MessagePort"}function Uo(e){Ys(e)&&e.close()}function qo(e,t){return hr(e,[],t)}function cn(e){if(e)throw new Error("Proxy has been released and is not useable")}function Ho(e){return st(e,{type:"RELEASE"}).then(()=>{Uo(e)})}const ln=new WeakMap,dn="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(ln.get(e)||0)-1;ln.set(e,t),t===0&&Ho(e)});function Js(e,t){const n=(ln.get(t)||0)+1;ln.set(t,n),dn&&dn.register(e,t,e)}function Zs(e){dn&&dn.unregister(e)}function hr(e,t=[],n=function(){}){let r=!1;const o=new Proxy(n,{get(i,a){if(cn(r),a===Bs)return()=>{Zs(o),Ho(e),r=!0};if(a==="then"){if(t.length===0)return{then:()=>o};const s=st(e,{type:"GET",path:t.map(l=>l.toString())}).then(He);return s.then.bind(s)}return hr(e,[...t,a])},set(i,a,s){cn(r);const[l,d]=un(s);return st(e,{type:"SET",path:[...t,a].map(h=>h.toString()),value:l},d).then(He)},apply(i,a,s){cn(r);const l=t[t.length-1];if(l===Hs)return st(e,{type:"ENDPOINT"}).then(He);if(l==="bind")return hr(e,t.slice(0,-1));const[d,h]=Bo(s);return st(e,{type:"APPLY",path:t.map(u=>u.toString()),argumentList:d},h).then(He)},construct(i,a){cn(r);const[s,l]=Bo(a);return st(e,{type:"CONSTRUCT",path:t.map(d=>d.toString()),argumentList:s},l).then(He)}});return Js(o,e),o}function Xs(e){return Array.prototype.concat.apply([],e)}function Bo(e){const t=e.map(un);return[t.map(n=>n[0]),Xs(t.map(n=>n[1]))]}const Vo=new WeakMap;function Qs(e,t){return Vo.set(e,t),e}function ec(e){return Object.assign(e,{[Fo]:!0})}function un(e){for(const[t,n]of zo)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},o]}return[{type:"RAW",value:e},Vo.get(e)||[]]}function He(e){switch(e.type){case"HANDLER":return zo.get(e.name).deserialize(e.value);case"RAW":return e.value}}function st(e,t,n){return new Promise(r=>{const o=tc();e.addEventListener("message",function i(a){!a.data||!a.data.id||a.data.id!==o||(e.removeEventListener("message",i),r(a.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)})}function tc(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const fr=E.header`
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  flex-shrink: 0;
  height: var(--sectionHeaderHeight);
  padding: 0 1.2rem;
  font-size: 1.2rem;
  font-weight: bold;
  border-bottom: 1px solid var(--grey300);
  text-transform: uppercase;
`,nc="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.18359%2013.1338H11.4209C12.9932%2013.1338%2013.8613%2012.2656%2013.8613%2010.707V2.44238C13.8613%200.876953%2012.9932%200.015625%2011.4209%200.015625H3.18359C1.61133%200.015625%200.743164%200.876953%200.743164%202.44238V10.707C0.743164%2012.2725%201.61133%2013.1338%203.18359%2013.1338ZM3.39551%2011.3018C2.85547%2011.3018%202.5752%2011.042%202.5752%2010.4746V2.6748C2.5752%202.10059%202.85547%201.84766%203.39551%201.84766H11.209C11.7422%201.84766%2012.0293%202.10059%2012.0293%202.6748V10.4746C12.0293%2011.042%2011.7422%2011.3018%2011.209%2011.3018H3.39551ZM5.82227%209.90039C6.05469%2010.1328%206.54688%2010.126%206.7998%209.88672L9.46582%207.3916C9.92383%206.9541%209.93066%206.18848%209.46582%205.75781L6.7998%203.2627C6.51953%202.99609%206.0957%203.00293%205.83594%203.24219C5.54883%203.50879%205.54199%203.97363%205.82227%204.2334L8.31738%206.57129L5.82227%208.91602C5.54883%209.16895%205.52832%209.61328%205.82227%209.90039Z'%20fill='%23ADADAF'/%3e%3c/svg%3e",rc="data:image/svg+xml,%3csvg%20width='22'%20height='23'%20viewBox='0%200%2022%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.95312%2022.0078H18.1445C20.6875%2022.0078%2022%2020.6953%2022%2018.1875V3.92578C22%201.41797%2020.6875%200.105469%2018.1445%200.105469H3.95312C1.42188%200.105469%200.0976562%201.40625%200.0976562%203.92578V18.1875C0.0976562%2020.6953%201.42188%2022.0078%203.95312%2022.0078ZM4.10547%2019.6758C3.02734%2019.6758%202.42969%2019.1133%202.42969%2017.9766V4.13672C2.42969%203%203.02734%202.4375%204.10547%202.4375H17.9922C19.0586%202.4375%2019.668%203%2019.668%204.13672V17.9766C19.668%2019.1133%2019.0586%2019.6758%2017.9922%2019.6758H4.10547ZM14.7109%2014.1094C15.2969%2014.1094%2015.6836%2013.6758%2015.6836%2013.043V7.59375C15.6836%206.77344%2015.2266%206.41016%2014.4883%206.41016H9.00391C8.37109%206.41016%207.94922%206.78516%207.94922%207.37109C7.94922%207.96875%208.37109%208.34375%209.01562%208.34375H10.9961L12.5781%208.15625L10.8555%209.73828L6.75391%2013.8398C6.55469%2014.0391%206.42578%2014.3086%206.42578%2014.5898C6.42578%2015.2227%206.85938%2015.6328%207.45703%2015.6328C7.78516%2015.6328%208.04297%2015.5156%208.25391%2015.3047L12.3438%2011.2148L13.9141%209.51562L13.7383%2011.1914V13.0547C13.7383%2013.6992%2014.125%2014.1094%2014.7109%2014.1094Z'%20fill='%23ADADAF'/%3e%3c/svg%3e",Go=({IDL:e})=>{const t=e.Record({max_num_canisters:e.Nat,canister_time_to_live:e.Nat,stored_module:e.Opt(e.Record({arg:e.Vec(e.Nat8),hash:e.Vec(e.Nat8)})),wasm_utils_principal:e.Opt(e.Text),cycles_per_canister:e.Nat,admin_only:e.Opt(e.Bool),nonce_time_to_live:e.Nat,max_family_tree_size:e.Nat}),n=e.Record({value:e.Text,name:e.Text}),r=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(n)}),o=e.Func([e.Record({context:e.Vec(e.Nat8),response:r})],[r],["query"]),i=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:o,context:e.Vec(e.Nat8)})),headers:e.Vec(n)}),a=e.Record({id:e.Principal,timestamp:e.Int}),s=e.Principal,l=e.Variant({controllers:e.Null,public:e.Null}),d=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),log_visibility:l,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),h=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:d,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),u=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),log_visibility:e.Opt(l),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),f=e.Record({arg:e.Vec(e.Nat8),wasm_module:e.Vec(e.Nat8),bypass_wasm_transform:e.Opt(e.Bool)}),m=e.Record({nonce:e.Nat,timestamp:e.Int}),b=e.Record({origin:e.Text,tags:e.Vec(e.Text)}),C=e.Record({num_of_installs:e.Nat,num_of_canisters:e.Nat,error_mismatch:e.Nat,error_out_of_capacity:e.Nat,cycles_used:e.Nat,error_total_wait_time:e.Nat}),S=e.Record({url:e.Text,method:e.Text,body:e.Vec(e.Nat8),headers:e.Vec(e.Tuple(e.Text,e.Text))}),k=e.Record({body:e.Vec(e.Nat8),headers:e.Vec(e.Tuple(e.Text,e.Text)),status_code:e.Nat16}),A=e.Record({arg:e.Vec(e.Nat8),wasm_module:e.Vec(e.Nat8),mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),canister_id:e.Principal}),x=e.Record({origin:e.Record({origin:e.Text,tags:e.Vec(e.Text)}),profiling:e.Bool,is_whitelisted:e.Bool,start_page:e.Opt(e.Nat32),page_limit:e.Opt(e.Nat32)}),_=e.Vec(e.Nat8),O=e.Vec(e.Nat8),w=e.Record({id:O,total_size:e.Nat64,taken_at_timestamp:e.Nat64});return e.Service({GCCanisters:e.Func([],[],["oneway"]),__transform:e.Func([e.Record({context:e.Vec(e.Nat8),response:r})],[r],["composite_query"]),_ttp_request:e.Func([i],[r],[]),balance:e.Func([],[e.Nat],["query"]),callForward:e.Func([a,e.Text,e.Vec(e.Nat8)],[e.Vec(e.Nat8)],[]),canister_status:e.Func([e.Record({canister_id:s})],[h],[]),create_canister:e.Func([e.Record({settings:e.Opt(u)})],[e.Record({canister_id:s})],[]),deleteSnapshot:e.Func([a],[],[]),delete_canister:e.Func([e.Record({canister_id:s})],[],[]),delete_canister_snapshot:e.Func([e.Record({canister_id:e.Principal,snapshot_id:e.Vec(e.Nat8)})],[],[]),deployCanister:e.Func([e.Opt(a),e.Opt(f)],[a,e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null})],[]),dump:e.Func([],[e.Vec(a)],["query"]),getCanisterId:e.Func([m,b],[a],[]),getInitParams:e.Func([],[t],["query"]),getStats:e.Func([],[C,e.Vec(e.Tuple(e.Text,e.Nat)),e.Vec(e.Tuple(e.Text,e.Nat))],["query"]),getSubtree:e.Func([a],[e.Vec(e.Tuple(e.Principal,e.Vec(a)))],["query"]),http_request:e.Func([S],[k],["query"]),installCode:e.Func([a,A,x],[a],[]),installExternalCanister:e.Func([A],[],[]),installStoredWasm:e.Func([a,A,b],[a],[]),install_code:e.Func([e.Record({arg:e.Vec(e.Nat8),wasm_module:_,mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),canister_id:s})],[],[]),listSnapshots:e.Func([a],[e.Vec(w)],[]),list_canister_snapshots:e.Func([e.Record({canister_id:e.Principal})],[e.Vec(w)],[]),loadSnapshot:e.Func([a],[],[]),load_canister_snapshot:e.Func([e.Record({})],[],[]),mergeTags:e.Func([e.Text,e.Opt(e.Text)],[],[]),releaseAllCanisters:e.Func([],[],[]),removeCode:e.Func([a],[],[]),resetStats:e.Func([],[],[]),start_canister:e.Func([e.Record({canister_id:s})],[],[]),stop_canister:e.Func([e.Record({canister_id:s})],[],[]),takeSnapshot:e.Func([a],[e.Opt(e.Vec(e.Nat8))],[]),take_canister_snapshot:e.Func([e.Record({replace_snapshot:e.Opt(e.Vec(e.Nat8)),canister_id:e.Principal})],[w],[]),transferOwnership:e.Func([a,e.Vec(e.Principal)],[],[]),uninstall_code:e.Func([e.Record({canister_id:s})],[],[]),update_settings:e.Func([e.Record({canister_id:e.Principal,settings:u})],[],[]),wallet_receive:e.Func([],[],[])})},Ko="mwrha-maaaa-aaaab-qabqq-cai";((e,t={})=>{const n=t.agent||new Jr({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),Ct.createActor(Go,{agent:n,canisterId:e,...t.actorOptions})})(Ko);const Yo=({IDL:e})=>{const t=e.Nat,n=e.Int,r=e.Record({content:e.Text,name:e.Text}),o=e.Record({dir:e.Opt(e.Text),name:e.Text,homepage:e.Opt(e.Text),repo:e.Text,version:e.Text}),i=e.Record({id:e.Principal,name:e.Text,candid:e.Text}),a=e.Record({files:e.Vec(r),packages:e.Opt(e.Vec(o)),canisters:e.Opt(e.Vec(i))}),s=e.Record({timestamp:n,project:a}),l=e.Record({byte_size:e.Nat,num_projects:e.Nat});return e.Service({getProject:e.Func([t],[e.Opt(s)],["query"]),getStats:e.Func([],[l],["query"]),putProject:e.Func([a],[t],[])})},Jo="vhtho-raaaa-aaaab-qadoq-cai";((e,t={})=>{const n=t.agent||new Jr({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),Ct.createActor(Yo,{agent:n,canisterId:e,...t.actorOptions})})(Jo);const oc=({IDL:e})=>e.Service({binding:e.Func([e.Text,e.Text],[e.Opt(e.Text)],["query"]),did_to_js:e.Func([e.Text],[e.Opt(e.Text)],["query"]),subtype:e.Func([e.Text,e.Text],[e.Variant({Ok:e.Null,Err:e.Text})],["query"]),merge_init_args:e.Func([e.Text,e.Text],[e.Opt(e.Text)],["query"])});var ic={};const Zo=4943,Xo=window.location.hostname,pn=Xo==="127.0.0.1"||Xo.endsWith("localhost"),ct=Jr.createSync({host:pn?`http://localhost:${Zo}`:"https://icp-api.io"});pn&&ct.fetchRootKey();const Re=Ct.createActor(Go,{agent:ct,canisterId:Ko}),Qo=Ct.createActor(Yo,{agent:ct,canisterId:Jo}),mr=ic.__CANDID_UI_CANISTER_ID||(pn?"bnz7o-iuaaa-aaaaa-qaaaa-cai":"a4gq6-oaaaa-aaaab-qaa4q-cai"),ac=pn?`http://${mr}.localhost:${Zo}`:`https://${mr}.raw.icp0.io`,lt=Ct.createActor(oc,{agent:ct,canisterId:Zr.fromText(mr)});async function sc(e){return(await Sm({agent:ct,canisterId:e,paths:["candid"]})).get("candid")}async function cc(e){const t=({IDL:n})=>n.Service({__get_candid_interface_tmp_hack:n.Func([],[n.Text],["query"])});return await Ct.createActor(t,{agent:ct,canisterId:e}).__get_candid_interface_tmp_hack()}async function lc(e){return await sc(e)||await cc(e)}async function ei(e){const t=await lt.did_to_js(e);if(Array.isArray(t)&&t.length===0)return;const n=new Blob([t[0]],{type:"text/javascript"}),r=URL.createObjectURL(n);try{return await import(r).then(async o=>(await o.__tla,o))}finally{URL.revokeObjectURL(r)}}const dc=E.div`
  width: 40%;
  max-width: 60rem;
  width: var(--candidWidth);
`,uc=E.iframe.attrs({sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"})`
  height: calc(var(--appHeight) - var(--sectionHeaderHeight));
  border: none;
  width: var(--candidWidth);
`,pc=E("img")`
  width: 1.4rem;
  margin-right: 1rem;
  ${e=>e.isExpanded?"":"transform: rotate(180deg);"}
`,hc=E("img")`
  width: 2.2rem;
  margin-left: auto;
`,ti=E.button`
  background: none;
  border: none;
  box-shadow: none;
`,Ot=ac,hn="CandidUI";function fc({canisterId:e,candid:t,setCandidWidth:n,forceUpdate:r,isFrontend:o,onMessage:i}){const[a,s]=p.useState(!0),l=p.useRef(null),d=t&&t.length<2e3?`&did=${encodeURIComponent(btoa(t))}`:"&external-config",h=o?`https://${e}.icp0.io`:`${Ot}/?id=${e}&tag=${r}`+d,u=p.useCallback(({origin:C,source:S,data:k})=>{if(l.current)try{if(typeof k=="string"&&k.startsWith(hn)){if(C!==Ot){console.warn("Received Candid UI message from unexpected origin:",C,`(Expected: ${Ot})`);return}const A=JSON.parse(k.substring(hn.length));i==null||i({origin:C,source:S,message:A})}}catch(A){console.error("Error while processing Candid UI message:"),console.error(A)}},[i]);p.useEffect(()=>{n==null||n(a?"30vw":"fit-content")},[a,n]),p.useEffect(()=>{s(!0)},[e,t,r]),p.useEffect(()=>{if(!o)return window.addEventListener("message",u,!1),()=>window.removeEventListener("message",u)},[u,i,h]);const f=C=>{b(C.target.contentWindow,null)},m=()=>{const C=window.open(h,"_blank");if(!C){console.warn("Unable to open new tab for Candid UI");return}if(o)return;let S=20;const k=setInterval(()=>{--S===0&&clearInterval(k),b(C,k)},500),A=x=>{const{origin:_,source:O,data:w}=x;O===C&&_===Ot&&typeof w=="string"&&w.startsWith(hn)&&(clearInterval(k),window.removeEventListener("message",A))};window.addEventListener("message",A,!1)},b=(C,S)=>{if(o)return;console.log("Sending config message to Candid UI");const k={type:"config",config:{candid:t?btoa(t):void 0},acknowledge:S};C.postMessage(`${hn}${JSON.stringify(k)}`,Ot)};return c.jsxs(dc,{isExpanded:a,children:[c.jsxs(fr,{children:[c.jsxs(ti,{onClick:()=>{s(!a)},children:[c.jsx(pc,{isExpanded:a,src:nc,alt:"Collapse icon"}),a?o?"FRONTEND":"CANDID UI":null]}),a?c.jsx(ti,{onClick:m,children:c.jsx(hc,{src:rc})}):null]}),a?c.jsx(uc,{ref:l,src:h,onLoad:f}):null]})}function mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ni(Object(n),!0).forEach(function(r){mc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gc(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function yc(e,t){if(e==null)return{};var n=gc(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bc(e,t){return vc(e)||wc(e,t)||xc(e,t)||Cc()}function vc(e){if(Array.isArray(e))return e}function wc(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,i=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){o=!0,i=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(o)throw i}}return n}}function xc(e,t){if(e){if(typeof e=="string")return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(e,t)}}function oi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ii(Object(n),!0).forEach(function(r){kc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,i){return i(o)},r)}}function Tt(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(o,s))}}}function fn(e){return{}.toString.call(e).includes("Object")}function jc(e){return!Object.keys(e).length}function At(e){return typeof e=="function"}function Sc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ec(e,t){return fn(t)||Ie("changeType"),Object.keys(t).some(function(n){return!Sc(e,n)})&&Ie("changeField"),t}function Oc(e){At(e)||Ie("selectorType")}function Tc(e){At(e)||fn(e)||Ie("handlerType"),fn(e)&&Object.values(e).some(function(t){return!At(t)})&&Ie("handlersType")}function Ac(e){e||Ie("initialIsRequired"),fn(e)||Ie("initialType"),jc(e)&&Ie("initialContent")}function Mc(e,t){throw new Error(e[t]||e.default)}var Nc={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ie=Tt(Mc)(Nc),mn={changes:Ec,selector:Oc,handler:Tc,initial:Ac};function Dc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mn.initial(e),mn.handler(t);var n={current:e},r=Tt(Ic)(n,t),o=Tt(Rc)(n),i=Tt(mn.changes)(e),a=Tt(Pc)(n);function s(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return mn.selector(d),d(n.current)}function l(d){_c(r,o,i,a)(d)}return[s,l]}function Pc(e,t){return At(t)?t(e.current):t}function Rc(e,t){return e.current=ai(ai({},e.current),t),t}function Ic(e,t,n){return At(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var $c={create:Dc},Fc={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Lc(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(o,s))}}}function zc(e){return{}.toString.call(e).includes("Object")}function Wc(e){return e||ci("configIsRequired"),zc(e)||ci("configType"),e.urls?(Uc(),{paths:{vs:e.urls.monacoBase}}):e}function Uc(){console.warn(si.deprecation)}function qc(e,t){throw new Error(e[t]||e.default)}var si={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ci=Lc(qc)(si),Hc={config:Wc},Bc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,i){return i(o)},r)}};function li(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],li(e[n],t[n]))}),ri(ri({},e),t)}var Vc={type:"cancelation",msg:"operation is manually canceled"};function gr(e){var t=!1,n=new Promise(function(r,o){e.then(function(i){return t?o(Vc):r(i)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var Gc=$c.create({config:Fc,isInitialized:!1,resolve:null,reject:null,monaco:null}),di=bc(Gc,2),Mt=di[0],gn=di[1];function Kc(e){var t=Hc.config(e),n=t.monaco,r=yc(t,["monaco"]);gn(function(o){return{config:li(o.config,r),monaco:n}})}function Yc(){var e=Mt(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(gn({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),gr(yr);if(window.monaco&&window.monaco.editor)return ui(window.monaco),e.resolve(window.monaco),gr(yr);Bc(Jc,Xc)(Qc)}return gr(yr)}function Jc(e){return document.body.appendChild(e)}function Zc(e){var t=document.createElement("script");return e&&(t.src=e),t}function Xc(e){var t=Mt(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),n=Zc("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Qc(){var e=Mt(function(n){var r=n.config,o=n.resolve,i=n.reject;return{config:r,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){ui(n),e.resolve(n)},function(n){e.reject(n)})}function ui(e){Mt().monaco||gn({monaco:e})}function el(){return Mt(function(e){var t=e.monaco;return t})}var yr=new Promise(function(e,t){return gn({resolve:e,reject:t})}),yn={config:Kc,init:Yc,__getMonacoInstance:el},tl={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},br=tl,nl={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},rl=nl;function ol({children:e}){return re.createElement("div",{style:rl.container},e)}var il=ol,al=il;function sl({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:a}){return re.createElement("section",{style:{...br.wrapper,width:e,height:t},...a},!n&&re.createElement(al,null,r),re.createElement("div",{ref:o,style:{...br.fullWidth,...!n&&br.hide},className:i}))}var cl=sl,pi=p.memo(cl);function ll(e){p.useEffect(e,[])}var vr=ll;function dl(e,t,n=!0){let r=p.useRef(!0);p.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var de=dl;function Nt(){}function dt(e,t,n,r){return ul(e,r)||pl(e,t,n,r)}function ul(e,t){return e.editor.getModel(hi(e,t))}function pl(e,t,n,r){return e.editor.createModel(t,n,r?hi(e,r):void 0)}function hi(e,t){return e.Uri.parse(t)}function hl({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:d="light",loading:h="Loading...",options:u={},height:f="100%",width:m="100%",className:b,wrapperProps:C={},beforeMount:S=Nt,onMount:k=Nt}){let[A,x]=p.useState(!1),[_,O]=p.useState(!0),w=p.useRef(null),y=p.useRef(null),T=p.useRef(null),j=p.useRef(k),M=p.useRef(S),q=p.useRef(!1);vr(()=>{let v=yn.init();return v.then(D=>(y.current=D)&&O(!1)).catch(D=>(D==null?void 0:D.type)!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>w.current?N():v.cancel()}),de(()=>{if(w.current&&y.current){let v=w.current.getOriginalEditor(),D=dt(y.current,e||"",r||n||"text",i||"");D!==v.getModel()&&v.setModel(D)}},[i],A),de(()=>{if(w.current&&y.current){let v=w.current.getModifiedEditor(),D=dt(y.current,t||"",o||n||"text",a||"");D!==v.getModel()&&v.setModel(D)}},[a],A),de(()=>{let v=w.current.getModifiedEditor();v.getOption(y.current.editor.EditorOption.readOnly)?v.setValue(t||""):t!==v.getValue()&&(v.executeEdits("",[{range:v.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),v.pushUndoStop())},[t],A),de(()=>{var v,D;(D=(v=w.current)==null?void 0:v.getModel())==null||D.original.setValue(e||"")},[e],A),de(()=>{let{original:v,modified:D}=w.current.getModel();y.current.editor.setModelLanguage(v,r||n||"text"),y.current.editor.setModelLanguage(D,o||n||"text")},[n,r,o],A),de(()=>{var v;(v=y.current)==null||v.editor.setTheme(d)},[d],A),de(()=>{var v;(v=w.current)==null||v.updateOptions(u)},[u],A);let H=p.useCallback(()=>{var g;if(!y.current)return;M.current(y.current);let v=dt(y.current,e||"",r||n||"text",i||""),D=dt(y.current,t||"",o||n||"text",a||"");(g=w.current)==null||g.setModel({original:v,modified:D})},[n,t,o,e,r,i,a]),B=p.useCallback(()=>{var v;!q.current&&T.current&&(w.current=y.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...u}),H(),(v=y.current)==null||v.editor.setTheme(d),x(!0),q.current=!0)},[u,d,H]);p.useEffect(()=>{A&&j.current(w.current,y.current)},[A]),p.useEffect(()=>{!_&&!A&&B()},[_,A,B]);function N(){var D,g,R,W;let v=(D=w.current)==null?void 0:D.getModel();s||((g=v==null?void 0:v.original)==null||g.dispose()),l||((R=v==null?void 0:v.modified)==null||R.dispose()),(W=w.current)==null||W.dispose()}return re.createElement(pi,{width:m,height:f,isEditorReady:A,loading:h,_ref:T,className:b,wrapperProps:C})}var fl=hl;p.memo(fl);function ml(){let[e,t]=p.useState(yn.__getMonacoInstance());return vr(()=>{let n;return e||(n=yn.init(),n.then(r=>{t(r)})),()=>n==null?void 0:n.cancel()}),e}var gl=ml;function yl(e){let t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}var bl=yl,bn=new Map;function vl({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:a="light",line:s,loading:l="Loading...",options:d={},overrideServices:h={},saveViewState:u=!0,keepCurrentModel:f=!1,width:m="100%",height:b="100%",className:C,wrapperProps:S={},beforeMount:k=Nt,onMount:A=Nt,onChange:x,onValidate:_=Nt}){let[O,w]=p.useState(!1),[y,T]=p.useState(!0),j=p.useRef(null),M=p.useRef(null),q=p.useRef(null),H=p.useRef(A),B=p.useRef(k),N=p.useRef(),v=p.useRef(r),D=bl(i),g=p.useRef(!1),R=p.useRef(!1);vr(()=>{let P=yn.init();return P.then(F=>(j.current=F)&&T(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>M.current?G():P.cancel()}),de(()=>{var F,I,U,ee;let P=dt(j.current,e||r||"",t||o||"",i||n||"");P!==((F=M.current)==null?void 0:F.getModel())&&(u&&bn.set(D,(I=M.current)==null?void 0:I.saveViewState()),(U=M.current)==null||U.setModel(P),u&&((ee=M.current)==null||ee.restoreViewState(bn.get(i))))},[i],O),de(()=>{var P;(P=M.current)==null||P.updateOptions(d)},[d],O),de(()=>{!M.current||r===void 0||(M.current.getOption(j.current.editor.EditorOption.readOnly)?M.current.setValue(r):r!==M.current.getValue()&&(R.current=!0,M.current.executeEdits("",[{range:M.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),M.current.pushUndoStop(),R.current=!1))},[r],O),de(()=>{var F,I;let P=(F=M.current)==null?void 0:F.getModel();P&&o&&((I=j.current)==null||I.editor.setModelLanguage(P,o))},[o],O),de(()=>{var P;s!==void 0&&((P=M.current)==null||P.revealLine(s))},[s],O),de(()=>{var P;(P=j.current)==null||P.editor.setTheme(a)},[a],O);let W=p.useCallback(()=>{var P;if(!(!q.current||!j.current)&&!g.current){B.current(j.current);let F=i||n,I=dt(j.current,r||e||"",t||o||"",F||"");M.current=(P=j.current)==null?void 0:P.editor.create(q.current,{model:I,automaticLayout:!0,...d},h),u&&M.current.restoreViewState(bn.get(F)),j.current.editor.setTheme(a),s!==void 0&&M.current.revealLine(s),w(!0),g.current=!0}},[e,t,n,r,o,i,d,h,u,a,s]);p.useEffect(()=>{O&&H.current(M.current,j.current)},[O]),p.useEffect(()=>{!y&&!O&&W()},[y,O,W]),v.current=r,p.useEffect(()=>{var P,F;O&&x&&((P=N.current)==null||P.dispose(),N.current=(F=M.current)==null?void 0:F.onDidChangeModelContent(I=>{R.current||x(M.current.getValue(),I)}))},[O,x]),p.useEffect(()=>{if(O){let P=j.current.editor.onDidChangeMarkers(F=>{var U;let I=(U=M.current.getModel())==null?void 0:U.uri;if(I&&F.find(ee=>ee.path===I.path)){let ee=j.current.editor.getModelMarkers({resource:I});_==null||_(ee)}});return()=>{P==null||P.dispose()}}return()=>{}},[O,_]);function G(){var P,F;(P=N.current)==null||P.dispose(),f?u&&bn.set(i,M.current.saveViewState()):(F=M.current.getModel())==null||F.dispose(),M.current.dispose()}return re.createElement(pi,{width:m,height:b,isEditorReady:O,loading:l,_ref:q,className:C,wrapperProps:S})}var wl=vl,xl=p.memo(wl),Cl=xl,kl="Expected a function",fi=NaN,_l="[object Symbol]",jl=/^\s+|\s+$/g,Sl=/^[-+]0x[0-9a-f]+$/i,El=/^0b[01]+$/i,Ol=/^0o[0-7]+$/i,Tl=parseInt,Al=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Ml=typeof self=="object"&&self&&self.Object===Object&&self,Nl=Al||Ml||Function("return this")(),Dl=Object.prototype,Pl=Dl.toString,Rl=Math.max,Il=Math.min,wr=function(){return Nl.Date.now()};function $l(e,t,n){var r,o,i,a,s,l,d=0,h=!1,u=!1,f=!0;if(typeof e!="function")throw new TypeError(kl);t=mi(t)||0,xr(n)&&(h=!!n.leading,u="maxWait"in n,i=u?Rl(mi(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function m(w){var y=r,T=o;return r=o=void 0,d=w,a=e.apply(T,y),a}function b(w){return d=w,s=setTimeout(k,t),h?m(w):a}function C(w){var y=w-l,T=w-d,j=t-y;return u?Il(j,i-T):j}function S(w){var y=w-l,T=w-d;return l===void 0||y>=t||y<0||u&&T>=i}function k(){var w=wr();if(S(w))return A(w);s=setTimeout(k,C(w))}function A(w){return s=void 0,f&&r?m(w):(r=o=void 0,a)}function x(){s!==void 0&&clearTimeout(s),d=0,r=l=o=s=void 0}function _(){return s===void 0?a:A(wr())}function O(){var w=wr(),y=S(w);if(r=arguments,o=this,l=w,y){if(s===void 0)return b(l);if(u)return s=setTimeout(k,t),m(l)}return s===void 0&&(s=setTimeout(k,t)),a}return O.cancel=x,O.flush=_,O}function xr(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Fl(e){return!!e&&typeof e=="object"}function Ll(e){return typeof e=="symbol"||Fl(e)&&Pl.call(e)==_l}function mi(e){if(typeof e=="number")return e;if(Ll(e))return fi;if(xr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(jl,"");var n=El.test(e);return n||Ol.test(e)?Tl(e.slice(2),n?2:8):Sl.test(e)?fi:+e}var zl=$l;const Wl=Ua(zl),ue=E("button")`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.6rem 1.6rem;
  font-size: 1.4rem;
  font-weight: 500;
  height: ${e=>e.small?"3.3rem":"4.5rem"};
  min-width: ${e=>e.small?"5.6rem":"7.8rem"};
  ${e=>e.width?`width: ${e.width}`:""};
  background-color: ${e=>e.variant?e.variant==="primary"?"var(--colorPrimary)":"white":"var(--grey200)"};
  color: ${e=>e.variant==="primary"?"white":e.variant==="secondary"?"var(--grey500)":"var(--grey600)"};
  border: ${e=>`1px solid ${e.variant==="secondary"?"var(--grey400)":"transparent"}`};
  border-radius: ${e=>e.small?"1.7rem":"2.3rem"};

  &:not(:last-child) {
    margin-right: 2rem;
  }

  > *:not(:last-child) {
    margin-right: 0.8rem;
  }

  > p {
    margin: 0;
  }

  &:hover {
    background-color: ${e=>e.variant==="primary"?"var(--colorPrimaryDark)":"var(--grey100)"};
    ${e=>e.variant?"":`color: var(--colorPrimary);
           border: 1px solid var(--grey300);

           > svg * {
             fill: var(--colorPrimary);
           }
           `};
  }

  img {
    max-width: 2.5rem;
  }
`,Cr=E.div`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: flex-end;
`;var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.typeKeywords=ut.keywords=void 0,ut.keywords=["actor","and","async","assert","await","break","case","catch","class","composite","continue","debug","debug_show","do","else","false","finally","flexible","for","from_candid","func","if","ignore","in","import","label","let","loop","module","not","null","object","or","private","public","query","return","shared","stable","switch","system","throw","to_candid","true","try","type","var","while","with"],ut.typeKeywords=["Any","None","Null","Bool","Int","Int8","Int16","Int32","Int64","Nat","Nat8","Nat16","Nat32","Nat64","Float","Char","Text","Blob","Error","Principal"];const Ul={prefix:["module"],body:["module {","	public let ${1:value} = ${2:0};","	","	public func ${3:name}(${4:arg : Text}) : ${5:()} {","		$0","	};","};"]},ql={prefix:["actor"],body:["actor {","	stable var ${1:state} = ${2:0};","	","	public func ${3:name}(${4:arg : Text}) : async ${5:()} {","		$0","	};","};"]},Hl={prefix:["class"],body:["class ${1:Name}($2) = self {","	var ${3:state} = ${4:0};","	","	public func ${5:name}(${6:input : Text}) : ${7:()} {","		$0","	};","};"]},Bl={prefix:["record"],body:["{","	${1:key} = ${2:value};","}"],description:"record value (equivalent to an object in JS, dictionary in Python)"},Vl={prefix:["debug-print"],body:["Debug.print(debug_show ($0));"]},Gl={prefix:["debug-trap"],body:['Debug.trap("$0");']},Kl={"For Loop (Collection)":{prefix:["for-each"],body:["for(${1:item} in ${2:collection}.vals()) {","	$0","};"],description:"for loop which iterates through a collection"},"For Loop (Range)":{prefix:["for-range"],body:["for(${1:i} in Iter.range(0, ${2:count} - 1)) {","	$0","};"],description:"for loop over a numeric range"},"Range (Inclusive)":{prefix:["iter-range"],body:["Iter.range(${1:start}, ${2:endInclusive})"],description:"iterator over a range of values (including the upper bound)."},"Range (Exclusive)":{prefix:["iter-range-exclusive"],body:["Iter.range(${1:start}, ${2:end} - 1)"],description:"iterator over a range of values (excluding the upper bound)."},"Type Declaration":{prefix:["type"],body:["type ${1:Name} = ${2:declaration};","$0"],description:"simple type declaration"},"Object Type":{prefix:["type-obj"],body:["type ${1:Name} = {","	${2:attribute} : ${3:Type};","};","$0"],description:"object / record type block"},"Type Variant":{prefix:["type-variant"],body:["type ${1:Name} = {","	#${2:tag};","};","$0"],description:"variant type block"},"Mutable Variable":{prefix:["var"],body:["var ${1:name} = ${2:value};","$0"],description:"declare a mutable variable"},"Immutable Variable":{prefix:["let"],body:["let ${1:name} = ${2:value};","$0"],description:"declare an immutable variable"},"Simple Function":{prefix:["func"],body:["func ${1:name}(${2:arg} : ${5:Type}) : ${4:()} {","	$0","};"],description:"simple function declaration"},"Public Actor Function":{prefix:["func-actor"],body:["public func ${1:name}(${2:arg} : ${5:Type}) : async ${4:()} {","	$0","};"],description:"public actor function declaration"},"Base Library Import":{prefix:["import-base"],body:['import ${1:Module} "mo:base/${1}";',"$0"]},"Canister Import":{prefix:["import-canister"],body:['import ${1:Module} "canister:${2}";',"$0"]},"Switch Statement":{prefix:["switch"],body:["switch(${1:input}) {","	case($2) { $0 };","	case($3) { };","};"]},"Switch Statement (Option)":{prefix:["switch-option"],body:["switch(${1:input}) {","	case(?${2:value}) { $0 };","	case(null) { };","};"]},"Switch Statement (Result)":{prefix:["switch-result"],body:["switch(${1:input}) {","	case(#ok(${2:value})) { $0 };","	case(#err(${3:error})) { };","};"]},Module:Ul,Actor:ql,"Actor Class":{prefix:["actor-class"],body:["actor class ${1:Name}($2) = self {","	stable var ${3:state} = ${4:0};","	","	public func ${5:name}(${6:input : Text}) : async ${7:()} {","		$0","	};","};"]},Class:Hl,Record:Bl,"Do Block":{prefix:["do"],body:["do {","	$0","}"]},"Anonymous Function":{prefix:["lambda"],body:["func ($1) { $0 }"],description:"a lambda expression"},"Array Literal":{prefix:["array"],body:["[$0]"],description:"an immutable array (values cannot be replaced)"},"Mutable Array Literal":{prefix:["array-mut"],body:["[var $0]"],description:"a mutable array (values can be replaced)"},"New Array":{prefix:["array-new"],body:["var ${1:array} = [];","$0"]},"New Hash Map":{prefix:["hash-map-new"],body:["let ${1:map} = HashMap.HashMap<${2:Text}, ${3:Nat}>(0, ${2}.equal, ${2}.hash);","$0"]},"New Trie":{prefix:["trie-new"],body:["var ${1:trie} = Trie.empty<${2:Text}, ${3:Nat}>();","$0"]},"New Trie Map":{prefix:["trie-map-new"],body:["let ${1:map} = TrieMap.TrieMap<${2:Text}, ${3:Nat}>(0);","$0"]},"New RB Tree":{prefix:["rb-tree-new"],body:["let ${1:map} = RBTree.RBTree<${2:Text}, ${3:Nat}>(${2}.compare);","$0"]},"New Trie Set":{prefix:["trie-set-new"],body:["let ${1:set} = TrieSet.empty<${2:Text}>();","$0"]},"New Deque":{prefix:["deque-new"],body:["let ${1:queue} = Deque.empty<${2:Text}>();","$0"]},"New List":{prefix:["list-new"],body:["var ${1:list} = List.nil<${2:Text}>();","$0"]},"Sort Array":{prefix:["sort-array"],body:["Array.sort<$1>(${2:array}, func (a : $1, b : $1) { ${3:#equal} })"]},"Ok (Result)":{prefix:["ok"],body:["#ok($0)"]},"Error (Result)":{prefix:["err"],body:["#err($0)"]},"Debug Block":{prefix:["debug-block"],body:["debug {","	$0","};"]},Print:Vl,Trap:Gl,"Set Timer":{prefix:["set-timer"],body:["let ${1:id} = Timer.setTimer(#seconds ${2:0}, func () {","	$0","});"]},"Recurring Timer":{prefix:["recurring-timer"],body:["let ${1:id} = Timer.recurringTimer(#seconds ${2:0}, func () {","	$0","});"]},"Cancel Timer":{prefix:["cancel-timer"],body:["Timer.cancelTimer(${1:id});"]},"Doc Comment":{prefix:["doc-comment"],body:["/// ${1:Description}"]},"Array to Blob":{prefix:["array-2-blob"],body:["Blob.fromArray(${1:array})"]},"Blob to Array":{prefix:["blob-2-array"],body:["Blob.toArray(${1:blob})"]},"Array to Buffer":{prefix:["array-2-buffer"],body:["Buffer.fromArray(${1:array})"]},"Buffer to Array":{prefix:["buffer-2-array"],body:["Buffer.toArray(${1:buffer})"]},"Principal to Text":{prefix:["principal-2-text"],body:["Principal.toText(${1:principal})"]},"Text to Principal":{prefix:["text-2-principal"],body:["Principal.fromText(${1:text})"]},"Actor to Principal":{prefix:["actor-2-principal"],body:["Principal.fromActor(${1:actor})"]},"Principal to Actor":{prefix:["principal-2-actor"],body:["actor (Principal.toText(${1:principal})) : actor { ${2:method} : ${3:()} -> async ${4:()} }"]},"Text to Actor":{prefix:["text-2-actor"],body:["actor (${1:text}) : actor { ${2:method} : ${3:()} -> async ${4:()} }"]},"Profiling Region":{prefix:["profiling-region"],body:["stable let profiling = do {","	let r = Region.new();","	ignore Region.grow(r, 32);","	r","};"],description:"include as the first line in an actor for stable memory region profiling"}},{keywords:Yl,typeKeywords:Jl}=ut,Zl=Kl;var Xl=(e,{snippets:t}={})=>{e.languages.register({id:"motoko"}),e.languages.setLanguageConfiguration("motoko",{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"<",close:">"}]}),e.languages.setMonarchTokensProvider("motoko",{defaultToken:"",tokenPostfix:".mo",keywords:Yl,accessmodifiers:["public","private","flexible","query","shared","stable","system"],typeKeywords:Jl,operators:["=","<",">",":","<:","?","+","-","*","/","%","**","+%","-%","*%","**%","&","|","^","<<",">>","<<>","<>>","#","==","!=",">=","<=",":=","+=","-=","*=","/=","%=","**=","+%=","-%=","*%=","**%=","&=","|=","^=","<<=",">>=","#=","->"],symbols:/[=(){}[\].,:;@#_&\-<>`?!+*\\/]/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z_$][\w$]*/,{cases:{"@typeKeywords":"keyword.type","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]+/,"number.hex"],[/[0-9_]+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}}),t&&e.languages.registerCompletionItemProvider("motoko",{provideCompletionItems(){return{suggestions:Object.entries(Zl).map(([n,r])=>({label:typeof r.prefix=="string"?r.prefix:r.prefix[0],detail:n,insertText:typeof r.body=="string"?r.body:r.body.join(`
`),insertTextRules:4,kind:27}))}}})};const vn={},Ql=e=>{Object.assign(vn,e)};function wn(e){if(e.token_tree_type==="Group"){const[t,n,r]=e.data,o=t.map(i=>wn(i));return(r?[Te(r[0][0]),...o,Te(r[1][0])]:o).join("")}if(e.token_tree_type==="Token")return Te(e.data[0]);throw new Error(`Unexpected token tree: ${JSON.stringify(e)}`)}function Te(e){return Array.isArray(e.data)?e.data[0]:e.data}function Be(e){if(e&&e.token_tree_type==="Token")return e.data[0]}function Dt(e){if(Array.isArray(e))return e.map(t=>Dt(t));if(typeof e=="object")switch(e.type){case"align":case"group":case"indent":case"line-suffix":return Dt(e.contents);case"fill":return Dt(e.parts);case"line":return e.soft?[]:" ";case"if-break":return Dt(e.flatContents);case"break-parent":case"line-suffix-boundary":return[]}return e||[]}function Pt(e,t,n,r){const o=t[n];if(!o)return!1;if(e==="_")return!0;if(typeof e=="function")return e(o);if(o.token_tree_type===e)return!0;if(typeof e=="object"&&e.main)return!(e.main&&!Pt(e.main,t,n,r)||e.left&&!Pt(e.left,t,n-1,r)||e.right&&!Pt(e.right,t,n+1,r)||e.groups&&!e.groups.some(i=>i===r));if(o.token_tree_type==="Token")return o.data[0].token_type===e;if(o.token_tree_type==="Group")return o.data[1]===e;throw new Error(`Unexpected pattern: ${e}`)}const ed=e=>{if(e.token_tree_type==="Token"){const[t]=e.data;if(t.token_type==="Ident"&&vn.is_keyword(t.data))return!0}return!1},xn=e=>t=>{const n=Be(t);return!!n&&e(n)},Z=e=>xn(t=>Te(t)===e),td=e=>xn(t=>Te(t).startsWith(e)),gi=e=>xn(t=>Te(t).endsWith(e)),kr=e=>e.token_tree_type==="Group"?e.data[1]==="Comment":Be(e).token_type==="BlockComment",nd={rules:[["LineComment","_","hardline"],["MultiLine","_","hardline"],["_","MultiLine","hardline"],["Space","_","nil"],["_","Space","nil"],["Line","_","nil"],["_","Line","nil"],["_","LineComment","keep-space"],["_",kr,"keep-space"],[kr,"Delim","keep"],[kr,"_","keep-space"],["_",td(" "),"nil"],[gi(" "),"_","nil"],["_","Delim","nil"],["Delim","_","line"],[{left:Z("if"),main:"_"},"Paren","space"],[Z("+"),"_","keep"],[Z("-"),"_","keep"],[Z("^"),"_","keep"],["_",Z("#"),"keep-space"],[Z("#"),"Ident","keep"],[Z("#"),"_","keep-space"],[Z("with"),"_","keep-space"],[{main:Z("and"),groups:["Paren","Square"]},"_","keep-space"],[{main:Z("or"),groups:["Paren","Square"]},"_","keep-space"],["_",Z("|>"),"keep-space"],["_","Dot","nil"],["Dot","_","nil"],["Assign","_","space"],[{left:Z("do"),main:Z("?")},"_","space"],[Z("?"),"_","nil"],["_",Z("!"),"nil"],[Z("func"),"Paren","nil"],[Z("func"),"Angle","nil"],[{left:Z("case"),main:"Group"},"_","space"],[ed,"Group","space"],["Ident","Paren","nil"],["Ident","Square","nil"],["Ident","Angle","nil"],[gi("."),"Ident","keep"],[Z("async"),Z("*"),"nil"],[Z("await"),Z("*"),"nil"],["Group","Paren","nil"],["Group","Square","nil"],["Angle","Paren","nil"],["Open","_","nil"],["_","Close","nil"],[xn(e=>e.token_type==="Literal"&&/\.[a-z]/i.test(e.data[0])),"Ident","keep"],[Z("@"),"_","keep"],["_","_","space"]]},{builders:{group:rd,fill:od,ifBreak:yi,breakParent:id,indent:ad,indentIfBreak:Rm,line:_r,softline:jr,hardline:bi,lineSuffix:Im,hardlineWithoutBreakParent:$m,literallineWithoutBreakParent:sd}}=vm,Cn=" ";function vi(e,t,n,r,o){if(typeof e=="string")switch(e){case"nil":return[];case"space":return Cn;case"line":return _r;case"softline":return jr;case"hardline":return bi;case"wrap":return _r;case"softwrap":return jr;case"keep":case"keep-space":let i=o.get(t);if(i===n)return e==="keep-space"?Cn:[];let a=Cn;do{const s=Be(i);if(s){if(s.token_type==="MultiLine")return Ae(s);s.token_type==="Line"&&(a=Ae(s))}i=o.get(i)}while(i!==n);return a;default:throw new Error(`Unimplemented space type: ${e}`)}else if(Array.isArray(e))return e.map(i=>vi(i,t,n,r,o));throw new Error(`Unknown space: ${JSON.stringify(e)}`)}const cd=["Space","Line"];function ld(e,t,n,r){const o=e.getValue();if(o===null)return"";{const i=Ci(o,e,t);return i||Array.isArray(i)&&i.length?[i,sd]:i}}function wi(e){const t=Be(e);return!!t&&cd.includes(t.token_type)}function xi(e){return{token_type:"Delim",data:e==="Unenclosed"||e==="Curly"?[";","Semi"]:[",","Comma"]}}function Ci(e,t,n,r,o){if(e.token_tree_type==="Group"){const[i,a,s]=e.data;if(a==="Comment")return wn(e);const l=new Map,d=new Map,h=y=>{if("_shouldBreak"in y)return y._shouldBreak;if(y.token_tree_type==="Group"){const[T]=y.data;y._shouldBreak=T.some(j=>h(j))&&!T.every(j=>{const M=Be(j);return!M||M.token_type==="Line"||M.token_type==="MultiLine"})}else{const T=Be(y);T&&(y._shouldBreak=T.token_type==="Line"||T.token_type==="MultiLine"||T.token_type==="LineComment")}return y._shouldBreak};let u=h(e);const f=i.filter((y,T)=>{const j=i[T-1];j&&l.set(y,j);const M=i[T+1];return M&&d.set(y,M),!wi(y)}),m=(a==="Square"||a==="Paren")&&f.length===1&&f[0].token_tree_type==="Group",b=()=>a==="Angle"?!0:a==="Square"||a==="Paren"?!m&&!u:!1,C=()=>{if(a!=="Curly")return!1;let y=!1,T=!1,j=!1,M=!1;return f.forEach(q=>{let H=Be(q);if(H)H.token_type==="Ident"?H.data==="and"?T=!0:H.data==="with"&&(y=!0):H.token_type==="Assign"&&H.data==="="?j=!0:H.token_type==="Colon"||H.token_type==="Delim"&&(M=!0);else return!1}),!M&&(y&&j||T)},S=[];let k=[],A=!1,x=!1;const _=()=>{k.length&&(S.push(od(k)),k=[],A=!1)};for(let y=0;y<f.length;y++){let T=f[y],j=!1,M=!1,q;if(T.token_tree_type==="Token"){const[B]=T.data;j=B.token_type==="Delim",M=j||["MultiLine","LineComment"].includes(B.token_type),B.token_type==="LineComment"?q=Te(B).slice(2).trim():B.token_type==="BlockComment"&&(q=Te(B).slice(2,-2).trim())}else if(T.token_tree_type==="Group"){const[,B]=T.data;B==="Comment"&&(q=wn(T).slice(2,-2).trim())}q===void 0&&(x=!0);const H=q==="prettier-ignore";if(M&&(_(),x=!1),A){const B=[];let N=T;do B.unshift(wn(N));while(l.has(N)&&wi(N=l.get(N)));k.push(B)}else{const B=M?S:k;if((!j||y!==f.length-1)&&B.push(j?Ae(xi(a)):Ci(T,t,n)),y<f.length-1&&!H)B.push(dd(a,f,y,y+1,l,d));else if((S.length||k.length)&&(_(),(x||!S.length||j)&&(!M||j)&&!m&&!b()&&(a!=="Paren"||S.length>1)&&(a==="Unenclosed"||a==="Curly"?n.semi:n.trailingComma&&n.trailingComma!=="none")&&!C()&&!(a==="Square"&&S.length===1&&!M))){const N=Ae(xi(a));S.push(a==="Unenclosed"&&M?N:yi(N))}H&&(A=!0)}}_();const O=S.length===0?[]:a==="Curly"&&n.bracketSpacing?_r:a==="Angle"?[]:jr,w=rd(s?m?[Ae(s[0][0]),S,Ae(s[1][0])]:[Ae(s[0][0]),ad([O,S]),O,Ae(s[1][0])]:S,{shouldBreak:u});return b()?Dt(w):w}else if(e.token_tree_type==="Token"){const[i]=e.data;return Ae(i)}throw new Error(`Unexpected token tree: ${JSON.stringify(e)}`)}function Ae(e){switch(e.token_type){case"Space":return Cn;case"Line":return bi;case"MultiLine":return[id];case"LineComment":return yi(e.data,`/* ${e.data.substring(2).trim()} */`)}return Te(e)}function dd(e,t,n,r,o,i){const a=nd.rules.find(([s,l])=>Pt(s,t,n,e)&&Pt(l,t,r,e));return a?vi(a[2],t[n],t[r],o,i):[]}const ki="motoko-tt-ast",ud={print:ld},Sr=e=>{if(e!=null&&e.token_tree_type){if(e.token_tree_type==="Token"){const[,t]=e.data;return t.span[1]}else if(e.token_tree_type==="Group"){const[t,n,r]=e.data;if(r){const[,o]=r[0];return o.span[0]}else return t.length?Sr(t[0]):0}}throw new Error(`Unexpected token tree: ${JSON.stringify(e)}`)},pd=e=>{if(e!=null&&e.token_tree_type){if(e.token_tree_type==="Token"){const[,t]=e.data;return t.span[1]}else if(e.token_tree_type==="Group"){const[t,n,r]=e.data;if(r){const[,o]=r[1];return o.span[1]}else return t.length?Sr(t[t.length-1]):0}}throw new Error(`Unexpected token tree: ${JSON.stringify(e)}`)},hd=[".","|>",")","}","]"];function fd(e){const t=[];for(let n=0;n<e.length;n++)e[n]===`
`&&t.push(n);return t}function md(e){const t=[];let n=!1,r=0;for(let o=0;o<e.length;o++)e[o]==='"'&&(o===0||e[o-1]!=="\\")&&(n?(t.push([r,o]),n=!1):(n=!0,r=o));return t}function gd(e,t){let n="",r=0;for(const[o,i]of t)n+=e.substring(r,o),n+=e.substring(o,i).replace(/[^\s]/g," "),r=i;return n+=e.substring(r),n}function yd(e,t){if(e=e.replace(/\t/g," ".repeat(t.tabWidth)),e=e.replace(/[ \t]+(?=\r?\n)/g,""),e=wm.replace(e),t.semi){const n=vn.find_comments(e),r=gd(e,n),o=md(r),i=[...n,...o],a=e.split(`
`).reverse(),s=r.split(`
`).reverse(),l=fd(e).reverse();e=a.map((d,h)=>{const u=d.trim();if(!u)return d;let f=0;for(;f<d.length&&d.charAt(f)===" ";)f++;const m=(s[h-1]||"").trim(),b=l[h-1];return u==="}"&&(!m||hd.every(C=>!m.startsWith(C)))&&!/^(else|catch|finally)([^a-zA-Z0-9_]|$)/.test(m)&&(b===void 0||!i.some(([C,S])=>C<=b&&b<S))&&(d+=";"),d}).reverse().join(`
`)}return e}function bd(e,t,n){return arguments.length===2&&(n=t,t={}),e=yd(e,n),vn.parse_token_tree(e.trim())}const _i="motoko-tt-parse",vd={astFormat:ki,parse:bd,locStart:Sr,locEnd:pd},wd={linguistLanguageId:202937027,name:"Motoko",aceMode:"text",tmScope:"source.mo",extensions:[".mo",".did"],parsers:[_i],vscodeLanguageIds:["motoko"],interpreters:[]},xd=[wd],Cd={[_i]:vd},kd={[ki]:ud},_d={},jd={};Ql(xm);const Sd=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:jd,languages:xd,options:_d,parsers:Cd,printers:kd},Symbol.toStringTag,{value:"Module"})),Ed=`# M0003

This error means that a module tried to import itself.

Erroneous code example (file is called \`Self.mo\`):

\`\`\`motoko
import S "./Self"; // import error, file Self.mo must not depend on itself

module { ... }
\`\`\`

If you encounter this error you should probably remove the offending import.
`,Od=`# M0037

If you get this error then you are trying to message from a
block or expression that has no send capability, such as the
top level of an \`actor\`.

You can also get this error when you are trying to message or
\`throw\` an error from the \`finally\` clause of a \`try\` block.

\`finally\` clauses are generally used to clean up local state
in the event of messaging failures, and are especially invoked when
the processing of an \`await\` result traps. In this last-resort cleanup
only local manipulations are allowed to (e.g.) release locks and thus
prevent the canister from ending up in a stuck state.

Should you encounter this error, so make sure that you move all messaging
code out of the \`finally\` block. In all other cases where send capability
is available, wrapping the indicated expression in an \`async\` can help.

`,Td=`# M0137

This error means that you declared a type or class that explicitly or implicitly references
an outer type parameter.

Erroneous code examples:

\`\`\`motoko
class C<T>(){
  type U = T; // type U mentions parameter T of class C
};
\`\`\`

\`\`\`motoko
class D<T>(){
  class E(x : T) {
    public let y : T = x; // class E mentions parameter T of class D in a field
  };
}
\`\`\`

To avoid this error, try parameterizing the inner types.

\`\`\`motoko
class C<T>(){
  type U<T1> = T1;
};
\`\`\`

\`\`\`motoko
class D<T>(){
  class E<T1>(x : T1) {
    public let y : T1 = x;
  };
}
\`\`\`

This is a temporary restriction of Motoko that we hope to remove in future.
`,Ad="# M0149\n\nThis error means that you supplied an immutable record field (declared without `var`), where a mutable record field (specified with `var`), was expected.\n\nErroneous code example:\n\n```motoko\n{ count = 0 } : { var count : Nat }\n```\n\nIf you encounter this error, you should probably insert the `var` keyword:\n\n```motoko\n{ var count = 1 } : { var count : Nat }\n```\n",Md='# M0150\n\nThis error means you supplied a mutable record field (declared with `var`) where an immutable record field (specified without `var`) was expected.\n\nErroneous code example:\n\n```motoko\n{ var name = "Fred" } : { name : Text }\n```\n\nIf you encounter this error, you should probably omit `var`:\n\n```motoko\n{ name = "Fred" } : { name : Text }\n```\n',Nd=`# M0151

This error means that a object literal is missing some fields, maybe because of a typo.

Erroneous code examples:

\`\`\`motoko
{ first_name = "Fred" } : { firstName : Text }
{ firstName = "Fred" } : { firstName : Text; lastName : Text }
\`\`\`

If you encounter this error, you need to add the missing field name to the
object literal.

\`\`\`motoko
{ firstName = "Fred" } : { firstName : Text }
{ firstName = "Fred"; lastName = "Flintstone" } : { firstName : Text; lastName : Text }
\`\`\`
`,Dd=`# M0153

This error means that an imported Candid file (\`.did\`) mentions types that
cannot be represented in Motoko. These are

* \`float32\`
* \`service\` types with method names that are not identifiers, e.g. because
  they contain special characters.

If you encounter this error, and you can, you should avoid these types in the
service\u2019s interface. If you have no control over the interface, you cannot
interact with it from Motoko.
`,Pd=`# M0154

You are using a field (typically a module field) that has a deprecation annotation
attached to its definition, e.g.

\`\`\`motoko
module SomeModule {

  /// @deprecated The foo function is deprecated and will be removed next release
  public func foo() {}

}
\`\`\`

The warning should include an explanation provided by the author of that code.
`,Rd=`# M0155

This warning indicates that the type of a subtraction operation had to be deduced from its operands and was inferred to be \`Nat\`.
That implies that it traps when the result is negative, which may be unintentional.

Offending code examples:

\`\`\`motoko
func f(n : Nat) {
  if (n < 10) { return };
  let m = 2 * (n - 1);
};

func g(n : Nat) {
  if (n - 1 < 10) { return };
};
\`\`\`

If the subtraction was indeed intended to have a \`Nat\` result, you can let the compiler know by annotating the intended type explicitly:

\`\`\`motoko
func f(n : Nat) {
  let m : Nat = 2 * (n - 1);
};
\`\`\`

If the intended type was \`Int\`, however, you can either annotate it as such:

\`\`\`
func f(n : Nat) {
  let m : Int = 2 * (n - 1);
};
\`\`\`

Or you can insert a sign operator \`+\`, which also forces the expression to be of type \`Int\`:

\`\`\`
func f(n : Nat) {
  let m = 2 * (+n - 1);
};
\`\`\`

This latter possibility is particularly convenient in the case of comparisons, because it is always okay to perform them at type \`Int\`:

\`\`\`
func g(n : Nat) {
  if (+n - 1 < 10) { return };
};
\`\`\`
`,Id="# M0156\n\nThis error means that a parameterized type definition, or set of type definitions, is too complicated for Motoko to accept.\n\nMotoko rejects type definitions that are expansive, in the sense that unfolding type definitions may produce an ever-expanding set of types.\n\nFor example, the type definition:\n\n```motoko\ntype List<T> = ?(T, List<T>);\n```\n\nthat recursively instantiates `List` at the same parameter `T`, is non-expansive and accepted, but the similar looking definition:\n\n```motoko\ntype Seq<T> = ?(T, Seq<[T]>);\n```\n\nthat recursively instantiates `Seq` with a larger type, `[T]`, containing `T`, is *expansive* and rejected.\n\nIf you encounter this error, try to restructure your type definitions to be non-expansive.\n",$d=`# M0157

This error means that a type definition, or set of type definitions, is ill-defined.

A type is _productive_ if recursively expanding any outermost type constructor in its definition
eventually produces a type other than the application of a type constructor.

Motoko requires all type declarations to be productive.

For example, the type definitions:

\`\`\`motoko
type Person = { first : Text; last : Text };

type List<T> = ?(T, List<T>);

type Fst<T, U> = T;

type Ok<T> = Fst<Any, Ok<T>>;
\`\`\`

are all productive and legal.

But the type definitions,

\`\`\`motoko
type C = C;

type D<T, U> = D<U, T>;

type E<T> = F<T>;
type F<T> = E<T>;

type G<T> = Fst<G<T>, Any>;
\`\`\`

are all non-productive, since each definition will enter a loop after one or more
expansions of its body.

If you encounter this error, try to restructure your type definitions to be productive.
`,Fd=`# M0158

This error means that you declared a public class without providing it with a name.

Erroneous code example:

\`\`\`motoko
public class () {};
\`\`\`

If you encounter this error, you should probably name the class or make it private.

\`\`\`motoko
public class C() {};
\`\`\`

Public fields must be named since they determine the interface of the enclosing object.
`,Ld='# M0194\n\nThis warning means that you defined an identifier without\nreferencing it later, a good indicator of dead code.\n\nDubious code example:\n\n```motoko\nlet nickname = "klutz";\n// code that never uses `nickname`\n```\n\nIf you encounter this warning, you can either delete the definition (if the code has no other side-effect),\n\n```motoko\n// code that never uses `nickname`\n```\n\nreplace it by a wildcard pattern:\n\n```motoko\nlet _ = "klutz";\n// code that never uses `nickname`\n```\n\nor just prefix the identifier with an underscore:\n\n```motoko\nlet _nickname = "klutz";\n// code that never uses `nickname`\n```\n',zd=`# M0195

This warning means that you called a function that demands elevated (\`system\`) capabilities,
without manifestly passing the capability.

`,Wd=`# M0197

This error means that you tried to call a function that requires (\`system\`) capabilities,
in a context that does not provide them.

Only actor bodies, async expressions, non-query async function bodies and
local functions with a leading \`system\` type parameter have system capabilities.

`,Ud=`# M0198

This warning means that you specified a field identifier in an object pattern without referencing this identifier later, a good indicator of dead code.

Dubious code example:

\`\`\`motoko
import Debug "mo:base/Debug";

let person = { firstName = "Anna"; secondName = "Smith" };

let { firstName; secondName } = person;
Debug.print(firstName);

// secondName is not used
\`\`\`

If you encounter this warning and the identifier is indeed not needed, 
you can either remove the field identifier from the object pattern,

\`\`\`motoko
import Debug "mo:base/Debug";

let person = { firstName = "Anna"; secondName = "Smith" };

let { firstName } = person;
Debug.print(firstName);
\`\`\`

bind the field to a wildcard pattern:

\`\`\`motoko
import Debug "mo:base/Debug";

let person = { firstName = "Anna"; secondName = "Smith" };

let { firstName; secondName = _ } = person;
Debug.print(firstName);

// secondName is not needed
\`\`\`

or bind the field to an identifier with an underscore prefix:

\`\`\`motoko
import Debug "mo:base/Debug";

let person = { firstName = "Anna"; secondName = "Smith" };

let { firstName; secondName = _secondName } = person;
Debug.print(firstName);

// secondName is not needed
\`\`\`
`,qd="# M0199\n\nThis error or warning means that your code is either directly or indirectly using the now deprecated library `ExperimentalStableMemory.mo` (or its supporting compiler primitives).\n\nThe library works as advertised but is a potential hazard as the resource it provides access to is shared between all clients of the library.\nThis means that a library may unintentionally or maliciously read or modify data maintained by your application, or by another library imported by your application.\n\nIf possible, please upgrade your code to use library `Region.mo` instead.\nThis improved library offers a similar abstraction, but instead of a single memory that is implicitly accessible to all callers, it provides multiple memories.\nThese memories, called regions, are isolated from each other and inaccessible unless a region is explicitly shared between libraries.\n\nThe `moc` compiler flag `--experimental-stable-memory <n>` flag controls the production of this error or warning message, allowing your code to compile as before:\n* n < 0: error on use of stable memory primitives.\n* n = 0: warn on use of stable memory primitives (the default).\n* n > 1: warning-less use of stable memory primitives (for legacy applications).\n\nI.e. if your application cannot easily be upgraded to use `Regions.mo` and still requires access to `ExperimentalStableMemory.mo`, you can opt-in to legacy support for `ExperimentalStableMemory.mo` using the `moc` compiler flag `--experimental-stable-memory 1`.\n",Hd={M0003:Ed,M0037:Od,M0137:Td,M0149:Ad,M0150:Md,M0151:Nd,M0153:Dd,M0154:Pd,M0155:Rd,M0156:Id,M0157:$d,M0158:Fd,M0194:Ld,M0195:zd,M0197:Wd,M0198:Ud,M0199:qd},Bd=e=>{Xl(e,{snippets:!0}),e.languages.registerDocumentFormattingEditProvider("motoko",{async provideDocumentFormattingEdits(t,n,r){const o=t.getValue(),i=await Cm.format(o,{plugins:[Sd],filepath:"*.mo"});return[{range:t.getFullModelRange(),text:i}]}}),e.languages.registerHoverProvider("motoko",{provideHover(t,n,...r){for(const o of e.editor.getModelMarkers()){const i=new e.Range(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn),a=Hd[o.code];if(a&&i.containsPosition(n))return{range:i,contents:[{value:`\`\`\`text
${o.message}
\`\`\``},{value:a.replace(/^# M[0-9]+\s+/,"")}]}}}})},Vd=()=>{const[e,t]=p.useState([]);return{clearLogs:()=>t([]),log:n=>{const r=new Date(Date.now()).toLocaleTimeString();t(o=>[...o,typeof n=="string"?`[${r}] ${n}`:c.jsx(p.Fragment,{children:n})])},logLines:e}},Gd={clearLogs(){},log(e){},logLines:[]},ji=p.createContext(Gd);function Kd({children:e}){const t=Vd();return c.jsx(ji.Provider,{value:t,children:e})}const Si=()=>p.useContext(ji),Yd="data:image/svg+xml,%3csvg%20width='12'%20height='8'%20viewBox='0%200%2012%208'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.11523%207.16211C6.42578%207.15625%206.67773%207.04492%206.92383%206.79297L11.2305%202.38086C11.418%202.19336%2011.5059%201.97656%2011.5059%201.70703C11.5059%201.16797%2011.0664%200.722656%2010.5332%200.722656C10.2695%200.722656%2010.0176%200.833984%209.8125%201.03906L6.12109%204.86523L2.41797%201.03906C2.21875%200.839844%201.9668%200.722656%201.69727%200.722656C1.16406%200.722656%200.724609%201.16797%200.724609%201.70703C0.724609%201.9707%200.818359%202.19336%201%202.38672L5.30664%206.79297C5.56445%207.04492%205.81055%207.16211%206.11523%207.16211Z'%20fill='%23818284'/%3e%3c/svg%3e",Jd=E(fr)`
  padding: 0 0;
  height: 2.4rem;
  border-top: 1px solid var(--grey300);
  display: flex;
  align-items: stretch;
`,Zd=E.div`
  flex: 1;
  height: var(--consoleHeight);
  overflow: auto;
  padding-left: 0.5rem;
`,Xd=E.button`
  background: none;
  border: none;
  box-shadow: none;
`,Qd=E.img`
  ${e=>e.isExpanded?"":"transform: rotate(180deg);"}
`,Ei=E.button`
  padding: 0 1rem;
  background: ${e=>e.active?"var(--grey200)":"transparent"};
  border: none;
  cursor: pointer;
  border-right: 1px solid var(--grey300);
`,eu=E.div`
  height: calc(var(--consoleHeight) - 2.4rem);
  padding: 0.5rem;
  margin-left: 1rem;
  overflow: hidden;
  display: ${e=>e.isActive?"block":"none"};
`,Er=new Mm.FitAddon;function tu({setConsoleHeight:e,terminal:t}){const[n,r]=p.useState("log"),o=p.useRef(null),[i,a]=p.useState(!0),s=p.useRef(null),l=Si();return p.useEffect(()=>{o.current&&t&&!o.current.querySelector(".xterm")&&(t.loadAddon(Er),t.open(o.current),Er.fit())},[t]),p.useEffect(()=>{const d=new ResizeObserver(()=>{n==="terminal"&&Er.fit()});return o.current&&d.observe(o.current),()=>d.disconnect()},[n]),p.useEffect(()=>{s&&s.current&&s.current.scrollIntoView({behavior:"smooth"})},[l.logLines.length]),p.useEffect(()=>{e(i?"24rem":"3rem")},[i]),c.jsxs(c.Fragment,{children:[c.jsxs(Jd,{children:[c.jsx(Ei,{active:n==="log",onClick:()=>r("log"),children:"Log"}),c.jsx(Ei,{active:n==="terminal",onClick:()=>r("terminal"),children:"Terminal"}),c.jsx(Cr,{children:c.jsx(Xd,{onClick:()=>a(!i),children:c.jsx(Qd,{isExpanded:i,src:Yd,alt:"Caret icon"})})})]}),c.jsx(Zd,{style:{display:n==="log"?"block":"none"},children:l.logLines.map((d,h)=>c.jsx("div",{ref:h===l.logLines.length-1?s:null,children:p.isValidElement(d)?d:c.jsx("pre",{style:{whiteSpace:"normal",margin:0},children:String(d)})},h))}),c.jsx(eu,{ref:o,isActive:n==="terminal"})]})}const nu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAhCAYAAABN2CLhAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANYSURBVHgBzVjRcdswDIXu+l93gioT1J2gygTxBsoGcSawN4g3sDNBugGzgTNB6S4QuwsYJY5QDUGgTNlOk3eHkw2C4CMIQqQKeGMgYhUe34J8YdVLkOeiKHbw0RDI3gXZYhrLICV8FAQyM8yDDzKGgSjgwuDoeaGiNHiEmBbUdhNEE70O6fIM7wWKnIrm2LC55Sg32L5rqoTBR9jO5bVFiHSK+Dp3jEHpQYTCYwJxmb+y+jeoisDRdUFGbLMJMg/tj8of+VkLu0WwuYdLgKPi8DiWGEucFcmmvVS+K2VTwbnA46XLgmvIhedctfkgtRpjqtpHcCrQLl0uyALjZrplUs7mHiOL9kotUUQd25Nz/H8yhC85mRhkqx77ErtVoYnclG10u5c+w+8VdkE2M8iBcr6CAeAoWeRrnpwm94Cx6pDQKj4Z/R32pQ1H5N9gcAIS5AhUAmkVZ0p/k+DhJXHSF4kBiWjJf69CGdqodippJJ+D/IFY0l6sQxDbPgl/Fjah71WCSwmxfDb977UBzX6rZ6ZsJpjGEhNvNrTzHXm8sWFbi/+VtJeGD2gsozF4hf0gElNIgPtTGZ3zc9Tj/0boXaOUxhIV9AAPZYxkzJFxykcNJwDjZvSoziMoarkkIXFSccd2re0s+0DiegUmLdKslLnsmcDgQRVxBxeCTBupnGIXHk84MqpUqRI2FM07tqVxZn1joSifusHKTXI4KD+xvZmsCtR3nnG8Ws0x4U5xeoWeKHiD/BJjbhGpZiOOEj7kQCPW0aZdGySfMA97mkhftKyjpQWyKY9Em8ppjd19Uwl7mtBCTGov5Bf7yNtjaJ8jcolvM/otMX2zSa5kLvkKD4cZxyJJWW+2OeaB+mbvm6zrFsZlJKFZ07mErlh0zqA3lnz7kY5u1i/cj+znEK9jGxZCyVKz3waXuZVj/jeMZMSP+F+IvufXdey+KT1283TLA3ulqzL8F0G+S/+QgU9H2kvxm27b13JC4bETN/AVxJs1gdLCBd2z+N9sqB3LBuKx9ocYYwvnAtsfXswPKnh4s3k8D1TaTjpkWcSdcr7GQ/XwxuCkXxl6mjTV21ds1+A966ZwKeCwl0xt9DVrLcZVpDL6dh8gMb4+K4hflko45CWVv5//8wPiXyySzE5+FvwCAAAAAElFTkSuQmCC",ru="/assets/icon-spin-LR1bPjGO.gif";function Oi(e){return Object.entries(e).map(([t,n])=>[t,n.id.toText()])}function Ti(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>!n.isExternal))}function ou(e){const t=Object.entries(e.files).filter(([o,i])=>o.endsWith(".mo")).map(([o,i])=>({name:o,content:i})),n=[Object.entries(e.packages).filter(([o,i])=>o!=="base").map(([o,i])=>({name:i.name,repo:i.repo,version:i.version,dir:i.dir?[i.dir]:[],homepage:i.homepage?[i.homepage]:[]}))],r=[Object.values(e.canisters).filter(o=>o.isExternal&&o.name&&o.candid).map(o=>({id:o.id,name:o.name,candid:o.candid}))];return{files:t,packages:n,canisters:r}}function Ai(e,t){const n=Object.entries(e).filter(([i])=>!i.endsWith(".mo")).reduce((i,[a,s])=>{const l=a.split("/");let d=i;for(let h=0;h<l.length-1;h++)d[l[h]]||(d[l[h]]={directory:{}}),d=d[l[h]].directory;return d[l[l.length-1]]={file:{contents:s}},i},{}),{env:r,env_files:o}=Mi(t??{});return Object.entries(o).forEach(([i,a])=>{n[i]=a}),{files:n,env:r}}function Mi(e){const t={DFX_NETWORK:"ic",NODE_ENV:"production"},n={};Object.entries(e).forEach(([o,i])=>{i.name&&i.candid&&!i.isFrontend&&(t[`CANISTER_ID_${o.toUpperCase()}`]=i.id.toString(),n[o]={ic:i.id.toString()})});const r={"canister_ids.json":{file:{contents:JSON.stringify(n,null,2)}},".env":{file:{contents:Object.entries(t).map(([o,i])=>`${o}=${i}`).join(`
`)}}};return{env:t,env_files:r}}function iu(e){if("README"in e)return"README";if("README.md"in e)return"README.md";if("Main.mo"in e)return"Main.mo";const t=Object.keys(e);return t.length?t.find(n=>n.endsWith("Main.mo"))||t[0]:null}const Ni={init(e){return{files:{"Main.mo":""},selectedFile:"Main.mo",canisters:{},selectedCanister:null,packages:{},origin:{origin:"playground",tags:[],session_tags:[]}}},reduce(e,t){switch(t.type){case"loadProject":return{...e,files:t.payload.files,selectedFile:iu(t.payload.files)};case"loadPackage":return{...e,packages:{...e.packages,[t.payload.name]:t.payload.package}};case"reset":return this.init(t.payload);case"selectFile":return{...e,selectedFile:t.payload.path};case"selectCanister":return{...e,selectedCanister:t.payload.name};case"deleteCanister":{const n=t.payload.name;return delete e.canisters[n],{...e,selectedCanister:e.selectedCanister===n?null:e.selectedCanister}}case"saveFile":return{...e,files:{...e.files,[t.payload.path]:t.payload.contents}};case"deployWorkplace":{const n=t.payload.canister.name;return{...e,selectedCanister:t.payload.do_not_select?e.selectedCanister:n,canisters:{...e.canisters,[n]:t.payload.canister}}}case"setOrigin":{let n=document.referrer||window.opener&&"(opener)"||void 0;return n&&t.payload.tags.push(`ref:${n}`),{...e,origin:t.payload}}case"addSessionTag":return e.origin.session_tags?e.origin.session_tags.push(t.payload):e.origin.session_tags=[t.payload],e;case"clearSessionTags":return{...e,origin:{origin:e.origin.origin,tags:e.origin.tags,session_tags:[]}}}return e}},$e=p.createContext(()=>{console.warn("using default WorkplaceDispathcContext. Make sure to Provide one in your component tree")}),Me=p.createContext(()=>{console.warn("provide a value for worker")}),kn=p.createContext(()=>{console.warn("provide a value for web container")});function Di(e,t){e.forEach(n=>{const{message:r,severity:o,source:i,range:{start:a},code:s}=n,l=`${o===1?"Error":"Warning"} [${s}] in file ${i}:${a.line}:${a.character}   ${r}`;t.log(l)})}function Pi(e,t){let n=WebAssembly.Module.customSections(e,`icp:public ${t}`);if(n.length===0&&(n=WebAssembly.Module.customSections(e,`icp:private ${t}`)),n.length===0)return;const r=new TextDecoder,o=new Uint8Array(n[0]);return r.decode(o)}async function au(e){const t=await WebAssembly.compile(e),n=Pi(t,"candid:service");if(!n)throw new Error("Cannot find candid:service metadata in Wasm module");const r=Pi(t,"candid:args");return[n,r]}async function su(e,t){const n=new Set,r=new Set;async function o(i){if(n.has(i))return;n.add(i);const a=await e.Moc({type:"printDeps",file:i});for(const s of a.split(`
`))if(s.indexOf(":")>0)s.startsWith("mo:base/")&&r.add(s.slice(8));else{const l=s.split(" ");l.length===2&&await o(l[1])}}return await o(t),Array.from(r)}async function cu(e,t,n){const r=await e.Moc({type:"candid",file:t});r.diagnostics&&Di(r.diagnostics,n);const o=r.code;if(o){if(o.trim()===""){n.log(`cannot deploy: ${t} has no actor`);return}}else{n.log("cannot deploy: syntax error");return}return o}async function lu(e,t,n){n.log("Compiling code...");const r=await e.Moc({type:"compile",file:t});if(r.diagnostics&&Di(r.diagnostics,n),r.code===null){n.log("syntax error");return}if(r.code.candid.trim()===""){n.log(`cannot deploy: ${t} has no actor`);return}if(r.code.stable===null){n.log(`cannot deploy: ${t} cannot generate stable signature`);return}n.log(`Compiled Wasm size: ${Math.floor(r.code.wasm.length/1024)}KB`);let o=[];return r.diagnostics&&(o=r.diagnostics.map(i=>i.code)),[r.code,o]}async function Ri(e,t,n,r,o,i,a,s,l,d,h){try{d.log("Deploying code...");let u=null;if(n){if(o!=="reinstall"&&o!=="upgrade")throw new Error(`Unknown mode ${o}`)}else{if(o!=="install")throw new Error(`Cannot ${o} for new canister`);d.log("Requesting a new canister id..."),n=await du(e,d,h)}return a?u=await pu(n,i,r,o,d,h):u=await hu(n,i,r,o,s,l,d,h),u.name=t,u}catch(u){throw d.log(u.message),u}}function Or(e,t){const n=e.session_tags&&t?e.tags.concat(e.session_tags):e.tags;return{origin:e.origin,tags:[...new Set(n)]}}async function du(e,t,n){const r=BigInt(Date.now())*BigInt(1e6),o=await e.pow(r),i=await Re.getCanisterId(o,Or(n,!1));return t.log(`Got canister id ${i.id}`),{id:i.id,isExternal:!1,timestamp:i.timestamp}}async function uu(e){await Re.removeCode(e)}async function pu(e,t,n,r,o,i){if(!e)throw new Error("no canister id");const a={arg:[...n],wasm_module:[...t],mode:{[r]:null},canister_id:e.id},s=await Re.installStoredWasm(e,a,Or(i,!0));return o.log(`Asset canister installed at canister id ${s.id}`),s}async function hu(e,t,n,r,o,i,a,s){if(!e)throw new Error("no canister id");const l=e.id,d={arg:[...n],wasm_module:[...t],mode:{[r]:null},canister_id:l},h=o&&i?[16]:[],u={profiling:o,is_whitelisted:!1,origin:Or(s,!0),start_page:h,page_limit:[]};return e=await Re.installCode(e,d,u),a.log(`Code installed at canister id ${e.id}`),e}function fu(e){const t=e.split("/"),n=t.pop().toLowerCase();if(n==="main.mo"&&t.length)return t.pop().toLowerCase();{const r=n.lastIndexOf(".");return r===-1?n:n.slice(0,r)}}const mu=[/^https?:\/\/(localhost|127\.0\.0\.1)(:[0-9]+)?$/,"https://blocks-editor.github.io"],_n={};let jn;async function gu(e,t,n){if(jn)return jn;const r=async o=>{var i;o.type==="workplace"&&(o.actions&&o.actions.forEach(a=>{t(a)}),o.packages&&await Promise.all(o.packages.map(async a=>{await n.fetchPackage(a),t({type:"loadPackage",payload:{name:a.name,package:a}})})),o.deploy&&await((i=_n.deploy)==null?void 0:i.call(_n)))};return window.addEventListener("message",async({origin:o,source:i,data:a})=>{try{if(!mu.some(s=>s instanceof RegExp?s.test(o):s===o))return;if(typeof a=="string"&&a.startsWith(e)){const s=JSON.parse(a.substring(e.length));if(await r(s),!(i instanceof MessagePort)){const l={acknowledge:s.acknowledge};i==null||i.postMessage(`${e}${JSON.stringify(l)}`,{targetOrigin:o})}}await t({type:"setOrigin",payload:{origin:"playground",tags:[`post:${o}`]}})}catch(s){console.error("Error in editor integration message listener:"),console.error(s)}},!1),jn={files:{"Main.mo":""}},jn}const yu=E.div`
  display: flex;
  flex-direction: column;
  flex: 1;
  height: var(--appHeight);
  border: 1px solid var(--grey300);
  border-top: none;
  border-bottom: none;
  max-width: calc(100vw - var(--explorerWidth) - var(--candidWidth));
`,Ii=E.div`
  height: calc(var(--editorHeight) - var(--consoleHeight) - 2.4rem);

  .margin {
    background-color: var(--grey200) !important;
    width: 5.5ch !important;
  }
  ${e=>e.isHidden?"display: none;":""}
`,bu=E(Ii)`
  overflow: auto;
  padding: 2rem;
`,vu=E.div`
  color: #888;
  display: flex;
  align-content: center;
  text-transform: none;

  a {
    display: inline-block;
    padding-left: 0.5rem;
    padding-right: 1rem;
  }
`;function wu(e,t,n,r){const o=[];e.forEach(i=>{if(i.source!==r)return;const a=i.severity===1?n.MarkerSeverity.Error:n.MarkerSeverity.Warning,s={startLineNumber:i.range.start.line+1,startColumn:i.range.start.character+1,endLineNumber:i.range.end.line+1,endColumn:i.range.end.character+1,message:i.message,code:i.code,severity:a};o.push(s)}),n.editor.setModelMarkers(t,"moc",o)}function xu(e){if("main.mo"in e)return"main.mo";if("Main.mo"in e)return"Main.mo";const t=Object.keys(e).filter(n=>n.endsWith(".mo"));return t.length===1?t[0]:""}function Cu({state:e,logger:t,terminal:n,setConsoleHeight:r,deploySetter:o,isDeploying:i}){const a=p.useContext(Me),s=p.useContext($e),l=p.useContext(kn),[d,h]=p.useState(!1),u=e.selectedFile;var f=(u==null?void 0:u.split(".").pop())??"";u==="README"&&(f="md");const m=u?e.files[u]:"",b=f==="mo"?u:xu(e.files),C="package.json"in e.files&&f!=="mo"&&f!=="md",S=gl(),k=async()=>{if(!u||f!=="mo")return;const T=(await a.Moc({type:"check",file:u})).diagnostics;wu(T,S==null?void 0:S.editor.getModel(`file:///${u}`),S,u)},A=Wl(async()=>{const T=x.current;if(!T)return;const j=T.getValue();s({type:"saveFile",payload:{path:u,contents:j}}),f!=="mo"?await l.writeFile(`user/${u}`,j):(await a.Moc({type:"save",file:u,content:j}),await k())},1e3,{leading:!1}),x=p.useRef(),_=T=>{x.current=T,T.onKeyDown(j=>{(j.ctrlKey||j.metaKey)&&j.shiftKey&&j.browserEvent.key==="f"&&(j.stopPropagation(),j.preventDefault(),w())})},O=T=>{A()},w=()=>{var T;h(!0),(T=x.current)==null||T.getAction("editor.action.formatDocument").run()},y=async()=>{if(C){o.setShowFrontendDeployModal(!0);return}const T=Oi(e.canisters);if(await a.saveWorkplaceToMotoko(e.files),await a.Moc({type:"setActorAliases",list:T}),!b){t.log("Select a main entry file to deploy");return}const j=await cu(a,b,t);if(j){const M=(await ei(j)).init({IDL:qa});await o.setInitTypes(M),await o.setCandidCode(j),await o.setWasm(void 0),await o.setMainFile(b),await o.setShowDeployModal(!0)}};return _n.deploy=y,p.useEffect(()=>{S&&k()},[S,e]),c.jsxs(yu,{children:[c.jsxs(fr,{children:["Editor",c.jsxs(Cr,{children:[f==="mo"&&c.jsxs(c.Fragment,{children:[!!d&&c.jsxs(vu,{children:["Formatting is experimental.",c.jsx("a",{href:"https://github.com/dfinity/prettier-plugin-motoko/issues",target:"_blank",rel:"noreferrer",children:"Report bugs here."})]}),c.jsx(ue,{onClick:w,variant:"secondary",small:!0,children:c.jsx("p",{children:"Format"})})]}),c.jsxs(ue,{onClick:y,disabled:i,variant:"primary",small:!0,children:[c.jsx("img",{src:i?ru:nu,alt:"Rabbit icon"}),c.jsx("p",{children:i?"Deploying...":C?"Deploy Frontend":"Deploy Backend"})]})]})]}),c.jsx(bu,{isHidden:f!=="md",children:c.jsx(km,{linkTarget:"_blank",children:f==="md"?m:""})}),c.jsx(Ii,{isHidden:f==="md",children:c.jsx(Cl,{defaultLanguage:"motoko",value:f==="md"?"":m,path:u,beforeMount:Bd,onMount:_,onChange:O,options:{minimap:{enabled:!1},wordWrap:"on",wrappingIndent:"indent",scrollBeyondLastLine:!1,fontSize:16,tabSize:2,fixedOverflowWidgets:!0}})}),c.jsx(tu,{setConsoleHeight:r,terminal:n})]})}const ku="data:image/svg+xml,%3csvg%20width='15'%20height='16'%20viewBox='0%200%2015%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.40527%2012.3779L6.78516%2015.4268C7.16797%2015.6455%207.53027%2015.6455%207.91992%2015.4268L13.293%2012.3779C13.9219%2012.0156%2014.25%2011.6602%2014.25%2010.6826V5.26855C14.25%204.55762%2013.9902%204.12012%2013.416%203.78516L8.57617%201.03711C7.74902%200.56543%206.94922%200.56543%206.12207%201.03711L1.28906%203.78516C0.708008%204.12012%200.448242%204.55762%200.448242%205.26855V10.6826C0.448242%2011.6602%200.783203%2012.0156%201.40527%2012.3779ZM10.5654%205.75391L5.26758%202.75977L6.58008%202.01465C7.10645%201.71387%207.5918%201.70703%208.125%202.01465L12.6299%204.58496L10.5654%205.75391ZM7.35254%207.57227L2.0752%204.58496L4.1875%203.375L9.46484%206.37598L7.35254%207.57227ZM2.02051%2011.4756C1.62402%2011.25%201.4873%2011.0244%201.4873%2010.6484V5.4873L6.8125%208.5293V14.2031L2.02051%2011.4756ZM12.6846%2011.4756L7.88574%2014.2031V8.5293L13.2109%205.4873V10.6484C13.2109%2011.0244%2013.0742%2011.25%2012.6846%2011.4756Z'%20fill='%23555659'/%3e%3c/svg%3e",_u="/assets/icon-canister-CxWenUiJ.svg",ju="data:image/svg+xml,%3csvg%20width='18'%20height='17'%20viewBox='0%200%2018%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.74121%2016.6406C13.2803%2016.6406%2017.0146%2012.9062%2017.0146%208.36719C17.0146%203.82031%2013.2803%200.0859375%208.7334%200.0859375C4.18652%200.0859375%200.459961%203.82031%200.459961%208.36719C0.459961%2012.9062%204.19434%2016.6406%208.74121%2016.6406ZM6.2334%2011.7734C5.71777%2011.7734%205.31934%2011.375%205.31934%2010.8516C5.31934%2010.6172%205.4209%2010.3906%205.59277%2010.2188L7.43652%208.375L5.59277%206.53125C5.4209%206.35938%205.31934%206.125%205.31934%205.89844C5.31934%205.375%205.71777%204.97656%206.2334%204.97656C6.51465%204.97656%206.72559%205.0625%206.90527%205.25L8.7334%207.07031L10.5771%205.24219C10.7646%205.05469%2010.9756%204.96875%2011.249%204.96875C11.7646%204.96875%2012.1631%205.36719%2012.1631%205.89062C12.1631%206.125%2012.0693%206.34375%2011.8896%206.52344L10.0537%208.375L11.8818%2010.2109C12.0615%2010.3906%2012.1631%2010.6172%2012.1631%2010.8516C12.1631%2011.375%2011.7568%2011.7734%2011.2412%2011.7734C10.9678%2011.7734%2010.7412%2011.6875%2010.5615%2011.5078L8.7334%209.6875L6.9209%2011.5078C6.7334%2011.6875%206.51465%2011.7734%206.2334%2011.7734Z'%20fill='%23818284'/%3e%3c/svg%3e",Sn="data:image/svg+xml,%3csvg%20width='26'%20height='26'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13%2025.4609C19.8086%2025.4609%2025.4102%2019.8594%2025.4102%2013.0508C25.4102%206.23047%2019.8086%200.628906%2012.9883%200.628906C6.16797%200.628906%200.578125%206.23047%200.578125%2013.0508C0.578125%2019.8594%206.17969%2025.4609%2013%2025.4609ZM7.29297%2013.0391C7.29297%2012.2305%207.87891%2011.6211%208.6875%2011.6211H11.582V8.72656C11.582%207.92969%2012.1797%207.33203%2012.9883%207.33203C13.7969%207.33203%2014.4062%207.92969%2014.4062%208.72656V11.6211H17.3008C18.0977%2011.6211%2018.6953%2012.2305%2018.6953%2013.0391C18.6953%2013.8477%2018.0977%2014.4453%2017.3008%2014.4453H14.4062V17.3516C14.4062%2018.1484%2013.7969%2018.7344%2012.9883%2018.7344C12.1797%2018.7344%2011.582%2018.1484%2011.582%2017.3516V14.4453H8.6875C7.87891%2014.4453%207.29297%2013.8477%207.29297%2013.0391Z'%20fill='url(%23paint0_linear)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear'%20x1='2.30147'%20y1='2.65809'%20x2='22.8669'%20y2='23.9326'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23767679'/%3e%3cstop%20offset='1'%20stop-color='%23414245'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",pt=E("button")`
  display: flex;
  align-items: center;
  width: 100%;
  height: 4rem;
  padding: 0 1.6rem;
  font-family: "CircularXX", sans-serif;
  font-size: 1.4rem;
  color: ${e=>e.isActive?"var(--colorPrimaryDark)":"var(--grey600)"};
  border: none;
  background-color: ${e=>e.isActive?"var(--colorPrimaryLight)":"var(--grey100)"};
  border-bottom: 1px solid var(--grey300);

  > p {
    margin: 0;
  }

  > *:not(:last-child) {
    margin-right: 0.8rem;
  }

  &:hover {
    color: var(--colorPrimary);
  }

  &[disabled] {
    cursor: default;

    &:hover {
      color: var(--grey600);
    }
  }
`,Su=E("div")`
  height: ${({dimensions:e})=>e.height};
  width: ${({dimensions:e})=>e.width};
  border: 1px solid var(--grey300);
  border-radius: 0.8rem;
  overflow: hidden;
`,Eu=E("div")`
  height: ${({dimensions:e})=>e.height};
  width: ${({dimensions:e})=>e.width};
  overflow-y: auto;
  border-radius: 0.8rem;

  > ${pt} {
    background-color: white;

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: var(--grey100);
    }
  }
`;function $i({height:e="auto",width:t="100%",children:n}){return c.jsx(Su,{dimensions:{height:e,width:t},children:c.jsx(Eu,{dimensions:{height:e,width:t},children:n})})}var Tr={exports:{}},Ve={},Fi={exports:{}},Ou="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tu=Ou,Au=Tu;function Li(){}function zi(){}zi.resetWarningCache=Li;var Mu=function(){function e(r,o,i,a,s,l){if(l!==Au){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zi,resetWarningCache:Li};return n.PropTypes=n,n};Fi.exports=Mu();var Wi=Fi.exports,Ar={exports:{}},ye={},Mr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n="none",r="contents",o=/input|select|textarea|button|object|iframe/;function i(u,f){return f.getPropertyValue("overflow")!=="visible"||u.scrollWidth<=0&&u.scrollHeight<=0}function a(u){var f=u.offsetWidth<=0&&u.offsetHeight<=0;if(f&&!u.innerHTML)return!0;try{var m=window.getComputedStyle(u),b=m.getPropertyValue("display");return f?b!==r&&i(u,m):b===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(u){for(var f=u,m=u.getRootNode&&u.getRootNode();f&&f!==document.body;){if(m&&f===m&&(f=m.host.parentNode),a(f))return!1;f=f.parentNode}return!0}function l(u,f){var m=u.nodeName.toLowerCase(),b=o.test(m)&&!u.disabled||m==="a"&&u.href||f;return b&&s(u)}function d(u){var f=u.getAttribute("tabindex");f===null&&(f=void 0);var m=isNaN(f);return(m||f>=0)&&l(u,!m)}function h(u){var f=[].slice.call(u.querySelectorAll("*"),0).reduce(function(m,b){return m.concat(b.shadowRoot?h(b.shadowRoot):[b])},[]);return f.filter(d)}e.exports=t.default})(Mr,Mr.exports);var Ui=Mr.exports;Object.defineProperty(ye,"__esModule",{value:!0}),ye.resetState=Ru,ye.log=Iu,ye.handleBlur=Rt,ye.handleFocus=It,ye.markForFocusLater=$u,ye.returnFocus=Fu,ye.popWithoutFocus=Lu,ye.setupScopedFocus=zu,ye.teardownScopedFocus=Wu;var Nu=Ui,Du=Pu(Nu);function Pu(e){return e&&e.__esModule?e:{default:e}}var ht=[],ft=null,Nr=!1;function Ru(){ht=[]}function Iu(){}function Rt(){Nr=!0}function It(){if(Nr){if(Nr=!1,!ft)return;setTimeout(function(){if(!ft.contains(document.activeElement)){var e=(0,Du.default)(ft)[0]||ft;e.focus()}},0)}}function $u(){ht.push(document.activeElement)}function Fu(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{ht.length!==0&&(t=ht.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function Lu(){ht.length>0&&ht.pop()}function zu(e){ft=e,window.addEventListener?(window.addEventListener("blur",Rt,!1),document.addEventListener("focus",It,!0)):(window.attachEvent("onBlur",Rt),document.attachEvent("onFocus",It))}function Wu(){ft=null,window.addEventListener?(window.removeEventListener("blur",Rt),document.removeEventListener("focus",It)):(window.detachEvent("onBlur",Rt),document.detachEvent("onFocus",It))}var Dr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=Ui,r=o(n);function o(s){return s&&s.__esModule?s:{default:s}}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?i(s.activeElement.shadowRoot):s.activeElement}function a(s,l){var d=(0,r.default)(s);if(!d.length){l.preventDefault();return}var h=void 0,u=l.shiftKey,f=d[0],m=d[d.length-1],b=i();if(s===b){if(!u)return;h=m}if(m===b&&!u&&(h=f),f===b&&u&&(h=m),h){l.preventDefault(),h.focus();return}var C=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=C!=null&&C[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(S){var k=d.indexOf(b);if(k>-1&&(k+=u?-1:1),h=d[k],typeof h>"u"){l.preventDefault(),h=u?m:f,h.focus();return}l.preventDefault(),h.focus()}}e.exports=t.default})(Dr,Dr.exports);var Uu=Dr.exports,be={},qu=function(){},Hu=qu,ve={},qi={exports:{}};(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(qi);var Bu=qi.exports;Object.defineProperty(ve,"__esModule",{value:!0}),ve.canUseDOM=ve.SafeNodeList=ve.SafeHTMLCollection=void 0;var Vu=Bu,Gu=Ku(Vu);function Ku(e){return e&&e.__esModule?e:{default:e}}var En=Gu.default,Yu=En.canUseDOM?window.HTMLElement:{};ve.SafeHTMLCollection=En.canUseDOM?window.HTMLCollection:{},ve.SafeNodeList=En.canUseDOM?window.NodeList:{},ve.canUseDOM=En.canUseDOM,ve.default=Yu,Object.defineProperty(be,"__esModule",{value:!0}),be.resetState=ep,be.log=tp,be.assertNodeList=Hi,be.setElement=np,be.validateElement=Pr,be.hide=rp,be.show=op,be.documentNotReadyOrSSRTesting=ip;var Ju=Hu,Zu=Qu(Ju),Xu=ve;function Qu(e){return e&&e.__esModule?e:{default:e}}var he=null;function ep(){he&&(he.removeAttribute?he.removeAttribute("aria-hidden"):he.length!=null?he.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(he).forEach(function(e){return e.removeAttribute("aria-hidden")})),he=null}function tp(){}function Hi(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function np(e){var t=e;if(typeof t=="string"&&Xu.canUseDOM){var n=document.querySelectorAll(t);Hi(n,t),t=n}return he=t||he,he}function Pr(e){var t=e||he;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,Zu.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function rp(e){var t=!0,n=!1,r=void 0;try{for(var o=Pr(e)[Symbol.iterator](),i;!(t=(i=o.next()).done);t=!0){var a=i.value;a.setAttribute("aria-hidden","true")}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}function op(e){var t=!0,n=!1,r=void 0;try{for(var o=Pr(e)[Symbol.iterator](),i;!(t=(i=o.next()).done);t=!0){var a=i.value;a.removeAttribute("aria-hidden")}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}function ip(){he=null}var mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.resetState=ap,mt.log=sp;var $t={},Ft={};function Bi(e,t){e.classList.remove(t)}function ap(){var e=document.getElementsByTagName("html")[0];for(var t in $t)Bi(e,$t[t]);var n=document.body;for(var r in Ft)Bi(n,Ft[r]);$t={},Ft={}}function sp(){}var cp=function(e,t){return e[t]||(e[t]=0),e[t]+=1,t},lp=function(e,t){return e[t]&&(e[t]-=1),t},dp=function(e,t,n){n.forEach(function(r){cp(t,r),e.add(r)})},up=function(e,t,n){n.forEach(function(r){lp(t,r),t[r]===0&&e.remove(r)})};mt.add=function(e,t){return dp(e.classList,e.nodeName.toLowerCase()=="html"?$t:Ft,t.split(" "))},mt.remove=function(e,t){return up(e.classList,e.nodeName.toLowerCase()=="html"?$t:Ft,t.split(" "))};var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.log=hp,gt.resetState=fp;function pp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Vi=function e(){var t=this;pp(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},On=new Vi;function hp(){console.log("portalOpenInstances ----------"),console.log(On.openInstances.length),On.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function fp(){On=new Vi}gt.default=On;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.resetState=bp,Rr.log=vp;var mp=gt,gp=yp(mp);function yp(e){return e&&e.__esModule?e:{default:e}}var oe=void 0,we=void 0,Ge=[];function bp(){for(var e=[oe,we],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}oe=we=null,Ge=[]}function vp(){console.log("bodyTrap ----------"),console.log(Ge.length);for(var e=[oe,we],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function Gi(){Ge.length!==0&&Ge[Ge.length-1].focusContent()}function wp(e,t){!oe&&!we&&(oe=document.createElement("div"),oe.setAttribute("data-react-modal-body-trap",""),oe.style.position="absolute",oe.style.opacity="0",oe.setAttribute("tabindex","0"),oe.addEventListener("focus",Gi),we=oe.cloneNode(),we.addEventListener("focus",Gi)),Ge=t,Ge.length>0?(document.body.firstChild!==oe&&document.body.insertBefore(oe,document.body.firstChild),document.body.lastChild!==we&&document.body.appendChild(we)):(oe.parentElement&&oe.parentElement.removeChild(oe),we.parentElement&&we.parentElement.removeChild(we))}gp.default.subscribe(wp),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(N){for(var v=1;v<arguments.length;v++){var D=arguments[v];for(var g in D)Object.prototype.hasOwnProperty.call(D,g)&&(N[g]=D[g])}return N},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},o=function(){function N(v,D){for(var g=0;g<D.length;g++){var R=D[g];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(v,R.key,R)}}return function(v,D,g){return D&&N(v.prototype,D),g&&N(v,g),v}}(),i=p,a=Wi,s=O(a),l=ye,d=_(l),h=Uu,u=O(h),f=be,m=_(f),b=mt,C=_(b),S=ve,k=O(S),A=gt,x=O(A);function _(N){if(N&&N.__esModule)return N;var v={};if(N!=null)for(var D in N)Object.prototype.hasOwnProperty.call(N,D)&&(v[D]=N[D]);return v.default=N,v}function O(N){return N&&N.__esModule?N:{default:N}}function w(N,v){if(!(N instanceof v))throw new TypeError("Cannot call a class as a function")}function y(N,v){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:N}function T(N,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);N.prototype=Object.create(v&&v.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(N,v):N.__proto__=v)}var j={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},M=function(N){return N.code==="Tab"||N.keyCode===9},q=function(N){return N.code==="Escape"||N.keyCode===27},H=0,B=function(N){T(v,N);function v(D){w(this,v);var g=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,D));return g.setOverlayRef=function(R){g.overlay=R,g.props.overlayRef&&g.props.overlayRef(R)},g.setContentRef=function(R){g.content=R,g.props.contentRef&&g.props.contentRef(R)},g.afterClose=function(){var R=g.props,W=R.appElement,G=R.ariaHideApp,P=R.htmlOpenClassName,F=R.bodyOpenClassName,I=R.parentSelector,U=I&&I().ownerDocument||document;F&&C.remove(U.body,F),P&&C.remove(U.getElementsByTagName("html")[0],P),G&&H>0&&(H-=1,H===0&&m.show(W)),g.props.shouldFocusAfterRender&&(g.props.shouldReturnFocusAfterClose?(d.returnFocus(g.props.preventScroll),d.teardownScopedFocus()):d.popWithoutFocus()),g.props.onAfterClose&&g.props.onAfterClose(),x.default.deregister(g)},g.open=function(){g.beforeOpen(),g.state.afterOpen&&g.state.beforeClose?(clearTimeout(g.closeTimer),g.setState({beforeClose:!1})):(g.props.shouldFocusAfterRender&&(d.setupScopedFocus(g.node),d.markForFocusLater()),g.setState({isOpen:!0},function(){g.openAnimationFrame=requestAnimationFrame(function(){g.setState({afterOpen:!0}),g.props.isOpen&&g.props.onAfterOpen&&g.props.onAfterOpen({overlayEl:g.overlay,contentEl:g.content})})}))},g.close=function(){g.props.closeTimeoutMS>0?g.closeWithTimeout():g.closeWithoutTimeout()},g.focusContent=function(){return g.content&&!g.contentHasFocus()&&g.content.focus({preventScroll:!0})},g.closeWithTimeout=function(){var R=Date.now()+g.props.closeTimeoutMS;g.setState({beforeClose:!0,closesAt:R},function(){g.closeTimer=setTimeout(g.closeWithoutTimeout,g.state.closesAt-Date.now())})},g.closeWithoutTimeout=function(){g.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},g.afterClose)},g.handleKeyDown=function(R){M(R)&&(0,u.default)(g.content,R),g.props.shouldCloseOnEsc&&q(R)&&(R.stopPropagation(),g.requestClose(R))},g.handleOverlayOnClick=function(R){g.shouldClose===null&&(g.shouldClose=!0),g.shouldClose&&g.props.shouldCloseOnOverlayClick&&(g.ownerHandlesClose()?g.requestClose(R):g.focusContent()),g.shouldClose=null},g.handleContentOnMouseUp=function(){g.shouldClose=!1},g.handleOverlayOnMouseDown=function(R){!g.props.shouldCloseOnOverlayClick&&R.target==g.overlay&&R.preventDefault()},g.handleContentOnClick=function(){g.shouldClose=!1},g.handleContentOnMouseDown=function(){g.shouldClose=!1},g.requestClose=function(R){return g.ownerHandlesClose()&&g.props.onRequestClose(R)},g.ownerHandlesClose=function(){return g.props.onRequestClose},g.shouldBeClosed=function(){return!g.state.isOpen&&!g.state.beforeClose},g.contentHasFocus=function(){return document.activeElement===g.content||g.content.contains(document.activeElement)},g.buildClassName=function(R,W){var G=(typeof W>"u"?"undefined":r(W))==="object"?W:{base:j[R],afterOpen:j[R]+"--after-open",beforeClose:j[R]+"--before-close"},P=G.base;return g.state.afterOpen&&(P=P+" "+G.afterOpen),g.state.beforeClose&&(P=P+" "+G.beforeClose),typeof W=="string"&&W?P+" "+W:P},g.attributesFromObject=function(R,W){return Object.keys(W).reduce(function(G,P){return G[R+"-"+P]=W[P],G},{})},g.state={afterOpen:!1,beforeClose:!1},g.shouldClose=null,g.moveFromContentToOverlay=null,g}return o(v,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(D,g){this.props.isOpen&&!D.isOpen?this.open():!this.props.isOpen&&D.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!g.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var D=this.props,g=D.appElement,R=D.ariaHideApp,W=D.htmlOpenClassName,G=D.bodyOpenClassName,P=D.parentSelector,F=P&&P().ownerDocument||document;G&&C.add(F.body,G),W&&C.add(F.getElementsByTagName("html")[0],W),R&&(H+=1,m.hide(g)),x.default.register(this)}},{key:"render",value:function(){var D=this.props,g=D.id,R=D.className,W=D.overlayClassName,G=D.defaultStyles,P=D.children,F=R?{}:G.content,I=W?{}:G.overlay;if(this.shouldBeClosed())return null;var U={ref:this.setOverlayRef,className:this.buildClassName("overlay",W),style:n({},I,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ee=n({id:g,ref:this.setContentRef,style:n({},F,this.props.style.content),className:this.buildClassName("content",R),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ie=this.props.contentElement(ee,P);return this.props.overlayElement(U,ie)}}]),v}(i.Component);B.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},B.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(k.default),s.default.instanceOf(S.SafeHTMLCollection),s.default.instanceOf(S.SafeNodeList),s.default.arrayOf(s.default.instanceOf(k.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=B,e.exports=t.default}(Ar,Ar.exports);var xp=Ar.exports;function Ki(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Yi(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function Ji(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ki.__suppressDeprecationWarning=!0,Yi.__suppressDeprecationWarning=!0,Ji.__suppressDeprecationWarning=!0;function Cp(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,o=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var i=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Ki,t.componentWillReceiveProps=Yi),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Ji;var s=t.componentDidUpdate;t.componentDidUpdate=function(l,d,h){var u=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;s.call(this,l,d,u)}}return e}const kp=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Cp},Symbol.toStringTag,{value:"Module"})),_p=_m(kp);Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.bodyOpenClassName=Ve.portalClassName=void 0;var Zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jp=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xi=p,Tn=Lt(Xi),Sp=Wa,An=Lt(Sp),Ep=Wi,L=Lt(Ep),Op=xp,Qi=Lt(Op),Tp=be,Ap=Np(Tp),Fe=ve,ea=Lt(Fe),Mp=_p;function Np(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Lt(e){return e&&e.__esModule?e:{default:e}}function Dp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ta(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Pp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Rp=Ve.portalClassName="ReactModalPortal",Ip=Ve.bodyOpenClassName="ReactModal__Body--open",Ke=Fe.canUseDOM&&An.default.createPortal!==void 0,na=function(e){return document.createElement(e)},ra=function(){return Ke?An.default.createPortal:An.default.unstable_renderSubtreeIntoContainer};function Mn(e){return e()}var zt=function(e){Pp(t,e);function t(){var n,r,o,i;Dp(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return i=(r=(o=ta(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),o),o.removePortal=function(){!Ke&&An.default.unmountComponentAtNode(o.node);var d=Mn(o.props.parentSelector);d&&d.contains(o.node)?d.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(d){o.portal=d},o.renderPortal=function(d){var h=ra(),u=h(o,Tn.default.createElement(Qi.default,Zi({defaultStyles:t.defaultStyles},d)),o.node);o.portalRef(u)},r),ta(o,i)}return jp(t,[{key:"componentDidMount",value:function(){if(Fe.canUseDOM){Ke||(this.node=na("div")),this.node.className=this.props.portalClassName;var n=Mn(this.props.parentSelector);n.appendChild(this.node),!Ke&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var r=Mn(n.parentSelector),o=Mn(this.props.parentSelector);return{prevParent:r,nextParent:o}}},{key:"componentDidUpdate",value:function(n,r,o){if(Fe.canUseDOM){var i=this.props,a=i.isOpen,s=i.portalClassName;n.portalClassName!==s&&(this.node.className=s);var l=o.prevParent,d=o.nextParent;d!==l&&(l.removeChild(this.node),d.appendChild(this.node)),!(!n.isOpen&&!a)&&!Ke&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Fe.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,r=Date.now(),o=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||r+this.props.closeTimeoutMS);o?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-r)):this.removePortal()}}},{key:"render",value:function(){if(!Fe.canUseDOM||!Ke)return null;!this.node&&Ke&&(this.node=na("div"));var n=ra();return n(Tn.default.createElement(Qi.default,Zi({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){Ap.setElement(n)}}]),t}(Xi.Component);zt.propTypes={isOpen:L.default.bool.isRequired,style:L.default.shape({content:L.default.object,overlay:L.default.object}),portalClassName:L.default.string,bodyOpenClassName:L.default.string,htmlOpenClassName:L.default.string,className:L.default.oneOfType([L.default.string,L.default.shape({base:L.default.string.isRequired,afterOpen:L.default.string.isRequired,beforeClose:L.default.string.isRequired})]),overlayClassName:L.default.oneOfType([L.default.string,L.default.shape({base:L.default.string.isRequired,afterOpen:L.default.string.isRequired,beforeClose:L.default.string.isRequired})]),appElement:L.default.oneOfType([L.default.instanceOf(ea.default),L.default.instanceOf(Fe.SafeHTMLCollection),L.default.instanceOf(Fe.SafeNodeList),L.default.arrayOf(L.default.instanceOf(ea.default))]),onAfterOpen:L.default.func,onRequestClose:L.default.func,closeTimeoutMS:L.default.number,ariaHideApp:L.default.bool,shouldFocusAfterRender:L.default.bool,shouldCloseOnOverlayClick:L.default.bool,shouldReturnFocusAfterClose:L.default.bool,preventScroll:L.default.bool,parentSelector:L.default.func,aria:L.default.object,data:L.default.object,role:L.default.string,contentLabel:L.default.string,shouldCloseOnEsc:L.default.bool,overlayRef:L.default.func,contentRef:L.default.func,id:L.default.string,overlayElement:L.default.func,contentElement:L.default.func},zt.defaultProps={isOpen:!1,portalClassName:Rp,bodyOpenClassName:Ip,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return Tn.default.createElement("div",e,t)},contentElement:function(e,t){return Tn.default.createElement("div",e,t)}},zt.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,Mp.polyfill)(zt),Ve.default=zt,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Ve,r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}t.default=r.default,e.exports=t.default}(Tr,Tr.exports);var $p=Tr.exports;const yt=Ua($p),Nn=750,Fp=$o`
  .ReactModal__Content {
    opacity: 0;
    transform: translateY(-10rem);
    transition: transform ${Nn}ms ease, opacity ${Nn/1.2}ms;
  }
  .ReactModal__Content--after-open {
    opacity: 1;
    transform: translateY(0px);
  }
  .ReactModal__Content--before-close {
    opacity: 0;
    transform: translateY(-10rem);
  }
  
  .ReactModal__Overlay {
    opacity: 0;
    transition: all ${Nn/1.2}ms ease-in-out;
  }

  .ReactModal__Overlay--after-open {
    opacity: 1;
  }

  .ReactModal__Overlay--before-close {
    opacity: 0;
  }
`;yt.setAppElement("#root"),yt.defaultStyles={...yt.defaultStyles,overlay:{...yt.defaultStyles.overlay,backgroundColor:"#000c"},content:{...yt.defaultStyles.content,display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",inset:"initial",background:"transparent",padding:"0",border:"none"}};const Lp=E.div`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4rem;
  background-color: white;
  border-radius: 2.4rem;
`;function Ye({isOpen:e=!1,label:t="Dialog",close:n,children:r,...o}){return c.jsxs(yt,{isOpen:e,contentLabel:t,onRequestClose:n,closeTimeoutMS:Nn,...o,children:[c.jsx(Fp,{}),c.jsx(Lp,{children:r})]})}const oa="data:image/svg+xml,%3csvg%20width='8'%20height='13'%20viewBox='0%200%208%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.15918%206.06445C7.15234%205.8252%207.06348%205.62012%206.87891%205.43555L1.56055%200.233398C1.40332%200.0830078%201.21875%200.000976562%200.993164%200.000976562C0.535156%200.000976562%200.179688%200.356445%200.179688%200.814453C0.179688%201.0332%200.268555%201.23828%200.425781%201.39551L5.21094%206.06445L0.425781%2010.7334C0.268555%2010.8906%200.179688%2011.0889%200.179688%2011.3145C0.179688%2011.7725%200.535156%2012.1279%200.993164%2012.1279C1.21191%2012.1279%201.40332%2012.0459%201.56055%2011.8955L6.87891%206.68652C7.07031%206.50879%207.15918%206.30371%207.15918%206.06445Z'%20fill='%23ADADAF'/%3e%3c/svg%3e",zp=E.label`
  display: flex;
  flex-direction: ${({type:e})=>e==="checkbox"?"row-reverse":"column"};
  width: 100%;
  margin: 0 0 2rem;
  align-items: flex-start;
  justify-content: flex-end;
  ${({type:e})=>e==="checkbox"&&"line-height: 1;"}

  &:last-child,
  &:only-child {
    margin-bottom: 3rem;
  }
`,Wp=E.p`
  margin: ${({type:e})=>e==="checkbox"?"0 0 0 1.5rem":"0"};
  padding: 0;
  font-size: 1.3rem;
  font-weight: 500;
`,Up=E.span`
  &::after {
    content: "*";
    color: var(--colorError);
  }
`,ia=dr`
  width: 100%;
  color: var(--grey700);
  border: 1px solid var(--grey500);
`,qp=E.input`
  ${ia};
  padding: 0.3rem 1rem;

  &[type="checkbox"] {
    width: unset;
  }
`,Hp=E.input`
  {StyledInput}
  border: unset;
`,Bp=E.select`
  ${ia};
  padding: 0.5rem 0.6rem;
`;function Vp({type:e,...t}){return e==="select"?c.jsx(Bp,{...t}):e==="file"?c.jsx(Hp,{type:e,...t}):c.jsx(qp,{type:e,...t})}function Q({labelText:e,type:t="text",required:n=!1,...r}){return c.jsxs(zp,{"aria-label":r["aria-label"]??e,type:t,children:[c.jsxs(Wp,{type:t,children:[e,n&&c.jsx(Up,{title:"Required"})]}),c.jsx(Vp,{type:t,name:e,"aria-required":n,...r})]})}const Gp=E.div`
  width: 100%;
  margin-top: 1rem;
  font-size: 1.6rem;
  font-weight: 500;
`,Kp=E.div`
  margin: 1rem 0;
  font-size: 1.4rem;
  color: var(--colorError);
`,Yp=E.div`
  display: flex;
  justify-content: center;
  padding-top: 2rem;
  width: 100%;
`,Jp=E(ue)`
  width: 12rem;
`;function aa({importCode:e,close:t,isPackageModal:n=!1}){const[r,o]=p.useState("dfinity/examples"),[i,a]=p.useState("master"),[s,l]=p.useState("motoko/counter/src"),[d,h]=p.useState(""),[u,f]=p.useState(""),m=p.useContext(Me),b=p.useContext($e);async function C(){const k=await m.fetchGithub({repo:r,branch:i,dir:s});k?(h(""),e(k),t(),await b({type:"setOrigin",payload:{origin:"playground",tags:[`git:${r}`]}})):h('Cannot find repo or the directory contains no ".mo" files.')}async function S(){if(!u){h("Package name cannot be empty");return}const k={repo:`https://github.com/${r}.git`,version:i,name:u,dir:s};await m.fetchPackage(k)?(h(""),e(k),t()):h('Cannot find repo or the directory contains no ".mo" files.')}return c.jsxs(Gp,{children:[n&&c.jsx(Q,{type:"text",labelText:"Package name",value:u,onChange:k=>f(k.target.value)}),c.jsx(Q,{type:"text",labelText:"Github repo",value:r,onChange:k=>o(k.target.value)}),c.jsx(Q,{type:"text",labelText:"Branch",value:i,onChange:k=>a(k.target.value)}),c.jsx(Q,{type:"text",labelText:"Directory",value:s,onChange:k=>l(k.target.value)}),c.jsx(Kp,{children:d}),c.jsx(Yp,{children:c.jsx(Jp,{onClick:n?S:C,variant:"primary",children:"Import"})})]})}const Zp=[{authors:["The DFINITY Language Team"],dependencies:[],description:"The Motoko standard library",homepage:"https://sdk.dfinity.org/docs/base-libraries/stdlib-intro.html",name:"base",owners:["kritzcreek","dfinity"],repo:"https://github.com/dfinity/motoko-base.git",version:"master"},{authors:["Matthew Hammer"],dependencies:["base"],description:"A framework for constructing CRUD services in Motoko for the Internet Computer.",name:"crud",owners:["matthewhammer"],repo:"https://github.com/matthewhammer/motoko-crud.git",version:"c9bc6acbb6da81fc20d8ffec8063d9f6b4d01efd"},{authors:["Christoph Hegemann"],dependencies:["base"],description:"Composable Assertions for unit testing",homepage:"https://kritzcreek.github.io/motoko-matchers/",name:"matchers",owners:["kritzcreek"],repo:"https://github.com/kritzcreek/motoko-matchers.git",version:"v1.2.0"},{authors:["Claudio Russo"],dependencies:["base"],description:"A Parsec-based parsing combinator library for Motoko",homepage:"https://crusso.github.io/mo-parsec/",name:"parsec",owners:["crusso"],repo:"https://github.com/crusso/mo-parsec.git",version:"v1.0.0"},{authors:["Joachim Breitner"],dependencies:["base"],description:"A Strongly Connected Component library for Motoko",homepage:"https://nomeata.github.io/motoko-scc/",name:"scc",owners:["nomeata"],repo:"https://github.com/nomeata/motoko-scc.git",version:"v0.1.1"},{authors:["Enzo Haussecker"],dependencies:["base"],description:"SHA256 implemented in Motoko",name:"sha256",owners:["enzoh"],repo:"https://github.com/enzoh/motoko-sha.git",version:"9e2468f51ef060ae04fde8d573183191bda30189"},{authors:["Inv Lo"],dependencies:["base"],description:"The Internet Computer Improvement Protocol library",homepage:"https://feliciss.github.io/icip",name:"icip",owners:["feliciss"],repo:"https://github.com/feliciss/icip.git",version:"v1.2.0"},{authors:["Christoph Hegemann"],dependencies:["base"],description:"A pretty printing library",homepage:"https://kritzcreek.github.io/motoko-pretty/",name:"pretty",owners:["kritzcreek"],repo:"https://github.com/kritzcreek/motoko-pretty.git",version:"v0.1.0"},{authors:["Enzo Haussecker","flyq"],dependencies:["base"],description:"SHA224 implemented in Motoko",homepage:"https://flyq.github.io/motoko-sha224/",name:"sha224",owners:["flyq"],repo:"https://github.com/flyq/motoko-sha224.git",version:"v0.1.0"},{authors:["Yan Chen"],dependencies:["base"],description:"Splay tree library",homepage:"https://chenyan2002.github.io/motoko-splay/lib.html",name:"splay",owners:["chenyan2002"],repo:"https://github.com/chenyan2002/motoko-splay.git",version:"v0.1.0"},{authors:["Matthew Hammer"],dependencies:["base"],description:"Persistent sequence representation and algorithms.",homepage:"http://matthewhammer.org/motoko-sequence/",name:"sequence",owners:["matthewhammer"],repo:"https://github.com/matthewhammer/motoko-sequence.git",version:"v0.1.1"},{authors:["flyq"],dependencies:["base"],description:"Base32 implemented in Motoko",homepage:"https://flyq.github.io/motoko-base32/",name:"base32",owners:["flyq"],repo:"https://github.com/flyq/motoko-base32.git",version:"v0.1.1"},{authors:["Matthew Hammer"],dependencies:["base"],description:"Incremental computation, dependency graphs and change propagation.",homepage:"http://matthewhammer.org/motoko-adapton/",name:"adapton",owners:["matthewhammer"],repo:"https://github.com/matthewhammer/motoko-adapton.git",version:"v0.1.1"},{authors:["Timo Hanke"],dependencies:["base"],description:"Extension of the Iter base library",name:"iterext",owners:["timohanke"],repo:"https://github.com/timohanke/motoko-iterext.git",version:"v2.0.0"},{authors:["Timo Hanke"],dependencies:["base","iterext"],description:"SHA2 family of hash functions",name:"sha2",owners:["timohanke"],repo:"https://github.com/timohanke/motoko-sha2.git",version:"v2.0.0"}],Xp=E.div`
  ${({dimensions:e})=>e?`
        width: ${(e==null?void 0:e.width)??"auto"};
        height: ${(e==null?void 0:e.height)??"auto"};
      `:""}
  display: flex;
  flex-direction: column;
`,Qp=E.div`
  padding: 1.5rem;
  flex: 1;
  border: 1px solid var(--grey400);
  border-top: none;
  border-radius: 0 0 1.5rem 1.5rem;
`,eh=E.div`
  display: flex;
  justify-content: space-evenly;
`,th=E.button`
  display: flex;
  flex-grow: 1;
  justify-content: center;
  align-items: center;
  padding: 1.5rem;
  border: 1px solid var(--grey400);
  border-radius: 0.8rem 0.8rem 0 0;

  &:not(:last-child) {
    margin-right: -1px;
  }

  ${({isActive:e})=>e?`
        background-color: white;
        color: var(--grey700);
        border-bottom-color: transparent;`:`
        background-color: var(--grey100);
        color: var(--grey600);`}
`,nh=E.div`
  flex-grow: 1;
`;function Ir(e){const{children:t,onTabSelect:n=()=>{},activeTab:r=0,height:o,width:i}=e,[a,s]=p.useState(r),l=u=>{n(u),s(u)};p.useEffect(()=>{s(r)},[r]);const d=[],h=[];return p.Children.forEach(t,(u,f)=>{const{children:m,label:b,isActive:C=a===f}=u.props,S=()=>l(f);d.push(c.jsx(th,{isActive:C,onClick:S,children:b},f)),h.push(c.jsx(Qp,{children:m},f))}),c.jsxs(Xp,{dimensions:{height:o,width:i},children:[c.jsx(eh,{children:d}),c.jsx(nh,{children:h[a]??null})]})}function bt(e){return null}const rh=E.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 46rem;
  font-size: 1.4rem;
`,oh=E.div`
  display: flex;
  justify-content: space-between;
  width: 100%;
`;function ih({onClick:e,children:t}){return c.jsx(pt,{onClick:e,children:c.jsxs(oh,{children:[c.jsx("span",{style:{whiteSpace:"nowrap",overflowX:"hidden"},children:t}),c.jsx("img",{src:oa,alt:"Continue"})]})})}const ah=E.span`
  margin: 1rem 0 2rem;
  font-size: 1.6rem;
  font-weight: 500;
`,sh=E(ue)`
  width: 24rem;
  margin-top: 3rem;
`;function ch({isOpen:e,close:t,loadPackage:n}){const r=p.useContext(Me);async function o(i){if(await r.fetchPackage(i))await n(i),await t();else throw new Error(`Fail to load package ${i.name}`)}return c.jsx(Ye,{isOpen:e,close:t,label:"Load package",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:c.jsxs(rh,{children:[c.jsx(ah,{children:"Select a Motoko package"}),c.jsxs(Ir,{width:"44rem",children:[c.jsx(bt,{label:"Vessel packages",children:c.jsx($i,{height:"36.1rem",children:Zp.map(i=>c.jsxs(ih,{onClick:()=>o(i),children:[i.name," ",i.description?`-- ${i.description}`:""]},i.name))})}),c.jsx(bt,{label:"Import from Github",children:c.jsx(aa,{isPackageModal:!0,importCode:n,close:t})})]}),c.jsx(sh,{onClick:t,children:"Cancel"})]})})}const lh=E.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 34rem;
  font-size: 1.6rem;
  font-weight: 500;
`,dh=E.div`
  display: flex;
  justify-content: center;
  width: 100%;
  margin-top: 3rem;
`;function uh({isOpen:e,close:t}){const[n,r]=p.useState(""),o=p.useContext(Me),i=p.useContext($e);async function a(){if(!n)return;const s=n.includes(".")?n:`${n}.mo`;await o.Moc({type:"save",file:s,content:""}),await i({type:"saveFile",payload:{path:s,contents:""}}),await i({type:"selectFile",payload:{path:s}}),await t()}return c.jsx(Ye,{isOpen:e,close:t,label:"Add file",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:c.jsxs(lh,{children:[c.jsx("p",{style:{marginBottom:"2rem"},children:"Add a new file"}),c.jsx(Q,{type:"text",labelText:"Filename",value:n,onChange:s=>r(s.target.value),onKeyPress:s=>s.key==="Enter"&&a(),autoFocus:!0}),c.jsxs(dh,{children:[c.jsx(ue,{variant:"primary",onClick:a,children:"Add"}),c.jsx(ue,{onClick:t,children:"Cancel"})]})]})})}const $r={"aaaaa-aa":{name:"ic",candid:`// from spec 0.18.5
type canister_id = principal;
type user_id = principal;
type wasm_module = blob;

type canister_settings = record {
  controllers : opt vec principal;
  compute_allocation : opt nat;
  memory_allocation : opt nat;
  freezing_threshold : opt nat;
};

type definite_canister_settings = record {
  controllers : vec principal;
  compute_allocation : nat;
  memory_allocation : nat;
  freezing_threshold : nat;
};

type ecdsa_curve = variant { secp256k1; };

type satoshi = nat64;

type bitcoin_network = variant {
  mainnet;
  testnet;
};

type bitcoin_address = text;

type block_hash = blob;

type outpoint = record {
  txid : blob;
  vout : nat32
};

type utxo = record {
  outpoint: outpoint;
  value: satoshi;
  height: nat32;
};

type get_utxos_request = record {
  address : bitcoin_address;
  network: bitcoin_network;
  filter: opt variant {
    min_confirmations: nat32;
    page: blob;
  };
};

type get_current_fee_percentiles_request = record {
  network: bitcoin_network;
};

type get_utxos_response = record {
  utxos: vec utxo;
  tip_block_hash: block_hash;
  tip_height: nat32;
  next_page: opt blob;
};

type get_balance_request = record {
  address : bitcoin_address;
  network: bitcoin_network;
  min_confirmations: opt nat32;
};

type send_transaction_request = record {
  transaction: blob;
  network: bitcoin_network;
};

type millisatoshi_per_byte = nat64;

service ic : {
  create_canister : (record {
    settings : opt canister_settings
  }) -> (record {canister_id : canister_id});
  update_settings : (record {
    canister_id : principal;
    settings : canister_settings
  }) -> ();
  install_code : (record {
    mode : variant {install; reinstall; upgrade};
    canister_id : canister_id;
    wasm_module : wasm_module;
    arg : blob;
  }) -> ();
  uninstall_code : (record {canister_id : canister_id}) -> ();
  start_canister : (record {canister_id : canister_id}) -> ();
  stop_canister : (record {canister_id : canister_id}) -> ();
  canister_status : (record {canister_id : canister_id}) -> (record {
      status : variant { running; stopping; stopped };
      settings: definite_canister_settings;
      module_hash: opt blob;
      memory_size: nat;
      cycles: nat;
      idle_cycles_burned_per_day: nat;
  });
  delete_canister : (record {canister_id : canister_id}) -> ();
  deposit_cycles : (record {canister_id : canister_id}) -> ();
  raw_rand : () -> (blob);

  // Threshold ECDSA signature
  ecdsa_public_key : (record {
    canister_id : opt canister_id;
    derivation_path : vec blob;
    key_id : record { curve: ecdsa_curve; name: text };
  }) -> (record { public_key : blob; chain_code : blob; });
  sign_with_ecdsa : (record {
    message_hash : blob;
    derivation_path : vec blob;
    key_id : record { curve: ecdsa_curve; name: text };
  }) -> (record { signature : blob });

  // bitcoin interface
  bitcoin_get_balance: (get_balance_request) -> (satoshi);
  bitcoin_get_utxos: (get_utxos_request) -> (get_utxos_response);
  bitcoin_send_transaction: (send_transaction_request) -> ();
  bitcoin_get_current_fee_percentiles: (get_current_fee_percentiles_request) -> (vec millisatoshi_per_byte);

  // provisional interfaces for the pre-ledger world
  provisional_create_canister_with_cycles : (record {
    amount: opt nat;
    settings : opt canister_settings
  }) -> (record {canister_id : canister_id});
  provisional_top_up_canister :
    (record { canister_id: canister_id; amount: nat }) -> ();
}`},"rrkah-fqaaa-aaaaa-aaaaq-cai":{name:"governance"},"ryjl3-tyaaa-aaaaa-aaaba-cai":{name:"ledger"},"7hfb6-caaaa-aaaar-qadga-cai":{name:"EVM RPC"}},ph=E.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 36rem;
  font-size: 1.6rem;
  font-weight: 500;
`,hh=E.div`
  margin: 2rem 0;
`,sa=E.div`
  width: 100%;
  background-color: var(--colorWarning);
  border-radius: 1.5rem;
  margin-top: 1rem;
  padding: 1rem 2rem;
  font-size: 1.4rem;
`,ca=E.div`
  padding: 0 2rem;
  width: 100%;
  height: 30rem;
  position: relative;
`,la=E.div`
  display: flex;
  justify-content: center;
  width: 100%;
  position: absolute;
  bottom: 0;
`,Dn=E(ue)`
  width: 10rem;
`;function fh({isOpen:e,close:t,deploySetter:n}){const[r,o]=p.useState(""),[i,a]=p.useState(""),[s,l]=p.useState(""),[d,h]=p.useState(void 0),[u,f]=p.useState(!1),[m,b]=p.useState(""),[C,S]=p.useState(!1),k=p.useContext(Me),A=p.useContext($e);p.useEffect(()=>{f(!1)},[i]);async function x(T){const j=T.target.value;await a(j);let M;try{const q=Zr.fromText(j);if($r.hasOwnProperty(j)){const H=$r[j];o(H.name),M=H.candid}M||(M=await lc(q)),l(M),b("")}catch(q){/no query method/.test(q)?(l(""),f(!0),b("")):/not found/.test(q)?b("Canister id not found"):/valid checksum/.test(q)?b("Not a valid principal"):b(q.message)}}async function _(){if(!s||!d)return;b("");const T=(await ei(s)).init({IDL:qa});await t(),await n.setWasm(d),await n.setInitTypes(T),await n.setCandidCode(s),await n.setShowDeployModal(!0),await A({type:"setOrigin",payload:{origin:"playground",tags:["upload:wasm"]}})}async function O(){if(m||!r||!i||!s)return;const T={id:Zr.fromText(i),isExternal:!0,name:r,candid:s};if(await k.Moc({type:"save",file:`idl/${i}.did`,content:s}),await A({type:"deployWorkplace",payload:{canister:T}}),C){const j=r+".mo",M=(await lt.binding(s,"mo"))[0];await k.Moc({type:"save",file:j,content:M}),await A({type:"saveFile",payload:{path:j,contents:M}})}await t()}function w(T){const j=new FileReader;j.addEventListener("load",()=>{typeof j.result=="string"&&l(j.result)}),j.readAsText(T.target.files[0])}function y(T){const j=new FileReader;j.addEventListener("load",async()=>{const q=new Uint8Array(j.result);h(q);try{const[H,B]=await au(q);if(B){const N=(await lt.merge_init_args(H,B))[0];if(!N){b("Cannot merge candid:args with candid:service from Wasm");return}l(N)}else l(H)}catch(H){b(H.toString())}});const M=T.target.files[0];if(M.size>2097152){b("Wasm size should be less than 2MB");return}else b("");n.setMainFile(M.name),j.readAsArrayBuffer(M)}return c.jsx(Ye,{isOpen:e,close:t,label:"Import canister",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:c.jsxs(ph,{children:[c.jsx(hh,{children:"Add a canister"}),c.jsxs(Ir,{width:"34rem",children:[c.jsx(bt,{label:"Import canister",children:c.jsxs(ca,{children:[c.jsx(Q,{type:"text",labelText:"Canister ID",list:"canisters",value:i,onChange:x}),c.jsx("datalist",{id:"canisters",children:Object.entries($r).map(([T,j])=>c.jsx("option",{value:T,children:j.name},T))}),c.jsx(Q,{type:"text",labelText:"Canister name",value:r,onChange:T=>o(T.target.value)}),c.jsx(Q,{type:"checkbox",labelText:"Generate Motoko binding",checked:C,onChange:T=>S(T.target.checked)}),m&&c.jsx(sa,{children:m}),u&&c.jsx(Q,{type:"file",labelText:"Upload did file",accept:".did",onChange:w}),c.jsxs(la,{children:[c.jsx(Dn,{variant:"primary",onClick:O,children:"Import"}),c.jsx(Dn,{onClick:t,children:"Cancel"})]})]})}),c.jsx(bt,{label:"Deploy Wasm",children:c.jsxs(ca,{children:[c.jsx(Q,{type:"file",labelText:"Upload Wasm module",accept:".wasm",onChange:y}),m&&c.jsx(Q,{type:"file",labelText:"Upload did file",accept:".did",onChange:w}),m&&c.jsx(sa,{children:m}),c.jsxs(la,{children:[c.jsx(Dn,{variant:"primary",onClick:_,children:"Deploy"}),c.jsx(Dn,{onClick:t,children:"Cancel"})]})]})})]})]})})}const mh="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20enable-background='new%200%200%20512%20512'%3e%3cg%3e%3cg%3e%3cpath%20d='m483.7,463.6h-455.4c-9.6,0-17.3-7.7-17.3-17.3v-380.6c0-9.6%207.7-17.3%2017.3-17.3h162.6c6.3,0%2012.1,3.4%2015.1,8.9l35.8,64.6h241.8c9.6,0%2017.3,7.7%2017.3,17.3v307.1c0.1,9.6-7.6,17.3-17.2,17.3zm-438.1-34.6h420.8v-272.5h-234.7c-6.3,0-12.1-3.4-15.1-8.9l-35.9-64.6h-135.1v346z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",gh="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3csvg%20width='1024px'%20height='1024px'%20viewBox='0%200%201024%201024'%20xmlns='http://www.w3.org/2000/svg'%20class='icon'%3e%3cpath%20d='M854.6%20288.6L639.4%2073.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7%200-32%2014.3-32%2032v832c0%2017.7%2014.3%2032%2032%2032h640c17.7%200%2032-14.3%2032-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2%20326H602V137.8L790.2%20326zm1.8%20562H232V136h302v216a42%2042%200%200%200%2042%2042h216v494z'/%3e%3c/svg%3e";function yh(e){return e.reduce((t,n)=>{const r=n.split("/").slice(0,-1);let o=t;for(const i of r)i in o.folders||(o.folders[i]={files:[],folders:{}}),o=o.folders[i];return o.files.push(n),t},{files:[],folders:{}})}const bh=E.details`
  width: 100%;
  font-size: 1.4rem;
  background-color: var(--grey100);
`,vh=E.summary`
  display: flex;
  align-items: center;
  height: 3rem;
  padding-left: calc(${({nestDepth:e})=>e+1} * 1.6rem);
  cursor: pointer;
  user-select: none;

  &:hover {
    color: var(--colorPrimary);
  }
`,wh=E(pt)`
  padding-left: calc(${({nestDepth:e})=>e+1} * 1.6rem);
  border-bottom: none;
  height: 3rem;
  user-select: none;
  white-space: nowrap;
  overflow: hidden;
`,xh=E.span`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: calc(100% - 2.4rem);
  display: inline-block;
`,da=E.img`
  width: 1.6rem;
  margin-right: 0.8rem;
`;function Ch(e){return e!=="declarations"&&e!=="assets"}function ua(e){const{folderStructure:t,onSelectFile:n,activeFile:r,nestDepth:o=0}=e,i=Object.entries(t.folders).map(([a,s])=>c.jsxs(bh,{open:Ch(a),children:[c.jsxs(vh,{nestDepth:o,children:[c.jsx(da,{src:mh,alt:""}),a]}),ua({folderStructure:s,onSelectFile:n,activeFile:r,nestDepth:o+1})]},a));return t.files.forEach(a=>{const s=a.split("/").pop(),l=r===a;i.push(c.jsxs(wh,{nestDepth:o,onClick:()=>n(a),isActive:l,disabled:l,"aria-label":"File",title:s,children:[c.jsx(da,{src:gh,alt:""}),c.jsx(xh,{children:s})]},s))}),c.jsx(c.Fragment,{children:i})}function kh({filePaths:e,onSelectFile:t,activeFile:n}){const r=yh(e);return c.jsx(c.Fragment,{children:ua({folderStructure:r,onSelectFile:t,activeFile:n})})}const _h=E.div`
  width: var(--explorerWidth);
  overflow-y: auto;
  overflow-wrap: anywhere;
`,Fr=E.div`
  display: flex;
  align-items: center;
  padding-left: 1rem;
  height: 2.4rem;
  font-size: 1.2rem;
  font-weight: bold;
  border-bottom: 1px solid var(--grey300);
  text-transform: uppercase;
`,Pn=E.button`
  background: none;
  border: none;
  box-shadow: none;
  margin-left: auto;
`,jh=E(Pn)`
  padding: 0;
  margin-right: -1.1rem;
  margin-left: -0.3rem;
`,Sh=E.span`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: calc(100% - 4rem);
  display: inline-block;
`,Eh=E.div`
  margin-left: auto;
  white-space: nowrap;
  flex-shrink: 0;
`;function Oh({state:e,ttl:t,logger:n,deploySetter:r}){const[o,i]=p.useState([]),[a,s]=p.useState([]),[l,d]=p.useState(!1),[h,u]=p.useState(!1),[f,m]=p.useState(!1),b=p.useContext($e),C=x=>{b({type:"selectFile",payload:{path:x}})},S=x=>{b({type:"loadPackage",payload:{name:x.name,package:x}})},k=async(x,_)=>{switch(_){case"select":return b({type:"selectCanister",payload:{name:x}});case"delete":case"expired":{if(e.canisters[x].timestamp)if(_==="delete"){const O=e.canisters[x];n.log(`Deleting canister ${x} with id ${O.id.toText()}...`),await uu(O),n.log("Canister deleted")}else n.log(`Canister ${x} expired`);return b({type:"deleteCanister",payload:{name:x}})}default:throw new Error(`unknown action ${_}`)}},A=x=>{if(x){const _=BigInt(Date.now())*BigInt(1e6);return Number((t-(_-x))/BigInt(1e9))}};return p.useEffect(()=>{if(Object.keys(e.canisters).length===0)return;const x=setTimeout(()=>{const _=Object.values(e.canisters).map(w=>[w.name,A(w.timestamp)]),O=_.filter(([w,y])=>y&&y<=0).map(([w,y])=>w);O.length>0&&JSON.stringify(a)!==JSON.stringify(O)&&s(O),i(_.map(([w,y])=>{if(!y)return{};if(y>0){const T=Math.floor(y/60),j=y%60;return{status:"Active",minutes:T.toString(),seconds:j.toString().padStart(2,"0")}}else return{status:"Expired"}}))},1e3);return()=>clearTimeout(x)},[e.canisters,o]),p.useEffect(()=>{a.forEach(x=>{k(x,"expired")})},[a]),c.jsxs(_h,{children:[c.jsx(uh,{isOpen:h,close:()=>u(!1)}),c.jsx(ch,{isOpen:l,close:()=>d(!1),loadPackage:S}),c.jsx(fh,{isOpen:f,close:()=>m(!1),deploySetter:r}),c.jsxs(Fr,{children:["Files",c.jsx(Pn,{onClick:()=>u(!0),"aria-label":"Add file",children:c.jsx("img",{style:{width:"1.6rem"},src:Sn,alt:""})})]}),c.jsx(kh,{filePaths:Object.keys(e.files).filter(x=>typeof e.files[x]=="string").sort(),onSelectFile:C,activeFile:e.selectedFile}),c.jsxs(Fr,{children:["Packages",c.jsx(Pn,{onClick:()=>d(!0),"aria-label":"Add package",children:c.jsx("img",{style:{width:"1.6rem"},src:Sn,alt:""})})]}),Object.values(e.packages).map((x,_)=>c.jsxs(pt,{onClick:()=>{window.open(x.homepage,"_blank")},disabled:!!x.homepage,"aria-label":"Select motoko package",children:[c.jsx("img",{src:ku,alt:""}),c.jsxs("p",{children:["mo:",x.name]})]},`${x.name}${x.version}${_}`)),c.jsxs(Fr,{children:["Canisters",c.jsx(Pn,{onClick:()=>m(!0),"aria-label":"Add canister",children:c.jsx("img",{style:{width:"1.6rem"},src:Sn,alt:""})})]}),Object.keys(e.canisters).map((x,_)=>{var O,w,y;return c.jsxs(pt,{isActive:e.selectedCanister===x,disabled:e.selectedCanister===x,onClick:()=>k(x,"select"),"aria-label":"Select canister",title:x,children:[c.jsx("img",{style:{width:"2rem"},src:_u,alt:""}),c.jsx(Sh,{children:x}),c.jsx(Eh,{children:((O=o[_])==null?void 0:O.status)==="Active"?c.jsxs("div",{style:{marginLeft:"auto"},children:[c.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:(w=o[_])==null?void 0:w.minutes}),":",c.jsx("span",{style:{fontVariantNumeric:"tabular-nums"},children:(y=o[_])==null?void 0:y.seconds})]}):c.jsx("div",{style:{marginLeft:"auto"}})}),c.jsx(jh,{onClick:()=>k(x,"delete"),"aria-label":`Delete canister ${x}`,children:c.jsx("img",{src:ju,alt:""})})]},x)})]})}const Th="data:image/svg+xml,%3csvg%20width='26'%20height='25'%20viewBox='0%200%2026%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13%2024.9609C19.8086%2024.9609%2025.4102%2019.3594%2025.4102%2012.5508C25.4102%205.73047%2019.8086%200.128906%2012.9883%200.128906C6.16797%200.128906%200.578125%205.73047%200.578125%2012.5508C0.578125%2019.3594%206.17969%2024.9609%2013%2024.9609ZM13%206.11719C13.8203%206.11719%2014.4531%206.67969%2014.4531%207.47656V12.6211L14.3008%2015.0234L15.1797%2013.793L16.3984%2012.4453C16.6211%2012.1875%2016.9727%2012.0352%2017.3242%2012.0352C18.0625%2012.0352%2018.5781%2012.5391%2018.5781%2013.2305C18.5781%2013.6172%2018.4609%2013.8867%2018.1914%2014.1914L14.1836%2018.3867C13.8555%2018.7383%2013.4688%2018.9141%2013%2018.9141C12.5195%2018.9141%2012.1445%2018.75%2011.8164%2018.3867L7.80859%2014.1914C7.52734%2013.8867%207.42188%2013.6172%207.42188%2013.2305C7.42188%2012.5391%207.9375%2012.0352%208.66406%2012.0352C9.02734%2012.0352%209.37891%2012.1875%209.60156%2012.4453L10.8203%2013.8281L11.6875%2015.0117L11.5469%2012.6211V7.47656C11.5469%206.67969%2012.168%206.11719%2013%206.11719Z'%20fill='url(%23paint0_linear)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear'%20x1='2.30147'%20y1='2.65809'%20x2='22.8669'%20y2='23.9326'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23767679'/%3e%3cstop%20offset='1'%20stop-color='%23414245'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Ah="/assets/motoko-lab-logo-5-yKxzip.png",Mh="/assets/motoko-lab-wordmark-DNGS6W4E.svg",Nh=E("img")`
  ${e=>e.horizontal?`
  width: 10.9rem;
  margin: -1.6rem;
  margin-left: -1.2rem;
`:`
  width: 16.5rem;
  margin: -1.8rem 0 0.5rem;
`}
`,Dh=E("img")`
  ${e=>e.horizontal?`
  margin-left: 2.4rem;
  height: 34px;
`:`
  width: 350px;
  margin-bottom: 4rem;
`}
`;function pa({horizontal:e=!1}){return c.jsxs(c.Fragment,{children:[c.jsx(Nh,{src:Ah,horizontal:e,alt:"Motoko Ghost Logo in wireframe"}),c.jsx(Dh,{src:Mh,horizontal:e,alt:"Motoko Playground"})]})}const Ph=E("header")`
  display: flex;
  align-items: center;
  width: 100%;
  height: var(--headerHeight);
  padding: 0 1.6rem;
  background-color: ${e=>e.darkMode?"black":"white"};
`,Rh=E.div`
  display: flex;
  align-items: center;
  width: fit-content;
  height: 6.4rem;
`,Ih=E(Cr)`
  > *:not(:last-child) {
    margin-right: 1.8rem;
  }
`,ha=E.a`
  letter-spacing: 0.04rem;
  font-size: 1.8rem;
  font-weight: 500;
  padding: 1rem 1.6rem;
  color: var(--grey600);
  text-decoration: none;

  &:hover {
    text-decoration: underline;
  }
`;function $h({shareProject:e,openTutorial:t,darkMode:n=!1}){return c.jsxs(Ph,{darkMode:n,children:[c.jsx(Rh,{children:c.jsx(pa,{horizontal:!0})}),c.jsxs(Ih,{children:[c.jsx(ha,{href:"https://internetcomputer.org/docs/current/developer-docs/build/cdks/motoko-dfinity/motoko/",target:"_blank",rel:"noopener noreferrer",children:"Motoko Docs"}),c.jsx(ha,{href:"https://internetcomputer.org/docs/current/developer-docs/quickstart/hello10mins",target:"_blank",rel:"noopener noreferrer",children:"Internet Computer SDK"}),c.jsxs(ue,{width:"15.6rem",onClick:e,children:[c.jsx("img",{src:Th,alt:"Save icon"}),c.jsx("p",{children:"Save & Share"})]}),c.jsxs(ue,{width:"16.4rem",onClick:t,children:[c.jsx("img",{src:Sn,alt:"Plus icon"}),c.jsx("p",{children:"Open Example"})]})]})]})}const xe={repo:"dfinity/examples",branch:"master"},vt="https://raw.githubusercontent.com/dfinity/examples/master/motoko",Fh="https://raw.githubusercontent.com/dfinity/examples/master/archive/motoko",Lh=[{name:"Hello, world",repo:{dir:"archive/motoko/echo/src",...xe},readme:`${Fh}/echo/README.md`},{name:"Counter (full stack)",repo:{dir:"motoko/minimal-counter-dapp",...xe}},{name:"Who am I?",repo:{dir:"motoko/whoami/src",...xe},readme:`${vt}/whoami/README.md`},{name:"Super Heroes (full stack)",repo:{dir:"motoko/superheroes",...xe}},{name:"Random Maze (full stack)",repo:{dir:"motoko/random_maze",...xe}},{name:"Game of Life (full stack)",repo:{dir:"motoko/life",...xe}},{name:"Publisher and Subscriber",repo:{dir:"motoko/pub-sub/src",...xe},readme:`${vt}/pub-sub/README.md`},{name:"Actor Classes",repo:{dir:"motoko/classes/src",...xe},readme:`${vt}/classes/README.md`},{name:"Basic DAO",repo:{dir:"motoko/basic_dao/src",...xe},readme:`${vt}/basic_dao/README.md`},{name:"Http Outcall",repo:{dir:"motoko/send_http_get/src/send_http_get_backend",...xe},readme:`${vt}/send_http_get/README.md`},{name:"Threshold ECDSA",repo:{dir:"motoko/threshold-ecdsa/src/ecdsa_example_motoko",...xe},readme:`${vt}/threshold-ecdsa/README.md`}];async function zh(e,t){let n=await e.fetchGithub(t.repo);return n&&t.readme&&(n={README:await(await fetch(t.readme)).text(),...n}),n=Wh(n),n}function Wh(e){return Object.entries(e).forEach(([t,n])=>{if(t.endsWith("package.json"))try{const r=JSON.parse(n);r.scripts&&(Object.entries(r.scripts).forEach(([o,i])=>{typeof i=="string"&&i.startsWith("dfx")&&(r.scripts[o]="")}),e[t]=JSON.stringify(r,null,2))}catch(r){console.warn(`Failed to parse package.json at ${t}:`,r)}}),e}const Uh=E.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 40rem;
  font-size: 1.4rem;
`,qh=E.div`
  display: flex;
  justify-content: space-between;
  width: 100%;
`;function fa({onClick:e,children:t}){return c.jsx(pt,{onClick:e,children:c.jsxs(qh,{children:[c.jsx("span",{children:t}),c.jsx("img",{src:oa,alt:"Continue"})]})})}const Hh=E.span`
  margin: 1rem 0 2rem;
  font-size: 1.6rem;
  font-weight: 500;
`,Bh=E(ue)`
  width: 24rem;
  margin-top: 3rem;
`;function Vh({isOpen:e,close:t,importCode:n,isFirstOpen:r}){const o=p.useContext(Me),i=p.useContext($e);async function a(u){const f=await zh(o,u);f&&(await n(f),t()),await i({type:"setOrigin",payload:{origin:"playground",tags:[`example:${u.name}`]}})}async function s(){await n({"Main.mo":""}),t(),await i({type:"setOrigin",payload:{origin:"playground",tags:["file:new"]}})}const l=c.jsxs("p",{children:["Welcome to the Motoko Playground! Explore Motoko, the native language of the Internet Computer, right in the browser without having to download the SDK. See our open source repository to"," ",c.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/dfinity/motoko-playground",children:"learn more"}),"."]}),d=c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Warning:"})," Any edits you've made will be lost when switching to a new project."]}),c.jsxs("p",{children:["Press ",c.jsx("kbd",{children:"Esc"}),' or the "Cancel" button below to go back.']})]}),h=r?"Select a project to get started":"Select a project to continue";return c.jsx(Ye,{isOpen:e,close:t,label:"Welcome to Motoko Lab",shouldCloseOnEsc:!r,shouldCloseOnOverlayClick:!r,children:c.jsxs(Uh,{children:[c.jsx(pa,{}),r?l:d,c.jsx(Hh,{children:h}),c.jsxs(Ir,{width:"39rem",children:[c.jsx(bt,{label:"Example Projects",children:c.jsxs($i,{height:"28.95rem",children:[c.jsx(fa,{onClick:s,children:"New Motoko project"}),Lh.map(u=>c.jsx(fa,{onClick:()=>a(u),children:u.name},u.name))]})}),c.jsx(bt,{label:"Import from Github",children:c.jsx(aa,{importCode:n,close:t})})]}),!r&&c.jsx(Bh,{onClick:t,children:"Cancel"})]})})}const Gh=E.div`
  width: 40rem;
`,Kh=E.div`
  display: flex;
  justify-content: center;
  width: 100%;
`,ma=E(ue)`
  margin-top: 2rem;
  width: 14rem;
`;function Yh({isOpen:e,close:t,onConfirm:n,onCancel:r=()=>{},children:o}){function i(){n(),t()}function a(){r(),t()}return c.jsx(Ye,{isOpen:e,close:t,label:"Confirm",children:c.jsxs(Gh,{children:[o,c.jsxs(Kh,{children:[c.jsx(ma,{variant:"primary",onClick:i,children:"Continue"}),c.jsx(ma,{onClick:a,children:"Cancel"})]})]})})}const Jh=E.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  width: 46rem;
`,Zh=E.div`
  width: 100%;
  margin-top: 2rem;
`,ga=E.div`
  border: 1px solid var(--grey400);
  border-radius: 1.5rem;
  padding: 1rem calc(2rem - 1px);
  margin: 1rem 0 2rem;

  input {
    width: 100%;
    color: var(--grey700);
    border: 1px solid var(--grey500);
    padding: 0.3rem 1rem;
    border-radius: 0;

    + span {
      font-size: 1.4rem;
      margin: -0.5rem 0 0.5rem;
    }
  }
`,Rn=E.div`
  width: 100%;
  background-color: var(--colorWarning);
  border-radius: 1.5rem;
  margin-top: 2rem;
  padding: 1rem 2rem;
  font-size: 1.4rem;

  ul {
    padding-left: 1.4rem;
  }
`,ya=E.pre`
  white-space: pre-wrap;
  overflow-wrap: break-word;
`,ba=E.strong`
  display: block;
  text-align: center;
  font-size: 1.6rem;
  margin-bottom: 1rem;
`,Xh=E.div`
  display: flex;
  justify-content: center;
  width: 100%;
  margin-top: 3rem;
`,In=E(ue)`
  width: 12rem;
`,Qh=E("pre")`
  display: block;
  border-radius: 12px;
  padding: 12px;
  background-color: rgba(255, 255, 255, 0.5);
`,va=3;function ef({state:e,isOpen:t,close:n,onDeploy:r,isDeploy:o,canisters:i,ttl:a,fileName:s,wasm:l,candid:d,initTypes:h,logger:u,origin:f}){const[m,b]=p.useState(""),[C,S]=p.useState([]),[k,A]=p.useState(!1),[x,_]=p.useState(""),[O,w]=p.useState(""),[y,T]=p.useState(!1),[j,M]=p.useState(!1),[q,H]=p.useState(!1),[B,N]=p.useState("incremental"),[v,D]=p.useState({wasm:void 0}),[g,R]=p.useState(""),[W,G]=p.useState(!1),[P,F]=p.useState("src/declarations"),I=p.useContext(Me),U=p.useContext($e),ee=p.useContext(kn),ie=Object.keys(i).length>=va,se=!l,ce="package.json"in e.files;p.useEffect(()=>{ie||b(fu(s))},[s]),p.useEffect(()=>{b(m.replaceAll(/[-\s]/g,"_")),ce&&F(`src/declarations/${m}`)},[ce,m]),p.useEffect(()=>{if(g&&v.wasm){if(g==="upgrade"&&!W){fe();return}W&&um(g)}},[v,W,g]),p.useEffect(()=>{const $=h.map(K=>Em(K));S($)},[h]);const Ce=p.useCallback($=>{$&&C.forEach(K=>K.render($))},[C]),We=()=>{if(!h.length)return Bn(h,[]);const $=C.map(K=>K.parse());if(!C.some(K=>K.isRejected()))return Bn(h,$)};async function fe(){let $=!1;if(i[m].stableSig&&v.stable){await I.Moc({type:"save",file:"pre.most",content:i[m].stableSig}),await I.Moc({type:"save",file:"post.most",content:v.stable});const K=await I.Moc({type:"stableCheck",pre:"pre.most",post:"post.most"});if(K.diagnostics){const ae=K.diagnostics.map(Se=>`[${Se.code}] ${Se.message}`).join(`
`);if(await w(ae),ae){$=!0;for(const Se of K.diagnostics)await U({type:"addSessionTag",payload:`moc:warn:${Se.code}`})}}else await w("")}if(i[m].candid&&v.candid){const K=i[m].candid,ae=await lt.subtype(v.candid,K);if(ae.hasOwnProperty("Err")){const Se=ae.Err.replaceAll("expected type","pre-upgrade interface");await _(Se),Se&&($=!0,await U({type:"addSessionTag",payload:"moc:warn:candid"}))}else await _("")}$?A(!0):G(!0)}async function me(){h.length>0&&await U({type:"addSessionTag",payload:"wasm:init_args"}),q&&await U({type:"addSessionTag",payload:"moc:gc:force"}),B!=="incremental"&&await U({type:"addSessionTag",payload:`moc:gc:${B}`});for(const $ of Object.values(e.packages))if($.name!=="base"){let K=$.repo;$.repo.startsWith("https://github.com/")&&$.repo.endsWith(".git")&&(K=$.repo.slice(19,-4)),await U({type:"addSessionTag",payload:`import:package:${K}`})}for(const $ of Object.values(e.canisters))$.isExternal&&await U({type:"addSessionTag",payload:`import:canister:${$.id}`});try{const $=await su(I,s);for(const K of $)await U({type:"addSessionTag",payload:`import:base:${K}`})}catch{}}async function um($){const K=We();await me(),console.log(f);try{await o(!0);const ae=await Ri(I,m,i[m],K,$,v.wasm,!1,y,j,u,f);if(await o(!1),ae){if(ae.candid=v.candid,ae.stableSig=v.stable,await I.Moc({type:"save",file:`idl/${ae.id}.did`,content:v.candid}),ce&&v.candid){const Se=(await lt.did_to_js(v.candid))[0],za=(await lt.binding(v.candid,"ts"))[0],Ut=`${P}/${ae.name}.did`;await U({type:"saveFile",payload:{path:`${Ut}.js`,contents:Se}}),await U({type:"saveFile",payload:{path:`${Ut}.d.ts`,contents:za}}),await ee.mkdir(`user/${P}`,{recursive:!0}),await ee.writeFile(`user/${Ut}.js`,Se),await ee.writeFile(`user/${Ut}.d.ts`,za),u.log(`Generated frontend bindings at ${Ut}.js`)}r(ae)}D({wasm:void 0}),await U({type:"clearSessionTags"})}catch(ae){throw o(!1),await U({type:"clearSessionTags"}),ae}}const Yr=async $=>{if(We()!==void 0){await n(),await U({type:"clearSessionTags"});try{if(G(!1),R($),l)await D({wasm:l,candid:d});else{q?await I.Moc({type:"gcFlags",option:"force"}):await I.Moc({type:"gcFlags",option:"scheduling"}),await I.Moc({type:"gcFlags",option:"classicOP"}),await I.Moc({type:"gcFlags",option:B}),await I.Moc({type:"setPublicMetadata",list:["candid:service","candid:args","motoko:stable-types"]});const K=await lu(I,s,u);if(!K)throw new Error("syntax error");await D(K[0]);for(const ae of K[1])await U({type:"addSessionTag",payload:`moc:warn:${ae}`})}$!=="upgrade"&&G(!0)}catch(K){throw o(!1),K}}},pm=c.jsx("p",{children:"Deploy your canister to the IC"}),hm=c.jsxs(Rn,{children:[c.jsx(ba,{children:"Note:"}),c.jsxs("ul",{children:[ie&&c.jsxs("li",{children:["You can deploy at most ",va," canisters at the same time."]}),c.jsx("li",{children:"Cycle transfer instructions are silently ignored by the system."}),c.jsx("li",{children:"Canister can use at most 1GB of stable memory and 1GB of heap memory."}),c.jsx("li",{children:"Canister can call management canister to manage itself without being the controller."}),c.jsxs("li",{children:["Deployed canister expires after"," ",(a/BigInt(6e10)).toString()," minutes."]})]})]}),fm=c.jsxs(Rn,{children:[c.jsx(ba,{children:"Note on Profiling"}),c.jsxs("ul",{children:[c.jsx("li",{children:"If you do not need to profile canister upgrade and the canister code doesn't access stable memory, you do not need to do anything else."}),c.jsxs("li",{children:['Otherwise, you need to check the "Reserved the first region in stable memory for profiling" checkbox, and add the following code at the top of the actor: (see'," ",c.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/dfinity/ic-wasm#working-with-upgrades-and-stable-memory",children:"this doc"})," ","for more background)"]})]}),c.jsx(Qh,{children:`import Region "mo:base/Region";
actor {
  stable let profiling = do {
    let r = Region.new();
    ignore Region.grow(r, 32);
    r
  };
  ...
`}),c.jsx("ul",{children:c.jsx("li",{children:"We cannot check if you have added the above code in your canister, but if you don't, the profiling may not work properly."})})]}),La="Select a canister name",mm=c.jsxs(c.Fragment,{children:[c.jsx(Q,{type:"text",labelText:La,list:"canisters",value:m,onChange:$=>b($.target.value)}),c.jsx("datalist",{id:"canisters",children:Object.keys(i).map(($,K)=>c.jsx("option",{children:$},`${$}${K}`))})]}),gm=c.jsx(Q,{required:!0,type:"select",labelText:La,value:m,onChange:$=>b($.target.value),children:Object.keys(i).map($=>c.jsx("option",{value:$,children:$}))});return c.jsxs(c.Fragment,{children:[c.jsx(Ye,{isOpen:t,close:n,label:"Deploy Canister",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:c.jsxs(Jh,{children:[c.jsxs("div",{style:{maxHeight:680,overflowY:"auto",width:"100%"},children:[pm,c.jsxs(Zh,{children:[ie?gm:mm,h.length>0&&c.jsxs(ga,{children:[c.jsx("p",{children:"This service requires the following installation arguments:"}),c.jsxs("p",{children:["(",h.map($=>$.name).join(", "),")"]}),c.jsx("div",{className:"InitArgs",ref:Ce})]}),ce&&c.jsx(Q,{type:"text",labelText:"Output JS Binding directory",value:P,onChange:$=>F($.target.value)}),c.jsx(Q,{type:"checkbox",labelText:"Enable profiling (experimental)",checked:y,onChange:$=>T($.target.checked)}),y?c.jsx(Q,{type:"checkbox",labelText:"Reserved the first region in stable memory for profiling",checked:j,onChange:$=>M($.target.checked)}):null,se?c.jsxs(ga,{children:[c.jsxs(Q,{type:"select",labelText:"GC strategy",value:B,onChange:$=>N($.target.value),children:[c.jsx("option",{value:"incremental",children:"Incremental GC (default)"}),c.jsx("option",{value:"copying",children:"Copying GC"}),c.jsx("option",{value:"marking",children:"Marking GC"}),c.jsx("option",{value:"generational",children:"Generational GC"})]}),c.jsx(Q,{type:"checkbox",labelText:"Force garbage collection (only if you want to test GC)",checked:q,onChange:$=>H($.target.checked)})]}):null]}),y?c.jsx(c.Fragment,{children:fm}):null,hm]}),m?c.jsxs(Xh,{children:[i.hasOwnProperty(m)?c.jsxs(c.Fragment,{children:[!y||y&&j?c.jsx(In,{variant:"primary",onClick:()=>Yr("upgrade"),children:"Upgrade"}):null,c.jsx(In,{onClick:()=>Yr("reinstall"),children:"Reinstall"})]}):c.jsx(In,{variant:"primary",onClick:()=>Yr("install"),children:"Install"}),c.jsx(In,{onClick:n,children:"Cancel"})]}):null]})}),c.jsxs(Yh,{isOpen:k,close:()=>A(!1),onConfirm:()=>G(!0),children:[c.jsx("h3",{style:{width:"100%",textAlign:"center"},children:"Warning"}),O?c.jsxs(Rn,{children:[c.jsx("strong",{children:"Incompatible stable signature will cause data loss:"}),c.jsx(ya,{children:O})]}):null,x?c.jsxs(Rn,{children:[c.jsx("strong",{children:"Upgrade is not backward compatible:"})," ",c.jsx(ya,{children:x})]}):null,c.jsx("p",{style:{fontSize:"1.4rem",marginTop:"2rem"},children:'Press "Continue" to upgrade canister anyway.'})]})]})}const tf="2c24b5e1584890a7965011d5d1d827aca68c489c9a6308475730420fa53372e8",nf=E.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  width: 46rem;
`,rf=E.div`
  width: 100%;
  margin-top: 2rem;
`,of=E.div`
  display: flex;
  justify-content: center;
  width: 100%;
  margin-top: 3rem;
`,$n=E(ue)`
  width: 12rem;
`,af=3;function sf(e){try{const t=JSON.parse(e);return Object.values(t.canisters).find(n=>n.type==="assets").source}catch{return["dist"]}}function cf({state:e,isOpen:t,close:n,onDeploy:r,isDeploy:o,canisters:i,logger:a,origin:s}){const[l,d]=p.useState("frontend"),[h,u]=p.useState(["dist"]),f=p.useContext(Me),m=p.useContext(kn);p.useEffect(()=>{u(sf(e.files["dfx.json"]))},[e.files["dfx.json"]]);const b=Object.keys(i).length>=af;async function C(_){try{if(await n(),m.isDummy){a.log("Frontend build is disabled.");return}const{files:w,env:y}=Ai(e.files,i);if(await m.mount(w,{mountPoint:"user"}),Object.keys(i).length===0){a.log("No backend canisters found. Please deploy at least one backend canister first.");return}await o(!0),a.log("Building frontend... (see logs in the terminal tab)"),await m.run_cmd("npm",["install"],{cwd:"user"}),await m.run_cmd("npm",["run","build"],{cwd:"user",env:y});var O=i[l];if(_!=="upgrade"){const j=tf.match(/.{2}/g).map(B=>parseInt(B,16));O=await Ri(f,l,i[l],new Uint8Array(Bn([],[])),_,new Uint8Array(j),!0,!1,!1,a,s);const M=Om.generate(),q=M.getPrincipal(),H=Bn([Tm],[q]);await Re.callForward(O,"authorize",H),await m.writeFile("utils/identity.json",JSON.stringify(M.toJSON())),a.log(`Authorized asset canister with ${q}`)}a.log("Uploading frontend...");const T=h.map(j=>`../user/${j}`).join(",");await m.run_cmd("node",["uploadAsset.js",O.id.toText(),T],{cwd:"utils"}),a.log("Frontend uploaded"),O.isFrontend=!0,r(O),await o(!1)}catch(w){throw a.log(w.message),await o(!1),w}}const S=c.jsx("p",{children:"Deploy your frontend to the IC"}),k="Select a canister name",A=c.jsxs(c.Fragment,{children:[c.jsx(Q,{type:"text",labelText:k,list:"canisters",value:l,onChange:_=>d(_.target.value)}),c.jsx("datalist",{id:"canisters",children:Object.keys(i).map((_,O)=>c.jsx("option",{children:_},`${_}${O}`))})]}),x=c.jsx(Q,{required:!0,type:"select",labelText:k,value:l,onChange:_=>d(_.target.value),children:Object.keys(i).map(_=>c.jsx("option",{value:_,children:_}))});return c.jsx(c.Fragment,{children:c.jsx(Ye,{isOpen:t,close:n,label:"Deploy Canister",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:c.jsxs(nf,{children:[c.jsxs("div",{style:{maxHeight:680,overflowY:"auto",width:"100%"},children:[S,c.jsxs(rf,{children:[b?x:A,c.jsx(Q,{type:"text",labelText:"Build directory",value:h,onChange:_=>u(_.target.value)})]})]}),l?c.jsxs(of,{children:[i.hasOwnProperty(l)?c.jsxs(c.Fragment,{children:[c.jsx($n,{variant:"primary",onClick:()=>C("upgrade"),children:"Update"}),c.jsx($n,{onClick:()=>C("reinstall"),children:"Reinstall"})]}):c.jsx($n,{variant:"primary",onClick:()=>C("install"),children:"Install"}),c.jsx($n,{onClick:n,children:"Cancel"})]}):null]})})})}const lf=`{
  "name": "node-utils",
  "version": "0.1.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "node-utils",
      "version": "0.1.0",
      "dependencies": {
        "@dfinity/agent": "^2.1.3",
        "@dfinity/assets": "^2.1.3",
        "@dfinity/candid": "^2.1.3",
        "@dfinity/identity": "^2.1.3",
        "@dfinity/principal": "^2.1.3",
        "glob": "^8.1.0"
      }
    },
    "node_modules/@dfinity/agent": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/@dfinity/agent/-/agent-2.1.3.tgz",
      "integrity": "sha512-4XmqhFR3GQSUrmx7lMFx7DyHEhFkM6nz4O9FeYJ/WpkmPe8tulKaAfgWbWdTSCjbd8meCgKVHo+QYj+JHXagcw==",
      "dependencies": {
        "@noble/curves": "^1.4.0",
        "@noble/hashes": "^1.3.1",
        "base64-arraybuffer": "^0.2.0",
        "borc": "^2.1.1",
        "buffer": "^6.0.3",
        "simple-cbor": "^0.4.1"
      },
      "peerDependencies": {
        "@dfinity/candid": "^2.1.3",
        "@dfinity/principal": "^2.1.3"
      }
    },
    "node_modules/@dfinity/assets": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/@dfinity/assets/-/assets-2.1.3.tgz",
      "integrity": "sha512-X+mIytc805zt7hgznzTbducHHemT7EBujBlGqL23XMsHmpAhOwljTiwOpY4UmUFrk2VekfWiQYDnwtyE/QxeJg==",
      "dependencies": {
        "base64-arraybuffer": "^1.0.2",
        "mime": "^3.0.0"
      },
      "peerDependencies": {
        "@dfinity/agent": "^2.1.3",
        "@dfinity/principal": "^2.1.3",
        "@noble/hashes": "^1.3.1"
      }
    },
    "node_modules/@dfinity/assets/node_modules/base64-arraybuffer": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/base64-arraybuffer/-/base64-arraybuffer-1.0.2.tgz",
      "integrity": "sha512-I3yl4r9QB5ZRY3XuJVEPfc2XhZO6YweFPI+UovAzn+8/hb3oJ6lnysaFcjVpkCPfVWFUDvoZ8kmVDP7WyRtYtQ==",
      "engines": {
        "node": ">= 0.6.0"
      }
    },
    "node_modules/@dfinity/candid": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/@dfinity/candid/-/candid-2.1.3.tgz",
      "integrity": "sha512-Asn7AfydLhhk7E5z9oW+5UL6ne11gxFlYTxHuhrIc7FdqYlM5Flcq1Wfg9EzRa6Btdol3w58Bcph7Brwh1bcIQ==",
      "peerDependencies": {
        "@dfinity/principal": "^2.1.3"
      }
    },
    "node_modules/@dfinity/identity": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/@dfinity/identity/-/identity-2.1.3.tgz",
      "integrity": "sha512-qII0V91S1YeIz5/XRHomwrUhTME+C3oqdTnb99tBitXA2Gq6LU2JaCLbKbN7ehhSyW6EjO4tySJxANz6hYENcQ==",
      "dependencies": {
        "@noble/curves": "^1.2.0",
        "@noble/hashes": "^1.3.1",
        "borc": "^2.1.1"
      },
      "peerDependencies": {
        "@dfinity/agent": "^2.1.3",
        "@dfinity/principal": "^2.1.3",
        "@peculiar/webcrypto": "^1.4.0"
      }
    },
    "node_modules/@dfinity/principal": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/@dfinity/principal/-/principal-2.1.3.tgz",
      "integrity": "sha512-HtiAfZcs+ToPYFepVJdFlorIfPA56KzC6J97ZuH2lGNMTAfJA+NEBzLe476B4wVCAwZ0TiGJ27J4ks9O79DFEg==",
      "dependencies": {
        "@noble/hashes": "^1.3.1"
      }
    },
    "node_modules/@noble/curves": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/@noble/curves/-/curves-1.6.0.tgz",
      "integrity": "sha512-TlaHRXDehJuRNR9TfZDNQ45mMEd5dwUwmicsafcIX4SsNiqnCHKjE/1alYPd/lDRVhxdhUAlv8uEhMCI5zjIJQ==",
      "dependencies": {
        "@noble/hashes": "1.5.0"
      },
      "engines": {
        "node": "^14.21.3 || >=16"
      },
      "funding": {
        "url": "https://paulmillr.com/funding/"
      }
    },
    "node_modules/@noble/hashes": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/@noble/hashes/-/hashes-1.5.0.tgz",
      "integrity": "sha512-1j6kQFb7QRru7eKN3ZDvRcP13rugwdxZqCjbiAVZfIJwgj2A65UmT4TgARXGlXgnRkORLTDTrO19ZErt7+QXgA==",
      "engines": {
        "node": "^14.21.3 || >=16"
      },
      "funding": {
        "url": "https://paulmillr.com/funding/"
      }
    },
    "node_modules/@peculiar/asn1-schema": {
      "version": "2.3.13",
      "resolved": "https://registry.npmjs.org/@peculiar/asn1-schema/-/asn1-schema-2.3.13.tgz",
      "integrity": "sha512-3Xq3a01WkHRZL8X04Zsfg//mGaA21xlL4tlVn4v2xGT0JStiztATRkMwa5b+f/HXmY2smsiLXYK46Gwgzvfg3g==",
      "peer": true,
      "dependencies": {
        "asn1js": "^3.0.5",
        "pvtsutils": "^1.3.5",
        "tslib": "^2.6.2"
      }
    },
    "node_modules/@peculiar/json-schema": {
      "version": "1.1.12",
      "resolved": "https://registry.npmjs.org/@peculiar/json-schema/-/json-schema-1.1.12.tgz",
      "integrity": "sha512-coUfuoMeIB7B8/NMekxaDzLhaYmp0HZNPEjYRm9goRou8UZIC3z21s0sL9AWoCw4EG876QyO3kYrc61WNF9B/w==",
      "peer": true,
      "dependencies": {
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=8.0.0"
      }
    },
    "node_modules/@peculiar/webcrypto": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/@peculiar/webcrypto/-/webcrypto-1.5.0.tgz",
      "integrity": "sha512-BRs5XUAwiyCDQMsVA9IDvDa7UBR9gAvPHgugOeGng3YN6vJ9JYonyDc0lNczErgtCWtucjR5N7VtaonboD/ezg==",
      "peer": true,
      "dependencies": {
        "@peculiar/asn1-schema": "^2.3.8",
        "@peculiar/json-schema": "^1.1.12",
        "pvtsutils": "^1.3.5",
        "tslib": "^2.6.2",
        "webcrypto-core": "^1.8.0"
      },
      "engines": {
        "node": ">=10.12.0"
      }
    },
    "node_modules/asn1js": {
      "version": "3.0.5",
      "resolved": "https://registry.npmjs.org/asn1js/-/asn1js-3.0.5.tgz",
      "integrity": "sha512-FVnvrKJwpt9LP2lAMl8qZswRNm3T4q9CON+bxldk2iwk3FFpuwhx2FfinyitizWHsVYyaY+y5JzDR0rCMV5yTQ==",
      "peer": true,
      "dependencies": {
        "pvtsutils": "^1.3.2",
        "pvutils": "^1.1.3",
        "tslib": "^2.4.0"
      },
      "engines": {
        "node": ">=12.0.0"
      }
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw=="
    },
    "node_modules/base64-arraybuffer": {
      "version": "0.2.0",
      "resolved": "https://registry.npmjs.org/base64-arraybuffer/-/base64-arraybuffer-0.2.0.tgz",
      "integrity": "sha512-7emyCsu1/xiBXgQZrscw/8KPRT44I4Yq9Pe6EGs3aPRTsWuggML1/1DTuZUuIaJPIm1FTDUVXl4x/yW8s0kQDQ==",
      "engines": {
        "node": ">= 0.6.0"
      }
    },
    "node_modules/base64-js": {
      "version": "1.5.1",
      "resolved": "https://registry.npmjs.org/base64-js/-/base64-js-1.5.1.tgz",
      "integrity": "sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ]
    },
    "node_modules/bignumber.js": {
      "version": "9.1.2",
      "resolved": "https://registry.npmjs.org/bignumber.js/-/bignumber.js-9.1.2.tgz",
      "integrity": "sha512-2/mKyZH9K85bzOEfhXDBFZTGd1CTs+5IHpeFQo9luiBG7hghdC851Pj2WAhb6E3R6b9tZj/XKhbg4fum+Kepug==",
      "engines": {
        "node": "*"
      }
    },
    "node_modules/borc": {
      "version": "2.1.2",
      "resolved": "https://registry.npmjs.org/borc/-/borc-2.1.2.tgz",
      "integrity": "sha512-Sy9eoUi4OiKzq7VovMn246iTo17kzuyHJKomCfpWMlI6RpfN1gk95w7d7gH264nApVLg0HZfcpz62/g4VH1Y4w==",
      "dependencies": {
        "bignumber.js": "^9.0.0",
        "buffer": "^5.5.0",
        "commander": "^2.15.0",
        "ieee754": "^1.1.13",
        "iso-url": "~0.4.7",
        "json-text-sequence": "~0.1.0",
        "readable-stream": "^3.6.0"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/borc/node_modules/buffer": {
      "version": "5.7.1",
      "resolved": "https://registry.npmjs.org/buffer/-/buffer-5.7.1.tgz",
      "integrity": "sha512-EHcyIPBQ4BSGlvjB16k5KgAJ27CIsHY/2JBmCRReo48y9rQ3MaUzWX3KVlBa4U7MyX02HdVj0K7C3WaB3ju7FQ==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "dependencies": {
        "base64-js": "^1.3.1",
        "ieee754": "^1.1.13"
      }
    },
    "node_modules/borc/node_modules/commander": {
      "version": "2.20.3",
      "resolved": "https://registry.npmjs.org/commander/-/commander-2.20.3.tgz",
      "integrity": "sha512-GpVkmM8vF2vQUkj2LvZmD35JxeJOLCwJ9cUkugyk2nuhbv3+mJvpLYYt+0+USMxE+oj+ey/lJEnhZw75x/OMcQ=="
    },
    "node_modules/brace-expansion": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.1.tgz",
      "integrity": "sha512-XnAIvQ8eM+kC6aULx6wuQiwVsnzsi9d3WxzV3FpWTGA19F621kwdbsAcFKXgKUHZWsy+mY6iL1sHTxWEFCytDA==",
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/buffer": {
      "version": "6.0.3",
      "resolved": "https://registry.npmjs.org/buffer/-/buffer-6.0.3.tgz",
      "integrity": "sha512-FTiCpNxtwiZZHEZbcbTIcZjERVICn9yq/pDFkTl95/AxzD1naBctN7YO68riM/gLSDY7sdrMby8hofADYuuqOA==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "dependencies": {
        "base64-js": "^1.3.1",
        "ieee754": "^1.2.1"
      }
    },
    "node_modules/delimit-stream": {
      "version": "0.1.0",
      "resolved": "https://registry.npmjs.org/delimit-stream/-/delimit-stream-0.1.0.tgz",
      "integrity": "sha512-a02fiQ7poS5CnjiJBAsjGLPp5EwVoGHNeu9sziBd9huppRfsAFIpv5zNLv0V1gbop53ilngAf5Kf331AwcoRBQ=="
    },
    "node_modules/fs.realpath": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz",
      "integrity": "sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw=="
    },
    "node_modules/glob": {
      "version": "8.1.0",
      "resolved": "https://registry.npmjs.org/glob/-/glob-8.1.0.tgz",
      "integrity": "sha512-r8hpEjiQEYlF2QU0df3dS+nxxSIreXQS1qRhMJM0Q5NDdR386C7jb7Hwwod8Fgiuex+k0GFjgft18yvxm5XoCQ==",
      "deprecated": "Glob versions prior to v9 are no longer supported",
      "dependencies": {
        "fs.realpath": "^1.0.0",
        "inflight": "^1.0.4",
        "inherits": "2",
        "minimatch": "^5.0.1",
        "once": "^1.3.0"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/ieee754": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/ieee754/-/ieee754-1.2.1.tgz",
      "integrity": "sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ]
    },
    "node_modules/inflight": {
      "version": "1.0.6",
      "resolved": "https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz",
      "integrity": "sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==",
      "deprecated": "This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.",
      "dependencies": {
        "once": "^1.3.0",
        "wrappy": "1"
      }
    },
    "node_modules/inherits": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz",
      "integrity": "sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ=="
    },
    "node_modules/iso-url": {
      "version": "0.4.7",
      "resolved": "https://registry.npmjs.org/iso-url/-/iso-url-0.4.7.tgz",
      "integrity": "sha512-27fFRDnPAMnHGLq36bWTpKET+eiXct3ENlCcdcMdk+mjXrb2kw3mhBUg1B7ewAC0kVzlOPhADzQgz1SE6Tglog==",
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/json-text-sequence": {
      "version": "0.1.1",
      "resolved": "https://registry.npmjs.org/json-text-sequence/-/json-text-sequence-0.1.1.tgz",
      "integrity": "sha512-L3mEegEWHRekSHjc7+sc8eJhba9Clq1PZ8kMkzf8OxElhXc8O4TS5MwcVlj9aEbm5dr81N90WHC5nAz3UO971w==",
      "dependencies": {
        "delimit-stream": "0.1.0"
      }
    },
    "node_modules/mime": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/mime/-/mime-3.0.0.tgz",
      "integrity": "sha512-jSCU7/VB1loIWBZe14aEYHU/+1UMEHoaO7qxCOVJOw9GgH72VAWppxNcjU+x9a2k3GSIBXNKxXQFqRvvZ7vr3A==",
      "bin": {
        "mime": "cli.js"
      },
      "engines": {
        "node": ">=10.0.0"
      }
    },
    "node_modules/minimatch": {
      "version": "5.1.6",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-5.1.6.tgz",
      "integrity": "sha512-lKwV/1brpG6mBUFHtb7NUmtABCb2WZZmm2wNiOA5hAb8VdCS4B3dtMWyvcoViccwAW/COERjXLt0zP1zXUN26g==",
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/once": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/once/-/once-1.4.0.tgz",
      "integrity": "sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==",
      "dependencies": {
        "wrappy": "1"
      }
    },
    "node_modules/pvtsutils": {
      "version": "1.3.5",
      "resolved": "https://registry.npmjs.org/pvtsutils/-/pvtsutils-1.3.5.tgz",
      "integrity": "sha512-ARvb14YB9Nm2Xi6nBq1ZX6dAM0FsJnuk+31aUp4TrcZEdKUlSqOqsxJHUPJDNE3qiIp+iUPEIeR6Je/tgV7zsA==",
      "peer": true,
      "dependencies": {
        "tslib": "^2.6.1"
      }
    },
    "node_modules/pvutils": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/pvutils/-/pvutils-1.1.3.tgz",
      "integrity": "sha512-pMpnA0qRdFp32b1sJl1wOJNxZLQ2cbQx+k6tjNtZ8CpvVhNqEPRgivZ2WOUev2YMajecdH7ctUPDvEe87nariQ==",
      "peer": true,
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/readable-stream": {
      "version": "3.6.2",
      "resolved": "https://registry.npmjs.org/readable-stream/-/readable-stream-3.6.2.tgz",
      "integrity": "sha512-9u/sniCrY3D5WdsERHzHE4G2YCXqoG5FTHUiCC4SIbr6XcLZBY05ya9EKjYek9O5xOAwjGq+1JdGBAS7Q9ScoA==",
      "dependencies": {
        "inherits": "^2.0.3",
        "string_decoder": "^1.1.1",
        "util-deprecate": "^1.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/safe-buffer": {
      "version": "5.2.1",
      "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.2.1.tgz",
      "integrity": "sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ]
    },
    "node_modules/simple-cbor": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/simple-cbor/-/simple-cbor-0.4.1.tgz",
      "integrity": "sha512-rijcxtwx2b4Bje3sqeIqw5EeW7UlOIC4YfOdwqIKacpvRQ/D78bWg/4/0m5e0U91oKvlGh7LlJuZCu07ISCC7w=="
    },
    "node_modules/string_decoder": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/string_decoder/-/string_decoder-1.3.0.tgz",
      "integrity": "sha512-hkRX8U1WjJFd8LsDJ2yQ/wWWxaopEsABU1XfkM8A+j0+85JAGppt16cr1Whg6KIbb4okU6Mql6BOj+uup/wKeA==",
      "dependencies": {
        "safe-buffer": "~5.2.0"
      }
    },
    "node_modules/tslib": {
      "version": "2.7.0",
      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.7.0.tgz",
      "integrity": "sha512-gLXCKdN1/j47AiHiOkJN69hJmcbGTHI0ImLmbYLHykhgeN0jVGola9yVjFgzCUklsZQMW55o+dW7IXv3RCXDzA==",
      "peer": true
    },
    "node_modules/util-deprecate": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
      "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw=="
    },
    "node_modules/webcrypto-core": {
      "version": "1.8.0",
      "resolved": "https://registry.npmjs.org/webcrypto-core/-/webcrypto-core-1.8.0.tgz",
      "integrity": "sha512-kR1UQNH8MD42CYuLzvibfakG5Ew5seG85dMMoAM/1LqvckxaF6pUiidLuraIu4V+YCIFabYecUZAW0TuxAoaqw==",
      "peer": true,
      "dependencies": {
        "@peculiar/asn1-schema": "^2.3.8",
        "@peculiar/json-schema": "^1.1.12",
        "asn1js": "^3.0.1",
        "pvtsutils": "^1.3.5",
        "tslib": "^2.6.2"
      }
    },
    "node_modules/wrappy": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz",
      "integrity": "sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ=="
    }
  }
}
`,df=`{
  "name": "node-utils",
  "version": "0.1.0",
  "private": true,
  "dependencies": {
    "@dfinity/agent": "^2.1.3",
    "@dfinity/candid": "^2.1.3",
    "@dfinity/principal": "^2.1.3",
    "@dfinity/assets": "^2.1.3",
    "@dfinity/identity": "^2.1.3",
    "glob": "^8.1.0"
  }
}
`,uf=`const { AssetManager } = require("@dfinity/assets");
const { HttpAgent } = require("@dfinity/agent");
const { Ed25519KeyIdentity } = require("@dfinity/identity");
const fs = require("fs");
const path = require("path");
const glob = require("glob");
const util = require("util");
const crypto = require("crypto");

const globPromise = util.promisify(glob);
const identity = Ed25519KeyIdentity.fromJSON(
  fs.readFileSync("./identity.json", "utf-8"),
);
const agent = HttpAgent.createSync({
  host: "https://icp-api.io", //"http://mylocalhost.com:4943",
  identity,
});
//agent.fetchRootKey();

async function upload(canisterId, asset_dirs) {
  const assetManager = new AssetManager({
    canisterId,
    agent,
  });
  const headers = [
    ["Cross-Origin-Embedder-Policy", "require-corp"],
    ["Cross-Origin-Resource-Policy", "cross-origin"],
  ];
  const old = await assetManager.list();
  const oldKeys = new Set(old.map((f) => f.key));
  console.log(oldKeys);
  const batch = assetManager.batch();
  for (const asset_dir of asset_dirs.split(",")) {
    const files = await globPromise(\`\${asset_dir}/**/*\`, { nodir: true });
    for (const file of files) {
      const fileName = path.relative(asset_dir, file);
      const contents = fs.readFileSync(file);
      if (contents.length === 0) {
        continue;
      }
      const key = \`/\${fileName}\`;
      const item = old.find((f) => f.key === key);
      if (item) {
        oldKeys.delete(key);
        const hash = crypto.createHash("sha256").update(contents).digest();
        const encoding = item.encodings.find(
          (e) => e.content_encoding === "identity",
        );
        if (encoding && Buffer.from(encoding.sha256[0]).equals(hash)) {
          console.log(\`Skip \${fileName}\`);
          continue;
        } else {
          console.log(\`Replace \${fileName}\`);
          batch.delete(key);
        }
      } else {
        console.log(\`Add \${fileName}\`);
      }
      await batch.store(contents, { fileName, headers });
    }
  }
  for (const key of oldKeys) {
    console.log(\`Delete \${key}\`);
    batch.delete(key);
  }
  await batch.commit();
}

if (process.argv.length !== 4) {
  console.error("Usage: node uploadAsset.js <canister_id> <asset_dir>");
  process.exit(1);
}
(async () => {
  const [, , canister_id, asset_dir] = process.argv;
  await upload(canister_id, asset_dir);
})();
`,pf="https://stackblitz.com",hf=new Error;hf.stack="";function ff(){let e,t;function n(){t=new Promise(r=>e=r)}return n(),{get promise(){return t},resolve(r){return e(r)},reset:n}}let Fn;const mf={initialized:!1,forwardAuth:!0,redirectUri:"",authComplete:ff(),clientId:"",oauthScope:"",broadcastChannel:null,get editorOrigin(){return Fn==null&&(Fn=new URL(globalThis.WEBCONTAINER_API_IFRAME_URL??pf).origin),Fn},set editorOrigin(e){Fn=e},tokens:null};function wa(e){const t={d:{}};for(const n of Object.keys(e)){const r=e[n];if("file"in r){const i=r.file.contents,a=typeof i=="string"?i:gf(i),s=typeof i=="string"?{}:{b:!0};t.d[n]={f:{c:a,...s}};continue}const o=wa(r.directory);t.d[n]=o}return t}function gf(e){let t="";for(const n of e)t+=String.fromCharCode(n);return t}var Wt;(function(e){e.UncaughtException="PREVIEW_UNCAUGHT_EXCEPTION",e.UnhandledRejection="PREVIEW_UNHANDLED_REJECTION",e.ConsoleError="PREVIEW_CONSOLE_ERROR"})(Wt||(Wt={}));var yf=Object.defineProperty,bf=(e,t)=>{for(var n in t)yf(e,n,{get:t[n],enumerable:!0})},je={};bf(je,{createEndpoint:()=>xa,expose:()=>Ur,proxy:()=>Ta,proxyMarker:()=>Lr,releaseProxy:()=>Ca,transfer:()=>Oa,transferHandlers:()=>Wr,windowEndpoint:()=>kf,wrap:()=>ja});var Lr=Symbol("Comlink.proxy"),xa=Symbol("Comlink.endpoint"),Ca=Symbol("Comlink.releaseProxy"),zr=Symbol("Comlink.thrown"),ka=e=>typeof e=="object"&&e!==null||typeof e=="function",vf={canHandle:e=>ka(e)&&e[Lr],serialize(e){const{port1:t,port2:n}=new MessageChannel;return Ur(e,t),[n,[n]]},deserialize(e){return e.start(),ja(e)}},wf={canHandle:e=>ka(e)&&zr in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},Wr=new Map([["proxy",vf],["throw",wf]]);function Ur(e,t=self){t.addEventListener("message",function n(r){if(!r||!r.data)return;const{id:o,type:i,path:a}=Object.assign({path:[]},r.data),s=(r.data.argumentList||[]).map(Je);let l;try{const d=a.slice(0,-1).reduce((u,f)=>u[f],e),h=a.reduce((u,f)=>u[f],e);switch(i){case 0:l=h;break;case 1:d[a.slice(-1)[0]]=Je(r.data.value),l=!0;break;case 2:l=h.apply(d,s);break;case 3:{const u=new h(...s);l=Ta(u)}break;case 4:{const{port1:u,port2:f}=new MessageChannel;Ur(e,f),l=Oa(u,[u])}break;case 5:l=void 0;break}}catch(d){l={value:d,[zr]:0}}Promise.resolve(l).catch(d=>({value:d,[zr]:0})).then(d=>{const[h,u]=Hr(d);t.postMessage(Object.assign(Object.assign({},h),{id:o}),u),i===5&&(t.removeEventListener("message",n),_a(t))})}),t.start&&t.start()}function xf(e){return e.constructor.name==="MessagePort"}function _a(e){xf(e)&&e.close()}function ja(e,t){return qr(e,[],t)}function Ln(e){if(e)throw new Error("Proxy has been released and is not useable")}function qr(e,t=[],n=function(){}){let r=!1;const o=new Proxy(n,{get(i,a){if(Ln(r),a===Ca)return()=>wt(e,{type:5,path:t.map(s=>s.toString())}).then(()=>{_a(e),r=!0});if(a==="then"){if(t.length===0)return{then:()=>o};const s=wt(e,{type:0,path:t.map(l=>l.toString())}).then(Je);return s.then.bind(s)}return qr(e,[...t,a])},set(i,a,s){Ln(r);const[l,d]=Hr(s);return wt(e,{type:1,path:[...t,a].map(h=>h.toString()),value:l},d).then(Je)},apply(i,a,s){Ln(r);const l=t[t.length-1];if(l===xa)return wt(e,{type:4}).then(Je);if(l==="bind")return qr(e,t.slice(0,-1));const[d,h]=Sa(s);return wt(e,{type:2,path:t.map(u=>u.toString()),argumentList:d},h).then(Je)},construct(i,a){Ln(r);const[s,l]=Sa(a);return wt(e,{type:3,path:t.map(d=>d.toString()),argumentList:s},l).then(Je)}});return o}function Cf(e){return Array.prototype.concat.apply([],e)}function Sa(e){const t=e.map(Hr);return[t.map(n=>n[0]),Cf(t.map(n=>n[1]))]}var Ea=new WeakMap;function Oa(e,t){return Ea.set(e,t),e}function Ta(e){return Object.assign(e,{[Lr]:!0})}function kf(e,t=self,n="*"){return{postMessage:(r,o)=>e.postMessage(r,n,o),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function Hr(e){for(const[t,n]of Wr)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:3,name:t,value:r},o]}return[{type:0,value:e},Ea.get(e)||[]]}function Je(e){switch(e.type){case 3:return Wr.get(e.name).deserialize(e.value);case 0:return e.value}}function wt(e,t,n){return new Promise(r=>{const o=_f();e.addEventListener("message",function i(a){!a.data||!a.data.id||a.data.id!==o||(e.removeEventListener("message",i),r(a.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)})}function _f(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const jf=[Wt.ConsoleError,Wt.UncaughtException,Wt.UnhandledRejection];function Sf(e){return!(e==null||typeof e!="object"||!("type"in e)||!jf.includes(e.type))}let zn=null,Wn=null,Br={};const Ef=new TextDecoder,Of=new TextEncoder,Xe=class Xe{constructor(t,n,r){J(this,"_instance");J(this,"_runtimeInfo");J(this,"fs");J(this,"_tornDown",!1);J(this,"_unsubscribeFromTokenChangedListener",()=>{});this._instance=t,this._runtimeInfo=r,this.fs=new Pf(n)}async spawn(t,n,r){let o=[];Array.isArray(n)?o=n:r=n;let i,a=new ReadableStream;if((r==null?void 0:r.output)!==!1){const d=Wf();i=d.push,a=d.stream}const s=Aa(If(i)),l=await this._instance.run({command:t,args:o,cwd:r==null?void 0:r.cwd,env:r==null?void 0:r.env,terminal:r==null?void 0:r.terminal},void 0,void 0,s);return new Df(l,a)}on(t,n){if(t==="preview-message"){const i=n;n=a=>{Sf(a)&&i(a)}}const{listener:r,subscribe:o}=Uf(n);return o(this._instance.on(t,je.proxy(r)))}mount(t,n){const r=t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):Of.encode(JSON.stringify(wa(t)));return this._instance.loadFiles(je.transfer(r,[r.buffer]),{mountPoints:n==null?void 0:n.mountPoint})}get path(){return this._runtimeInfo.path}get workdir(){return this._runtimeInfo.cwd}teardown(){if(this._tornDown)throw new Error("WebContainer already torn down");this._tornDown=!0,this._unsubscribeFromTokenChangedListener(),this.fs._teardown(),this._instance.teardown(),this._instance[je.releaseProxy](),Xe._instance===this&&(Xe._instance=null)}static async boot(t={}){const{workdirName:n}=t;if(window.crossOriginIsolated&&t.coep==="none"&&console.warn(`A Cross-Origin-Embedder-Policy header is required in cross origin isolated environments.
Set the 'coep' option to 'require-corp'.`),(n==null?void 0:n.includes("/"))||n===".."||n===".")throw new Error("workdirName should be a valid folder name");for(;zn;)await zn;if(Xe._instance)throw new Error("Only a single WebContainer instance can be booted");const r=Rf(t);zn=r.catch(()=>{});try{const o=await r;return Xe._instance=o,o}finally{zn=null}}};J(Xe,"_instance",null);let Un=Xe;const Tf=1,Af=2;class Mf{constructor(t,n){J(this,"name");J(this,"_type");this.name=t,this._type=n}isFile(){return this._type===Tf}isDirectory(){return this._type===Af}}class Nf{constructor(t,n,r,o){J(this,"_apiClient");J(this,"_path");J(this,"_options");J(this,"_listener");J(this,"_wrappedListener");J(this,"_watcher");J(this,"_closed",!1);this._apiClient=t,this._path=n,this._options=r,this._listener=o,this._apiClient._watchers.add(this),this._wrappedListener=(i,a)=>{this._listener&&!this._closed&&this._listener(i,a)},this._apiClient._fs.watch(this._path,this._options,Aa(this._wrappedListener)).then(i=>{this._watcher=i,this._closed&&this._teardown()}).catch(console.error)}close(){this._closed||(this._closed=!0,this._apiClient._watchers.delete(this),this._teardown())}_teardown(){var t;(t=this._watcher)==null||t.close().finally(()=>{var n;(n=this._watcher)==null||n[je.releaseProxy]()})}}class Df{constructor(t,n){J(this,"output");J(this,"input");J(this,"exit");J(this,"_process");this.output=n,this._process=t,this.input=new WritableStream({write:r=>{var o;(o=this._getProcess())==null||o.write(r).catch(()=>{})}}),this.exit=this._onExit()}kill(){var t;(t=this._getProcess())==null||t.kill()}resize(t){var n;(n=this._getProcess())==null||n.resize(t)}async _onExit(){var t;try{return await this._process.onExit}finally{(t=this._process)==null||t[je.releaseProxy](),this._process=null}}_getProcess(){return this._process==null&&console.warn("This process already exited"),this._process}}class Pf{constructor(t){J(this,"_fs");J(this,"_watchers",new Set([]));this._fs=t}rm(...t){return this._fs.rm(...t)}async readFile(t,n){return await this._fs.readFile(t,n)}async rename(t,n){return await this._fs.rename(t,n)}async writeFile(t,n,r){if(n instanceof Uint8Array){const o=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);n=je.transfer(new Uint8Array(o),[o])}await this._fs.writeFile(t,n,r)}async readdir(t,n){const r=await this._fs.readdir(t,n);return Ff(r)||Lf(r)?r:r.map(o=>new Mf(o.name,o["Symbol(type)"]))}async mkdir(t,n){return await this._fs.mkdir(t,n)}watch(t,n,r){return typeof n=="function"&&(r=n,n=null),new Nf(this,t,n,r)}_teardown(){this._fs[je.releaseProxy]();for(const t of this._watchers)t.close()}}async function Rf(e){const{serverPromise:t}=$f(e),n=await(await t).build({host:window.location.host,version:"1.2.4",workdirName:e.workdirName,forwardPreviewErrors:e.forwardPreviewErrors}),r=await n.fs(),o=await n.runtimeInfo();return new Un(n,r,o)}function If(e){if(e!=null)return t=>{t instanceof Uint8Array?e(Ef.decode(t)):t==null&&e(null)}}function Aa(e){if(e!=null)return je.proxy(e)}function $f(e){if(Wn!=null)return e.coep!==Br.coep&&(console.warn(`Attempting to boot WebContainer with 'coep: ${e.coep}'`),console.warn(`First boot had 'coep: ${Br.coep}', new settings will not take effect!`)),{serverPromise:Wn};const t=document.createElement("iframe");t.style.display="none",t.setAttribute("allow","cross-origin-isolated");const n=zf();e.coep&&n.searchParams.set("coep",e.coep),t.src=n.toString();const{origin:r}=n;return Br={...e},Wn=new Promise(o=>{const i=a=>{if(a.origin!==r)return;const{data:s}=a;if(s.type==="init"){o(je.wrap(a.ports[0]));return}if(s.type==="warning"){console[s.level].call(console,s.message);return}};window.addEventListener("message",i)}),document.body.insertBefore(t,null),{serverPromise:Wn}}function Ff(e){return typeof e[0]=="string"}function Lf(e){return e[0]instanceof Uint8Array}function zf(){const e=new URL(mf.editorOrigin);return e.pathname="/headless",e.searchParams.set("version","1.2.4"),e}function Wf(){let e=null;return{stream:new ReadableStream({start(t){e=t}}),push:t=>{t!=null?e==null||e.enqueue(t):(e==null||e.close(),e=null)}}}function Uf(e){let t=!1,n=()=>{};return{subscribe(r){return r.then(o=>{n=o,t&&n()}),()=>{t=!0,n()}},listener:(...r)=>{t||e(...r)}}}class qf{constructor(t){J(this,"container",null);J(this,"isDummy",!1);J(this,"terminal");this.terminal=t}async init(){if(!this.isDummy){if(!this.container)try{this.container=await Un.boot({coep:"credentialless",workdirName:"playground"})}catch(t){this.isDummy=!0,console.error(t)}return this.container}}async initFiles(){if(await this.init(),this.isDummy)return;const t={utils:{directory:Object.entries(Object.assign({"./node/package-lock.json":lf,"./node/package.json":df,"./node/uploadAsset.js":uf})).reduce((n,[r,o])=>{const i=r.replace("./node/","");return n[i]={file:{contents:o}},n},{})},user:{directory:{}},etc:{directory:{hosts:{file:{contents:"127.0.0.1 mylocalhost.com"}}}}};await this.container.mount(t)}async mount(t,n){await this.init(),!this.isDummy&&await this.container.mount(t,n)}async rm(t,n){await this.init(),!this.isDummy&&await this.container.fs.rm(t,n)}async writeFile(t,n,r){await this.init(),!this.isDummy&&await this.container.fs.writeFile(t,n,r)}async mkdir(t,n){await this.init(),!this.isDummy&&await this.container.fs.mkdir(t,n)}async spawn(t,n,r){const o={...r,terminal:{cols:this.terminal.cols,rows:this.terminal.rows}};return await this.container.spawn(t,n,o)}async start_shell(){if(await this.init(),this.isDummy){this.terminal.writeln("WebContainer fails to initialize. Frontend build is disabled.");return}const t=navigator.userAgent.toLowerCase(),n=["chrome","edge","brave","opera","duckduckgo","vivaldi"].some(a=>t.indexOf(a)>-1),r=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(t);(!n||r)&&this.terminal.writeln(`You are using ${r?"a mobile browser":t}.
Some terminal commands may not work. Please consider using a desktop Chromium-based browser like Chrome, Edge, or Brave.`);const o=await this.spawn("jsh",[]);o.output.pipeTo(new WritableStream({write:a=>{a.includes("command not found: moc")?this.terminal.writeln("haha, you called moc!"):this.terminal.write(a)}}));const i=o.input.getWriter();return this.terminal.onData(a=>{i.write(a)}),o}async run_cmd(t,n,r){if(await this.init(),this.isDummy)return;((r==null?void 0:r.output)??!0)&&this.terminal.writeln(`/${(r==null?void 0:r.cwd)??""}$ ${t} ${n.join(" ")}`);const o=await this.spawn(t,n,r);o.output.pipeTo(new WritableStream({write:a=>{this.terminal.write(a)}}));const i=await o.exit;if(i!==0)throw this.terminal.writeln(`\r
exited with code ${i}`),new Error(`Command failed with code ${i}`)}}const Ma="0.13.3",Hf=$o`
  :root {
    font-family: "CircularXX", sans-serif;
    font-size: 10px;
  }

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-size: 1.6rem;
    color: var(--grey700);
  }

  button {
    cursor: pointer;

    &:active {
      filter: brightness(0.85);
    }
  }
`,Bf=E.div`
  display: flex;
  height: var(--appHeight);
  overflow: hidden;

  width: 100vw;
  border-top: 1px solid var(--grey400);
  --candidWidth: ${e=>e.candidWidth??0};
  --consoleHeight: ${e=>e.consoleHeight??0};
`,Le=qo(new Worker(new URL("/assets/moc-DPG6DfQZ.js",import.meta.url),{type:"module"})),Na=new Nm.Terminal({convertEol:!0,cursorBlink:!0,fontSize:14,fontFamily:"monospace",theme:{background:"#ffffff",foreground:"#000000",cursor:"#000000",selectionBackground:"#aaaaaa"}}),Ne=new qf(Na),ze=new URLSearchParams(window.location.search),Vr=!!(ze.get("git")||ze.get("tag")||ze.get("post"));async function Vf(e){const t=ze.get("git"),n=ze.get("tag"),r=ze.get("post");if(r){const o=await gu(r,e,Le);if(o){const{files:i}=o;return i}}if(t){const o={repo:t,branch:ze.get("branch")||"main",dir:ze.get("dir")||""};return await e({type:"setOrigin",payload:{origin:"playground",tags:[`git:${t}`]}}),await Le.fetchGithub(o)}if(n){const o=await Qo.getProject(BigInt(n));if(o.length===1){const i=o[0].project,a=Object.fromEntries(i.files.map(s=>(Le.Moc({type:"save",file:s.name,content:s.content}),[s.name,s.content])));if(i.packages.length)for(const s of i.packages[0]){const l={name:s.name,repo:s.repo,version:s.version,dir:s.dir.length?s.dir[0]:void 0,homepage:s.homepage.length?s.homepage[0]:void 0};await Le.fetchPackage(l)&&await e({type:"loadPackage",payload:{name:l.name,package:l}})}if(i.canisters.length)for(const s of i.canisters[0]){const l={id:s.id,isExternal:!0,name:s.name,candid:s.candid};await Le.Moc({type:"save",file:`idl/${l.id}.did`,content:l.candid}),await e({type:"deployWorkplace",payload:{canister:l}})}return await e({type:"setOrigin",payload:{origin:"playground",tags:[`tag:${n}`]}}),a}}}function Gf(){var G,P,F;const[e,t]=p.useReducer(Ni.reduce,{},Ni.init),[n,r]=p.useState(!Vr),[o,i]=p.useState(!Vr),[a,s]=p.useState(!1),[l,d]=p.useState("0"),[h,u]=p.useState("3rem"),[f,m]=p.useState(BigInt(0)),[b,C]=p.useReducer(I=>(I+1)%10,0),[S,k]=p.useState(!1),[A,x]=p.useState(!1),[_,O]=p.useState(!1),[w,y]=p.useState(""),[T,j]=p.useState([]),[M,q]=p.useState(""),[H,B]=p.useState(void 0),N={setMainFile:q,setInitTypes:j,setCandidCode:y,setShowDeployModal:k,setShowFrontendDeployModal:x,setWasm:B},v=Si();function D(){r(!1),o&&setTimeout(()=>i(!1),750)}async function g(){v.log("Sharing project code...");const I=ou(e),U=await Qo.putProject(I);v.log(`Use this link to access the code:
${window.location.origin}/?tag=${U.toString()}`)}const R=I=>{if(C(),t({type:"deployWorkplace",payload:{canister:I}}),I.name){const U={...e.canisters,[I.name]:I},{env_files:ee}=Mi(U);Object.entries(ee).forEach(([ie,se])=>{Ne.writeFile(`user/${ie}`,se.file.contents)})}},W=p.useCallback(async I=>{t({type:"loadProject",payload:{files:I}});const{files:U}=Ai(I,e.canisters);await Ne.rm("user",{recursive:!0,force:!0}),await Ne.mkdir("user"),await Ne.mount(U,{mountPoint:"user"})},[t]);return p.useEffect(()=>{const I={name:"base",repo:"https://github.com/dfinity/motoko-base.git",dir:"src",version:`moc-${Ma}`,homepage:"https://sdk.dfinity.org/docs/base-libraries/stdlib-intro.html"};(async()=>{if(await Le.fetchPackage(I),await t({type:"loadPackage",payload:{name:"base",package:I}}),v.log(`moc version ${Ma}`),v.log(`base library version ${I.version}`),await Ne.initFiles(),await Ne.run_cmd("npm",["install"],{cwd:"utils",output:!1}),Ne.start_shell(),Ne.isDummy?v.log("WebContainer is not supported in this browser. Frontend build is disabled."):v.log("Shell started in the terminal tab"),Vr){const U=await Vf(t);U?W(U):v.log(`Failed to fetch files from "${window.location.search}"`)}})()},[]),p.useEffect(()=>{(async()=>m((await Re.getInitParams()).canister_time_to_live))()},[]),p.useEffect(()=>{Le.Moc({type:"setActorAliases",list:Oi(e.canisters)})},[e.canisters]),p.useEffect(()=>{const I=e.selectedCanister&&e.canisters[e.selectedCanister];s(I),d(I?"30vw":"0")},[e.canisters,e.selectedCanister]),c.jsxs("main",{children:[c.jsx(Hf,{}),c.jsx($h,{shareProject:g,openTutorial:()=>r(!0)}),c.jsx($e.Provider,{value:t,children:c.jsx(Me.Provider,{value:Le,children:c.jsxs(kn.Provider,{value:Ne,children:[c.jsx(Vh,{isOpen:n,importCode:W,close:D,isFirstOpen:o}),c.jsx(ef,{state:e,isOpen:S,close:()=>k(!1),onDeploy:R,isDeploy:O,canisters:Ti(e.canisters),ttl:f,fileName:M,wasm:H,candid:w,initTypes:T,logger:v,origin:e.origin}),c.jsx(cf,{state:e,isOpen:A,close:()=>x(!1),onDeploy:R,isDeploy:O,canisters:Ti(e.canisters),logger:v,origin:e.origin}),c.jsxs(Bf,{candidWidth:l,consoleHeight:h,children:[c.jsx(Oh,{state:e,ttl:f,logger:v,deploySetter:N}),c.jsx(Cu,{state:e,logger:v,terminal:Na,deploySetter:N,isDeploying:_,setConsoleHeight:u}),a?c.jsx(fc,{setCandidWidth:d,canisterId:(G=e.canisters[e.selectedCanister])==null?void 0:G.id.toString(),candid:(P=e.canisters[e.selectedCanister])==null?void 0:P.candid,isFrontend:((F=e.canisters[e.selectedCanister])==null?void 0:F.isFrontend)??!1,forceUpdate:b,onMessage:({origin:I,source:U,message:ee})=>{if(!ee.caller)return;const ie=Object.fromEntries(Object.entries(e.canisters).map(([se,ce])=>[ce.id,se]));Object.values(e.canisters).forEach(async se=>{!se.timestamp||se.isExternal||(await Re.getSubtree(se)).reverse().forEach(([ce,Ce])=>{const We=ie[ce];Ce.reverse().forEach((fe,me)=>{fe.name=`${We}_${me}`,fe.isExternal=!1,ie[fe.id]=fe.name,t({type:"deployWorkplace",payload:{canister:fe,do_not_select:!0}})})})})}}):null]})]})})})]})}function Kf(e,t,n){p.useEffect(()=>{if(!document)return;const r=document.querySelector('script[src="'.concat(e,'"]'));if(r!=null&&r.dataset.loaded){t==null||t();return}const o=r||document.createElement("script");r||(o.src=e);const i=()=>{o.dataset.loaded="1",t==null||t()};return o.addEventListener("load",i),n&&o.addEventListener("error",n),r||document.head.append(o),()=>{o.removeEventListener("load",i),n&&o.removeEventListener("error",n)}},[])}function Yf(e){let{chartVersion:t="current",chartPackages:n=["corechart","controls"],chartLanguage:r="en",mapsApiKey:o}=e;const[i,a]=p.useState(null),[s,l]=p.useState(!1);return Kf("https://www.gstatic.com/charts/loader.js",()=>{const d=window==null?void 0:window.google;d&&(d.charts.load(t,{packages:n,language:r,mapsApiKey:o}),d.charts.setOnLoadCallback(()=>{a(d)}))},()=>{l(!0)}),[i,s]}function Jf(e){let{onLoad:t,onError:n,...r}=e;const[o,i]=Yf(r);return p.useEffect(()=>{o&&t&&t(o)},[o]),p.useEffect(()=>{i&&n&&n()},[i]),null}const Da={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}};let Pa=0;const Zf=()=>(Pa+=1,"reactgooglegraph-".concat(Pa)),Xf=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],Qf=async function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((r,o)=>{const i="".concat(n.headers?"headers=".concat(n.headers):"headers=0"),a="".concat(n.query?"&tq=".concat(encodeURIComponent(n.query)):""),s="".concat(n.gid?"&gid=".concat(n.gid):""),l="".concat(n.sheet?"&sheet=".concat(n.sheet):""),d="".concat(n.access_token?"&access_token=".concat(n.access_token):""),h="".concat(i).concat(s).concat(l).concat(a).concat(d),u="".concat(t,"/gviz/tq?").concat(h);new e.visualization.Query(u).send(f=>{f.isError()?o("Error in query:  ".concat(f.getMessage()," ").concat(f.getDetailedMessage())):r(f.getDataTable())})})},{Provider:em,Consumer:tm}=p.createContext(Da),nm=e=>{let{children:t,value:n}=e;return p.createElement(em,{value:n},t)},Ra=e=>{let{render:t}=e;return p.createElement(tm,null,n=>t(n))},rm="#CCCCCC";class om extends p.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){const{google:t,googleChartWrapper:n}=this.props;window.removeEventListener("resize",this.onResize),t.visualization.events.removeAllListeners(n),n.getChartType()==="Timeline"&&n.getChart()&&n.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...t){super(...t),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{const{google:n,googleChartWrapper:r}=this.props;n.visualization.events.addListener(r,"select",()=>{const o=r.getChart().getSelection(),i=r.getDataTable();if(o.length===0||o[0].row||!i)return;const a=o[0].column,s=this.getColumnID(i,a);this.state.hiddenColumns.includes(s)?this.setState(l=>({...l,hiddenColumns:[...l.hiddenColumns.filter(d=>d!==s)]})):this.setState(l=>({...l,hiddenColumns:[...l.hiddenColumns,s]}))})},this.applyFormatters=(n,r)=>{const{google:o}=this.props;for(let i of r)switch(i.type){case"ArrowFormat":{new o.visualization.ArrowFormat(i.options).format(n,i.column);break}case"BarFormat":{new o.visualization.BarFormat(i.options).format(n,i.column);break}case"ColorFormat":{const a=new o.visualization.ColorFormat(i.options),{ranges:s}=i;for(let l of s)a.addRange(...l);a.format(n,i.column);break}case"DateFormat":{new o.visualization.DateFormat(i.options).format(n,i.column);break}case"NumberFormat":{new o.visualization.NumberFormat(i.options).format(n,i.column);break}case"PatternFormat":{new o.visualization.PatternFormat(i.options).format(n,i.column);break}}},this.getColumnID=(n,r)=>n.getColumnId(r)||n.getColumnLabel(r),this.draw=async n=>{let{data:r,diffdata:o,rows:i,columns:a,options:s,legend_toggle:l,legendToggle:d,chartType:h,formatters:u,spreadSheetUrl:f,spreadSheetQueryParameters:m}=n;const{google:b,googleChartWrapper:C}=this.props;let S,k=null;if(o){const _=b.visualization.arrayToDataTable(o.old),O=b.visualization.arrayToDataTable(o.new);k=b.visualization[h].prototype.computeDiff(_,O)}r!==null?Array.isArray(r)?S=b.visualization.arrayToDataTable(r):S=new b.visualization.DataTable(r):i&&a?S=b.visualization.arrayToDataTable([a,...i]):f?S=await Qf(b,f,m):S=b.visualization.arrayToDataTable([]);const A=S.getNumberOfColumns();for(let _=0;_<A;_+=1){const O=this.getColumnID(S,_);if(this.state.hiddenColumns.includes(O)){const w=S.getColumnLabel(_),y=S.getColumnId(_),T=S.getColumnType(_);S.removeColumn(_),S.addColumn({label:w,id:y,type:T})}}const x=C.getChart();C.getChartType()==="Timeline"&&x&&x.clearChart(),C.setChartType(h),C.setOptions(s||{}),C.setDataTable(S),C.draw(),this.props.googleChartDashboard!==null&&this.props.googleChartDashboard.draw(S),k&&(C.setDataTable(k),C.draw()),u&&(this.applyFormatters(S,u),C.setDataTable(S),C.draw()),(d===!0||l===!0)&&this.grayOutHiddenColumns({options:s})},this.grayOutHiddenColumns=n=>{let{options:r}=n;const{googleChartWrapper:o}=this.props,i=o.getDataTable();if(!i)return;const a=i.getNumberOfColumns();if(!(this.state.hiddenColumns.length>0))return;const s=Array.from({length:a-1}).map((l,d)=>{const h=this.getColumnID(i,d+1);return this.state.hiddenColumns.includes(h)?rm:r&&r.colors?r.colors[d]:Xf[d]});o.setOptions({...r,colors:s}),o.draw()},this.onResize=()=>{const{googleChartWrapper:n}=this.props;n.draw()}}}class im extends p.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){const{google:t,googleChartWrapper:n,googleChartDashboard:r}=this.props;return p.createElement(Ra,{render:o=>p.createElement(om,Object.assign({},o,{google:t,googleChartWrapper:n,googleChartDashboard:r}))})}}class am extends p.Component{shouldComponentUpdate(){return!1}listenToEvents(t){let{chartEvents:n,google:r,googleChartWrapper:o}=t;if(n){r.visualization.events.removeAllListeners(o);for(let a of n){var i=this;const{eventName:s,callback:l}=a;r.visualization.events.addListener(o,s,function(){for(var d=arguments.length,h=new Array(d),u=0;u<d;u++)h[u]=arguments[u];l({chartWrapper:o,props:i.props,google:r,eventArgs:h})})}}}componentDidMount(){var t;const{google:n,googleChartWrapper:r}=this.props;this.listenToEvents({chartEvents:((t=this.propsFromContext)===null||t===void 0?void 0:t.chartEvents)||null,google:n,googleChartWrapper:r})}render(){return this.props,p.createElement(Ra,{render:t=>(this.propsFromContext=t,null)})}constructor(t){super(t),this.propsFromContext=null}}let Ia=0;class sm extends p.Component{componentDidMount(){const{options:t,google:n,chartType:r,chartWrapperParams:o,toolbarItems:i,getChartEditor:a,getChartWrapper:s}=this.props,l={chartType:r,options:t,containerId:this.getGraphID(),...o},d=new n.visualization.ChartWrapper(l);d.setOptions(t||{}),s&&s(d,n);const h=new n.visualization.Dashboard(this.dashboard_ref),u=this.addControls(d,h);i&&n.visualization.drawToolbar(this.toolbar_ref.current,i);let f=null;a&&(f=new n.visualization.ChartEditor,a({chartEditor:f,chartWrapper:d,google:n})),this.setState({googleChartEditor:f,googleChartControls:u,googleChartDashboard:h,googleChartWrapper:d,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper||!this.state.googleChartDashboard||!this.state.googleChartControls)return;const{controls:t}=this.props;if(t)for(let n=0;n<t.length;n+=1){const{controlType:r,options:o,controlWrapperParams:i}=t[n];i&&"state"in i&&this.state.googleChartControls[n].control.setState(i.state),this.state.googleChartControls[n].control.setOptions(o),this.state.googleChartControls[n].control.setControlType(r)}}shouldComponentUpdate(t,n){return this.state.isReady!==n.isReady||t.controls!==this.props.controls}render(){const{width:t,height:n,options:r,style:o}=this.props,i={height:n||r&&r.height,width:t||r&&r.width,...o};return this.props.render?p.createElement("div",{ref:this.dashboard_ref,style:i},p.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):p.createElement("div",{ref:this.dashboard_ref,style:i},this.renderControl(a=>{let{controlProp:s}=a;return s.controlPosition!=="bottom"}),this.renderChart(),this.renderControl(a=>{let{controlProp:s}=a;return s.controlPosition==="bottom"}),this.renderToolBar())}constructor(...t){var n;super(...t),n=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=p.createRef(),this.toolbar_ref=p.createRef(),this.getGraphID=()=>{const{graphID:r,graph_id:o}=this.props;let i;return!r&&!o?this.graphID?i=this.graphID:i=Zf():r&&!o?i=r:o&&!r?i=o:i=r,this.graphID=i,this.graphID},this.getControlID=(r,o)=>{Ia+=1;let i;return typeof r>"u"?i="googlechart-control-".concat(o,"-").concat(Ia):i=r,i},this.addControls=(r,o)=>{const{google:i,controls:a}=this.props,s=a?a.map((d,h)=>{const{controlID:u,controlType:f,options:m,controlWrapperParams:b}=d,C=this.getControlID(u,h);return{controlProp:d,control:new i.visualization.ControlWrapper({containerId:C,controlType:f,options:m,...b})}}):null;if(!s)return null;o.bind(s.map(d=>{let{control:h}=d;return h}),r);for(let d of s){const{control:h,controlProp:u}=d,{controlEvents:f=[]}=u;for(let m of f){var l=this;const{callback:b,eventName:C}=m;i.visualization.events.removeListener(h,C,b),i.visualization.events.addListener(h,C,function(){for(var S=arguments.length,k=new Array(S),A=0;A<S;A++)k[A]=arguments[A];b({chartWrapper:r,controlWrapper:h,props:l.props,google:i,eventArgs:k})})}}return s},this.renderChart=()=>{const{width:r,height:o,options:i,style:a,className:s,rootProps:l,google:d}=this.props,h={height:o||i&&i.height,width:r||i&&i.width,...a};return p.createElement("div",Object.assign({id:this.getGraphID(),style:h,className:s},l),this.state.isReady&&this.state.googleChartWrapper!==null?p.createElement(p.Fragment,null,p.createElement(im,{googleChartWrapper:this.state.googleChartWrapper,google:d,googleChartDashboard:this.state.googleChartDashboard}),p.createElement(am,{googleChartWrapper:this.state.googleChartWrapper,google:d})):null)},this.renderControl=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o=>!0;return n.state.isReady&&n.state.googleChartControls!==null?p.createElement(p.Fragment,null,n.state.googleChartControls.filter(o=>{let{controlProp:i,control:a}=o;return r({control:a,controlProp:i})}).map(o=>{let{control:i,controlProp:a}=o;return p.createElement("div",{key:i.getContainerId(),id:i.getContainerId()})})):null},this.renderToolBar=()=>this.props.toolbarItems?p.createElement("div",{ref:this.toolbar_ref}):null}}class Gr extends p.Component{render(){const{chartLanguage:t,chartPackages:n,chartVersion:r,mapsApiKey:o,loader:i,errorElement:a}=this.props;return p.createElement(nm,{value:this.props},this.state.loadingStatus==="ready"&&this.state.google!==null?p.createElement(sm,Object.assign({},this.props,{google:this.state.google})):this.state.loadingStatus==="errored"&&a?a:i,p.createElement(Jf,{chartLanguage:t,chartPackages:n,chartVersion:r,mapsApiKey:o,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(t){const{controls:n,toolbarItems:r,getChartEditor:o}=this.props;return t&&t.visualization&&t.visualization.ChartWrapper&&t.visualization.Dashboard&&(!n||t.visualization.ChartWrapper)&&(!o||t.visualization.ChartEditor)&&(!r||t.visualization.drawToolbar)}constructor(...t){super(...t),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=n=>{if(this.props.onLoad&&this.props.onLoad(n),this.isFullyLoaded(n))this.onSuccess(n);else{const r=setInterval(()=>{const o=window.google;this._isMounted?o&&this.isFullyLoaded(o)&&(clearInterval(r),this.onSuccess(o)):clearInterval(r)},1e3)}},this.onSuccess=n=>{this.setState({loadingStatus:"ready",google:n})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}Gr.defaultProps=Da;var $a;(function(e){e.annotation="annotation",e.annotationText="annotationText",e.certainty="certainty",e.emphasis="emphasis",e.interval="interval",e.scope="scope",e.style="style",e.tooltip="tooltip",e.domain="domain"})($a||($a={}));function Ze({title:e,data:t}){const n={title:e,chartArea:{width:"50%"},hAxis:{minValue:0},bars:"horizontal"};return c.jsx(c.Fragment,{children:t.length>1?c.jsx(Gr,{chartType:"BarChart",data:t,options:n,width:"100%",height:`${80*(t.length-1)}px`,legendToggle:!0}):null})}function Fa({title:e,data:t}){const n={title:e,pieHole:.3,is3D:!1};return c.jsx(c.Fragment,{children:t.length>1?c.jsx(Gr,{chartType:"PieChart",data:t,options:n,width:"100%",height:"300px"}):null})}function Kr(e,t){const n=e.filter(([r,o])=>t(r)&&Number(o)>1).map(([r,o])=>[r,Number(o)]);return n.sort((r,o)=>o[1]-r[1]),n}function cm(e,t){const n=Object.fromEntries(e),r=Object.fromEntries(t),o=[...new Set(e.map(([i,a])=>i).concat(t.map(([i,a])=>i)))].map(i=>[i,n[i]||0,r[i]||0]);return o.sort((i,a)=>a[2]-i[2]),o}function qn(e,t,n,r){const o=Kr(e,r),i=Kr(t,r);return[[n,"Canister","Wasm"]].concat(cm(o,i))}function Hn(e,t,n){const r=Kr(e,n);return[[t,"Wasm"]].concat(r)}function xt(e,t){return e.filter(([n,r])=>n.startsWith(t)).reduce((n,[r,o])=>n+Number(o),0)}function lm(e){return[["Code source","Wasm"],["file:new",xt(e,"file:new")],["example",xt(e,"example:")],["tag",xt(e,"tag:")],["git",xt(e,"git:")],["post",xt(e,"post:")],["wasm",xt(e,"upload:wasm")]]}function dm(){const[e,t]=p.useState([]),[n,r]=p.useState([]);return p.useEffect(()=>{async function o(){const[i,a,s]=await Re.getStats();t(a),r(s)}o()},[]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("h1",{style:{margin:0},children:"Motoko Playground"}),c.jsx("h2",{style:{opacity:.5},children:"Usage Statistics"})]}),c.jsx(Fa,{title:"Install mode",data:Hn(n,"Install mode",o=>o.startsWith("mode:"))}),c.jsx(Fa,{title:"Playground code source",data:lm(n)}),c.jsx(Ze,{title:"Origin",data:qn(e,n,"Origin",o=>o.startsWith("origin:"))}),c.jsx(Ze,{title:"Example",data:qn(e,n,"Example",o=>o.startsWith("example:")||o.startsWith("file:new"))}),c.jsx(Ze,{title:"Playground code imports",data:qn(e,n,"Playground imports",o=>o.startsWith("post:")||o.startsWith("git:")||o.startsWith("tag:")||o.startsWith("upload:wasm"))}),c.jsx(Ze,{title:"Reference link",data:qn(e,n,"Reference link",o=>o.startsWith("ref:"))}),c.jsx(Ze,{title:"Project imports",data:Hn(n,"Imports",o=>o.startsWith("import:"))}),c.jsx(Ze,{title:"Moc flags",data:Hn(n,"Moc",o=>o.startsWith("moc:"))}),c.jsx(Ze,{title:"Wasm properties",data:Hn(n,"Wasm",o=>o.startsWith("wasm:"))})]})}window.location.pathname==="/stats"?Ee(document.getElementById("root")).render(c.jsx(re.StrictMode,{children:c.jsx(dm,{})})):Ee(document.getElementById("root")).render(c.jsx(re.StrictMode,{children:c.jsx(Kd,{children:c.jsx(Gf,{})})}))});
